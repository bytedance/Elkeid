(window.webpackJsonp=window.webpackJsonp||[]).push([[135,394],{1409:function(e,t,n){e.exports={container:"container-f613c819e1","count-box":"count-box-6a25883431"}},1636:function(e,t,n){"use strict";function r(e){if(e>=1e3&&e<1e4){var t=(e/1e3).toFixed(1);return-1!==t.indexOf(".0")&&(t=t.slice(0,t.length-2)),"".concat(t,"k")}if(e>=1e4){var n=(e/1e4).toFixed(1);return-1!==n.indexOf(".0")&&(n=n.slice(0,n.length-2)),"".concat(n,"w")}return"".concat(e)}n.d(t,"a",(function(){return r}))},1656:function(e,t,n){"use strict";n(162);var r,c=n(67),a=n(1328),u=n(10),o=n.n(u),i=n(0),l=n.n(i),m=n(799),s=n(115),b=n.n(s),N=n(196),f=n(1636),d=n(1660),p=n.n(d);function _(){return(_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var v=function(e){return l.a.createElement("svg",_({width:6,height:8,fill:"none"},e),r||(r=l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.04 6.934a.5.5 0 010-.708l2.18-2.18L1.101 1.93a.5.5 0 010-.707l.353-.354a.5.5 0 01.707 0l2.829 2.828a.5.5 0 010 .708l-.354.353a.504.504 0 01-.055.048L2.1 7.287a.5.5 0 01-.707 0l-.354-.353z",fill:"currentColor"})))},O="/opt/tiger/compile_path/src/code.byted.org/biz-platform/hids/src/components/common/count-box/index.tsx";function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x=b.a.bind(p.a);t.a=function(e){var t=e.title,n=e.count,r=e.containerStyle,u=e.util,o=e.onClick,i=e.description;return l.a.createElement("div",{className:x("container",o&&"onclick"),style:j({},r),onClick:function(){o&&o()},__source:{fileName:O,lineNumber:35,columnNumber:5}},l.a.createElement("div",{className:x("title"),__source:{fileName:O,lineNumber:42,columnNumber:7}},l.a.createElement(m.a,{__source:{fileName:O,lineNumber:43,columnNumber:9}},t,o&&l.a.createElement(v,{__source:{fileName:O,lineNumber:45,columnNumber:23}}),i&&l.a.createElement(c.a,{content:i,__source:{fileName:O,lineNumber:47,columnNumber:13}},l.a.createElement(a.a,{__source:{fileName:O,lineNumber:48,columnNumber:15}})))),l.a.createElement("div",{className:x("count-box"),__source:{fileName:O,lineNumber:53,columnNumber:7}},l.a.createElement("span",{className:x("count"),__source:{fileName:O,lineNumber:54,columnNumber:9}},l.a.createElement(N.c,{__source:{fileName:O,lineNumber:55,columnNumber:11}},void 0===n?"-":Object(f.a)(n))),l.a.createElement("span",{className:x("util"),__source:{fileName:O,lineNumber:59,columnNumber:9}},u)))}},1660:function(e,t,n){e.exports={container:"container-7a1454a3b0",onclick:"onclick-f44f298af4",title:"title-b0e4e17406","count-box":"count-box-9b4b5d88dd",count:"count-c32c42556a",util:"util-4b537f2a04"}},1716:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return c})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return b}));var r,c,a=n(10),u=n.n(a),o=n(54),i=n(12);function l(){return Object(o.b)({url:"/api/v6/exposure/ContainerStatistic",method:"GET"},Object(i.g)("获取容器集群风险统计信息"))}function m(e){return Object(o.b)({url:"/api/v6/exposure/GetExposurePath",params:e,method:"GET"},Object(i.g)("获取暴露路径图数据"))}!function(e){e.intranet="intranet",e.extranet="extranet"}(c||(c={}));var s=(r={},u()(r,c.intranet,Object(i.g)("私网暴露")),u()(r,c.extranet,Object(i.g)("公网暴露")),r);function b(e,t){return Object(o.b)({url:"/api/v6/exposure/GetContainerRiskList",params:e,data:t,method:"POST"},Object(i.g)("获取容器集群风险列表"))}},1745:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"f",(function(){return m})),n.d(t,"e",(function(){return s})),n.d(t,"a",(function(){return b})),n.d(t,"d",(function(){return N}));var r,c,a=n(10),u=n.n(a),o=n(54),i=n(12);function l(){return Object(o.b)({url:"/api/v6/exposure/DescribeHostStatistics",method:"GET"},Object(i.g)("获取主机风险统计信息"))}!function(e){e.ip="ip",e.service="service"}(c||(c={}));var m=(r={},u()(r,c.ip,Object(i.g)("公网暴露")),u()(r,c.service,Object(i.g)("对外服务")),r);function s(e,t){return Object(o.b)({url:"/api/v6/exposure/DescribeHosts",params:e,data:t,method:"POST"},Object(i.g)("获取主机暴露面列表"))}function b(e){return Object(o.b)({url:"/api/v6/exposure/DescribeHostDetail",params:e,method:"GET"},Object(i.g)("获取主机暴露面详情"))}function N(e,t){return Object(o.b)({url:"/api/v6/exposure/DescribeHostServices",params:e,data:t,method:"POST"},Object(i.g)("获取主机暴露面服务列表"))}},407:function(e,t,n){"use strict";n.r(t);var r=n(28),c=n.n(r),a=n(16),u=n.n(a),o=n(0),i=n.n(o),l=n(1292),m=n(115),s=n.n(m),b=n(1656),N=n(196),f=n(1745),d=n(1716),p=n(12),_=n(1409),v=n.n(_),O="/opt/tiger/compile_path/src/code.byted.org/biz-platform/hids/src/pages/exposure/overview/index.tsx",g=s.a.bind(v.a);t.default=function(e){var t=e.type,n=Object(l.a)(c()(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.b)();case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)}))),{ready:"host"===t,auto:!0}),r=n.data,a=n.loading,o=n.error,m=Object(l.a)(c()(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.a)();case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)}))),{ready:"kube"===t,auto:!0}),s=m.data,_=m.loading,v=m.error;return"host"===t?i.a.createElement(N.a,{loading:a,error:o,displayType:N.b.element,errorStyle:{margin:"2px 0"},__source:{fileName:O,lineNumber:37,columnNumber:7}},i.a.createElement("div",{className:g("container"),__source:{fileName:O,lineNumber:43,columnNumber:9}},i.a.createElement("div",{className:g("count-box"),__source:{fileName:O,lineNumber:44,columnNumber:11}},i.a.createElement(b.a,{title:Object(p.g)("暴露资产数量"),count:null==r?void 0:r.host,__source:{fileName:O,lineNumber:45,columnNumber:13}})),i.a.createElement("div",{className:g("count-box"),__source:{fileName:O,lineNumber:47,columnNumber:11}},i.a.createElement(b.a,{title:Object(p.g)("弱口令"),count:null==r?void 0:r.weak_password,__source:{fileName:O,lineNumber:48,columnNumber:13}})),i.a.createElement("div",{className:g("count-box"),__source:{fileName:O,lineNumber:50,columnNumber:11}},i.a.createElement(b.a,{title:Object(p.g)("高可利用性漏洞"),count:null==r?void 0:r.high_available_vuln,__source:{fileName:O,lineNumber:51,columnNumber:13}})),i.a.createElement("div",{className:g("count-box"),__source:{fileName:O,lineNumber:53,columnNumber:11}},i.a.createElement(b.a,{title:Object(p.g)("入侵检测告警"),count:null==r?void 0:r.alarm,__source:{fileName:O,lineNumber:54,columnNumber:13}})))):i.a.createElement(N.a,{loading:_,error:v,displayType:N.b.element,errorStyle:{margin:"2px 0"},__source:{fileName:O,lineNumber:61,columnNumber:5}},i.a.createElement("div",{className:g("container"),__source:{fileName:O,lineNumber:67,columnNumber:7}},i.a.createElement("div",{className:g("count-box"),__source:{fileName:O,lineNumber:68,columnNumber:9}},i.a.createElement(b.a,{title:Object(p.g)("暴露资产数量"),count:null==s?void 0:s.agent_num,__source:{fileName:O,lineNumber:69,columnNumber:11}})),i.a.createElement("div",{className:g("count-box"),__source:{fileName:O,lineNumber:71,columnNumber:9}},i.a.createElement(b.a,{title:Object(p.g)("公网暴露资产数"),count:null==s?void 0:s.public_num,description:Object(p.g)("集群的 Node、Workloads 暴露到了公网，任何人都可访问它们。（注：VPC 内的任意客户端也均可访问它们）"),__source:{fileName:O,lineNumber:72,columnNumber:11}})),i.a.createElement("div",{className:g("count-box"),__source:{fileName:O,lineNumber:80,columnNumber:9}},i.a.createElement(b.a,{title:Object(p.g)("私网暴露资产数"),count:null==s?void 0:s.private_num,description:Object(p.g)("集群的 Workloads 仅暴露到了 VPC 私网，VPC 内的任意客户端均可访问它们。（注：集群的 Node 默认暴露在 VPC 私网内，因此不做统计和展示）"),__source:{fileName:O,lineNumber:81,columnNumber:11}})),i.a.createElement("div",{className:g("count-box"),__source:{fileName:O,lineNumber:89,columnNumber:9}},i.a.createElement(b.a,{title:Object(p.g)("关联 RBAC 权限的资产数"),count:null==s?void 0:s.rbac_num,description:Object(p.g)("Workloads 关联了非默认的服务账户，可能具有访问集群 API Server 的特权"),__source:{fileName:O,lineNumber:90,columnNumber:11}}))))}}}]);