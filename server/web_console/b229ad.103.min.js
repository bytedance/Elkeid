(window.webpackJsonp=window.webpackJsonp||[]).push([[103,160,314,315,386,387],{1439:function(e,t,n){e.exports={"add-white-modal":"add-white-modal-dbf5cd312e","host-name":"host-name-e2127d2514","link-tips":"link-tips-bc376d99d7","back-latency-tips":"back-latency-tips-30cac3f8a7","add-util":"add-util-9def112403",add:"add-4329814ed2","add-tips-one":"add-tips-one-e1f073958b","add-tips-two":"add-tips-two-f136741c6b","delete-icon-box":"delete-icon-box-ff6d8586a3","EnUS-form":"EnUS-form-42a19b9131","ZhCN-form":"ZhCN-form-09a76de799"}},1519:function(e,t,n){e.exports={header:"header-2fb3cff32e","card-block":"card-block-800a2f253c",title:"title-e323b5f7a9",icon:"icon-1000071539",status:"status-6a7219f0fb",more:"more-a4e84b00e8","title-more":"title-more-e3f55b8ec8",time:"time-84d8b72616",content:"content-9b901cc695",extra:"extra-2a764183c7","card-block-skeleton":"card-block-skeleton-b2a8d90baa","match-box":"match-box-bc8cc1adc9","match-key":"match-key-e6903d635a","match-type":"match-type-dc5bd23460","match-value":"match-value-01da73e120"}},1608:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0),a=n.n(r),c=n(70),l=n.n(c),o="/opt/tiger/compile_path/src/code.byted.org/biz-platform/hids/src/utils/get-display-time.tsx";function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD HH:mm:ss",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e){var r=l.a.unix(e).format(t);if(n){var c=null==r?void 0:r.split(" ");return a.a.createElement(a.a.Fragment,null,null==c?void 0:c.map((function(e){return a.a.createElement("div",{key:e,__source:{fileName:o,lineNumber:12,columnNumber:13}},e)})))}return r}return"-"}},1613:function(e,t,n){"use strict";n(116);var r,a=n(42),c=n(1),l=n.n(c),o=n(2),i=n.n(o),u=n(0),m=n.n(u),s=n(115),b=n.n(s);function d(){return(d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var p=function(e){return m.a.createElement("svg",d({width:12,height:12,fill:"none"},e),r||(r=m.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.35 1.867a6 6 0 101.146 6.544c.1-.23.217-.612.294-.882a.245.245 0 00-.236-.313l-1.035-.004c-.11 0-.206.07-.24.173a5.995 5.995 0 01-.156.423 4.5 4.5 0 11-.909-4.958H8a.25.25 0 00-.25.25V4c0 .138.112.25.25.25h3.5a.25.25 0 00.25-.25V.5a.25.25 0 00-.25-.25h-.9a.25.25 0 00-.25.25v1.367z",fill:"#424E66"})))},f=n(1627),v=n.n(f),N="/opt/tiger/compile_path/src/code.byted.org/biz-platform/hids/src/components/common/refresh-button/index.tsx",h=["onRefresh","className"],g=b.a.bind(v.a);t.a=function(e){var t=e.onRefresh,n=e.className,r=i()(e,h);return m.a.createElement(a.a,l()({className:g("refresh-icon",n),onClick:t},r,{__source:{fileName:N,lineNumber:17,columnNumber:5}}),m.a.createElement(p,{__source:{fileName:N,lineNumber:18,columnNumber:7}}))}},1616:function(e,t,n){"use strict";n(803);var r=n(227),a=n(10),c=n.n(a),l=n(0),o=n.n(l),i="/opt/tiger/compile_path/src/code.byted.org/biz-platform/hids/src/components/common/ellipsis-box/index.tsx";function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.a=function(e){var t=e.content,n=e.style,a=e.className,c=e.tooltipProps;return o.a.createElement(r.a.Paragraph,{className:a,style:m({marginBottom:0},n),ellipsis:{rows:1,showTooltip:{type:"tooltip",props:m(m({},c),{},{content:o.a.createElement("span",{style:{wordBreak:"break-all"},__source:{fileName:i,lineNumber:22,columnNumber:22}},t)})}},key:t,__source:{fileName:i,lineNumber:13,columnNumber:5}},t)}},1627:function(e,t,n){e.exports={"refresh-icon":"refresh-icon-823d727e47"}},1628:function(e,t,n){"use strict";n(1314);var r=n(810),a=n(1),c=n.n(a),l=n(10),o=n.n(l),i=n(2),u=n.n(i),m=n(0),s=n.n(m),b=["onChange","pagination"];function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.a=function(e){var t=e.onChange,n=e.pagination,a=u()(e,b);return s.a.createElement(r.a,c()({onChange:function(e,n,r,a){"filter"===a.action||"sort"===a.action?t(p(p({},e),{},{current:1}),n,r,a):t(e,n,r,a)},border:!1,pagination:(null==n?void 0:n.total)>10&&p(p({},n),{},{sizeCanChange:!0,sizeOptions:[10,20,50,100]})},a,{__source:{fileName:"/opt/tiger/compile_path/src/code.byted.org/biz-platform/hids/src/components/common/table/index.tsx",lineNumber:6,columnNumber:5}}))}},1648:function(e,t,n){"use strict";var r,a,c=n(0),l=n.n(c);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.a=function(e){return l.a.createElement("svg",o({width:12,height:11,fill:"none"},e),r||(r=l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 .667C4 .298 4.298 0 4.667 0h2c.368 0 .666.298.666.667v.166a.5.5 0 00.5.5H10.8c.187 0 .28 0 .351.037a.333.333 0 01.146.145c.036.072.036.165.036.352v.266c0 .187 0 .28-.036.352a.333.333 0 01-.146.145c-.071.037-.164.037-.351.037h-.3a.5.5 0 00-.5.5v6.5a.667.667 0 01-.667.666H2a.667.667 0 01-.667-.666v-6.5a.5.5 0 00-.5-.5h-.3c-.186 0-.28 0-.351-.037a.333.333 0 01-.146-.145C0 2.413 0 2.32 0 2.133v-.266c0-.187 0-.28.036-.352a.333.333 0 01.146-.145c.071-.037.165-.037.351-.037H3.5a.5.5 0 00.5-.5V.667zM3.667 5c0-.184.149-.333.333-.333h.667C4.85 4.667 5 4.816 5 5v2.667C5 7.85 4.85 8 4.667 8H4a.333.333 0 01-.333-.333V5zm2.666 0c0-.184.15-.333.334-.333h.666c.184 0 .334.149.334.333v2.667c0 .184-.15.333-.334.333h-.666a.333.333 0 01-.334-.333V5z",fill:"#4E5969"})),l.a.createElement("mask",{id:"trash-can_svg__a",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:0,y:0,width:12,height:11},a||(a=l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 .667C4 .298 4.298 0 4.667 0h2c.368 0 .666.298.666.667v.666H10.8c.187 0 .28 0 .351.037a.333.333 0 01.146.145c.036.072.036.165.036.352v.266c0 .187 0 .28-.036.352a.333.333 0 01-.146.145c-.071.037-.164.037-.351.037H10v7a.667.667 0 01-.667.666H2a.667.667 0 01-.667-.666v-7h-.8c-.186 0-.28 0-.351-.037a.333.333 0 01-.146-.145C0 2.413 0 2.32 0 2.133v-.266c0-.187 0-.28.036-.352a.333.333 0 01.146-.145c.071-.037.165-.037.351-.037H4V.667zM3.667 5c0-.184.149-.333.333-.333h.667C4.85 4.667 5 4.816 5 5v2.667C5 7.85 4.85 8 4.667 8H4a.333.333 0 01-.333-.333V5zm2.666 0c0-.184.15-.333.334-.333h.666c.184 0 .334.149.334.333v2.667c0 .184-.15.333-.334.333h-.666a.333.333 0 01-.334-.333V5z",fill:"#fff"}))))}},1649:function(e,t,n){"use strict";var r,a,c=n(0),l=n.n(c);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.a=function(e){return l.a.createElement("svg",o({width:12,height:12,fill:"none"},e),r||(r=l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.333 1.466c0-.368.299-.666.667-.666h2c.368 0 .667.298.667.666v.167a.5.5 0 00.5.5h2.966c.187 0 .28 0 .352.036a.334.334 0 01.145.146c.037.071.037.165.037.351v.267c0 .187 0 .28-.037.351a.334.334 0 01-.145.146c-.072.036-.165.036-.352.036h-.3a.5.5 0 00-.5.5v6.5a.667.667 0 01-.666.667H2.333a.667.667 0 01-.666-.666v-6.5a.5.5 0 00-.5-.5h-.3c-.187 0-.28 0-.352-.037a.333.333 0 01-.145-.146c-.037-.07-.037-.164-.037-.35v-.268c0-.186 0-.28.037-.35a.333.333 0 01.145-.147c.072-.036.165-.036.352-.036h2.966a.5.5 0 00.5-.5v-.167zM4 5.8c0-.184.15-.334.333-.334H5c.184 0 .333.15.333.334v2.666c0 .185-.149.334-.333.334h-.667A.333.333 0 014 8.466V5.8zm2.667 0c0-.184.149-.334.333-.334h.667c.184 0 .333.15.333.334v2.666c0 .185-.15.334-.333.334H7a.333.333 0 01-.333-.334V5.8z",fill:"#C9CDD4"})),l.a.createElement("mask",{id:"trash-can-disabled_svg__a",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:0,y:0,width:12,height:12},a||(a=l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.333 1.466c0-.368.299-.666.667-.666h2c.368 0 .667.298.667.666v.667h3.466c.187 0 .28 0 .352.036a.334.334 0 01.145.146c.037.071.037.165.037.351v.267c0 .187 0 .28-.037.351a.334.334 0 01-.145.146c-.072.036-.165.036-.352.036h-.8v7a.667.667 0 01-.666.667H2.333a.667.667 0 01-.666-.666v-7h-.8c-.187 0-.28 0-.352-.037a.333.333 0 01-.145-.146c-.037-.07-.037-.164-.037-.35v-.268c0-.186 0-.28.037-.35a.333.333 0 01.145-.147c.072-.036.165-.036.352-.036h3.466v-.667zM4 5.8c0-.184.15-.334.333-.334H5c.184 0 .333.15.333.334v2.666c0 .185-.149.334-.333.334h-.667A.333.333 0 014 8.466V5.8zm2.667 0c0-.184.149-.334.333-.334h.667c.184 0 .333.15.333.334v2.666c0 .185-.15.334-.333.334H7a.333.333 0 01-.333-.334V5.8z",fill:"#fff"}))))}},1698:function(e,t,n){"use strict";n.r(t),n.d(t,"CompTypeEnum",(function(){return r})),n.d(t,"PlatformFamilyOptions",(function(){return u})),n.d(t,"MatchType",(function(){return i})),n.d(t,"MatchTypeOptions",(function(){return s})),n.d(t,"FieldType",(function(){return m})),n.d(t,"FieldTypeOptions",(function(){return b})),n.d(t,"ArchOptions",(function(){return d})),n.d(t,"DescribeComponentList",(function(){return p})),n.d(t,"DescribeComponent",(function(){return f})),n.d(t,"CreateComponent",(function(){return v})),n.d(t,"DescribeComponentVersionList",(function(){return N})),n.d(t,"PublishComponentVersion",(function(){return h})),n.d(t,"DescribeRecommendComponentVersion",(function(){return g})),n.d(t,"DescribePolicyList",(function(){return _})),n.d(t,"CreatePolicy",(function(){return O})),n.d(t,"DeletePolicy",(function(){return y})),n.d(t,"DescribeComponentCriteria",(function(){return j})),n.d(t,"DescribeComponentVersionCriteria",(function(){return E}));var r,a=n(50),c=n.n(a),l=n(54),o=n(12);!function(e){e.agent="agent",e.exec="exec",e.tar_gz="tar.gz"}(r||(r={}));var i,u=[{label:"RHEL",value:"rhel"},{label:"Debian",value:"debian"}];!function(e){e.IN="$in",e.Regex="$regex"}(i||(i={}));var m,s=[{label:Object(o.g)("包含于"),value:i.IN},{label:Object(o.g)("正则匹配"),value:i.Regex}];!function(e){e.AgentID="agent_id",e.Tag="tag",e.KernelVersion="kernel_version"}(m||(m={}));var b=[{label:Object(o.g)("AgentID"),value:m.AgentID},{label:Object(o.g)("标签"),value:m.Tag},{label:Object(o.g)("内核版本"),value:m.KernelVersion}],d=[{label:"x86-64",value:"x86_64"},{label:"AArch64",value:"aarch64"}],p=function(e){var t=e.params;return Object(l.b)({method:"post",url:"/api/v6/component/DescribeComponentList",params:t},Object(o.g)("获取组件列表"))},f=function(e){var t=e.params;return Object(l.b)({method:"get",url:"/api/v6/component/DescribeComponent",params:t},Object(o.g)("获取组件信息"))},v=function(e){var t=e.data;return Object(l.b)({method:"post",url:"/api/v6/component/CreateComponent",data:t},Object(o.g)("新建组件"),!0)},N=function(e){var t=e.params,n=e.data;return Object(l.b)({method:"post",url:"/api/v6/component/DescribeComponentVersionList",params:t,data:n},Object(o.g)("获取组件版本列表"))},h=function(e){var t,n=e.data,r={};return n&&(r["Content-Type"]="multipart/form-data",t=new FormData,Object.entries(n).forEach((function(e){var n=c()(e,2),r=n[0],a=n[1];t.append(r,a)}))),Object(l.b)({method:"post",url:"/api/v6/component/PublishComponentVersion",data:t,headers:r,timeout:12e4},Object(o.g)("发布组件版本"),!0)},g=function(e){var t=e.params;return Object(l.b)({method:"get",url:"/api/v6/component/DescribeRecommendComponentVersion",params:t},Object(o.g)("获取建议的组件版本"))},_=function(e){var t=e.params,n=e.data;return Object(l.b)({method:"post",url:"/api/v6/component/DescribePolicyList",params:t,data:n},Object(o.g)("获取策略列表"))},O=function(e){var t=e.data;return Object(l.b)({method:"post",url:"/api/v6/component/CreatePolicy",data:t},Object(o.g)("新建策略"))},y=function(e){var t=e.data;return Object(l.b)({method:"post",url:"/api/v6/component/DeletePolicy",data:t},Object(o.g)("删除策略"),!0,!0)},j=function(){return Object(l.b)({method:"get",url:"/api/v6/component/DescribeComponentCriteria"},Object(o.g)("获取组件类别"))},E=function(e){var t=e.params;return Object(l.b)({method:"get",url:"/api/v6/component/DescribeComponentVersionCriteria",params:t},Object(o.g)("获取组件版本列表"))}},1741:function(e,t,n){"use strict";n(162);var r=n(67),a=n(10),c=n.n(a),l=n(2),o=n.n(l),i=n(0),u=n.n(i),m=n(52),s=n(12),b=n(145),d="/opt/tiger/compile_path/src/code.byted.org/biz-platform/hids/src/components/global/authority-check-editable/index.tsx",p=["children"];function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.a=function(e){var t,n=e.children,a=o()(e,p),c=Object(m.f)(b.k);return Array.isArray(n)?u.a.createElement(r.a,{disabled:c,content:Object(s.g)("当前用户无编辑权限"),__source:{fileName:d,lineNumber:44,columnNumber:7}},u.a.Children.map(n,(function(e){var t;return u.a.cloneElement(e,v(v({},a),{},{disabled:!c||(null==e||null===(t=e.props)||void 0===t?void 0:t.disabled)}))}))):u.a.createElement(r.a,{disabled:c,content:Object(s.g)("当前用户无编辑权限"),__source:{fileName:d,lineNumber:56,columnNumber:5}},u.a.cloneElement(n,v(v({},a),{},{disabled:!c||(null==n||null===(t=n.props)||void 0===t?void 0:t.disabled)})))}},445:function(e,t,n){"use strict";n.r(t);n(116);var r,a=n(42),c=n(168),l=(n(595),n(298)),o=(n(197),n(117)),i=(n(162),n(67)),u=(n(224),n(97)),m=n(28),s=n.n(m),b=n(50),d=n.n(b),p=(n(600),n(198)),f=(n(806),n(199)),v=n(603),N=n.n(v),h=n(16),g=n.n(h),_=n(0),O=n.n(_),y=n(799),j=n(115),E=n.n(j),C=n(604),w=n(613),k=n(1698),x=n(12),P=n(1648),D=n(1649),z=n(1439),V=n.n(z),R="/opt/tiger/compile_path/src/code.byted.org/biz-platform/hids/src/pages/comp-policy/comp-modal/index.tsx",S=E.a.bind(V.a),T=Object(C.a)(f.a)(r||(r=N()(["\n  .arco-form-label-item {\n    flex: unset;\n  }\n  .arco-form-item-wrapper {\n    flex: unset;\n  }\n"]))),H=p.a.Option;t.default=function(e){var t=e.visible,n=e.data,r=e.handleConfirm,m=e.handleCancel,b=Object(x.g)("新建策略"),v=f.a.useForm(),N=d()(v,1)[0],h=Object(_.useState)([]),j=d()(h,2),E=j[0],C=j[1],z=Object(_.useState)([]),V=d()(z,2),I=V[0],M=V[1],A=Object(_.useState)(""),F=d()(A,2),L=F[0],B=F[1];Object(_.useEffect)((function(){t?n&&N.setFieldsValue(n):N.resetFields()}),[t,n]);var q=function(){var e=s()(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.validate();case 2:return t=e.sent,e.next=5,Object(k.CreatePolicy)({data:t});case 5:r(),B("");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return O.a.createElement(w.b,{visible:t,onCancel:function(){B(""),m()},onOk:q,className:S("add-white-modal"),style:{width:x.d?720:620},title:b,__source:{fileName:R,lineNumber:65,columnNumber:5}},O.a.createElement(T,{form:N,colon:!1,labelAlign:"right",labelCol:x.d?{span:6}:{span:4},wrapperCol:x.d?{span:18}:{span:20},__source:{fileName:R,lineNumber:76,columnNumber:7}},O.a.createElement(f.a.Item,{label:Object(x.g)("组件名称"),rules:[{required:!0,message:Object(x.g)("请选择组件名称")}],__source:{fileName:R,lineNumber:83,columnNumber:9}},O.a.createElement(p.a,{placeholder:"Please select ...",showSearch:!0,labelInValue:!0,value:L,onChange:function(e){return B(e.value)},onVisibleChange:function(e){e&&Object(k.DescribeComponentCriteria)().then((function(e){C(e.data)})).catch((function(){u.a.error("unexcepted error")}))},__source:{fileName:R,lineNumber:92,columnNumber:11}},E.map((function(e){return O.a.createElement(H,{key:e.key,value:e.key,__source:{fileName:R,lineNumber:112,columnNumber:17}},e.value)})))),O.a.createElement(f.a.Item,{field:"component_version_id",label:Object(x.g)("组件版本"),rules:[{required:!0,message:Object(x.g)("请选择组件版本")}],__source:{fileName:R,lineNumber:119,columnNumber:9}},O.a.createElement(p.a,{placeholder:"Please select ...",showSearch:!0,onVisibleChange:function(e){e&&""!==L&&Object(k.DescribeComponentVersionCriteria)({params:{component_id:L}}).then((function(e){M(e.data)})).catch((function(){u.a.error("unexcepted error")}))},__source:{fileName:R,lineNumber:129,columnNumber:11}},I.map((function(e){return O.a.createElement(H,{key:e.key,value:e.key,__source:{fileName:R,lineNumber:146,columnNumber:17}},e.value)})))),O.a.createElement(f.a.Item,{label:O.a.createElement(i.a,{mini:!0,content:Object(x.g)("数组以无空格间隔的逗号分隔"),__source:{fileName:R,lineNumber:155,columnNumber:13}},Object(x.g)("屏蔽规则")),rules:[{required:!0,message:Object(x.g)("请输入")}],__source:{fileName:R,lineNumber:153,columnNumber:9}},O.a.createElement(f.a.List,{field:"rules",__source:{fileName:R,lineNumber:161,columnNumber:11}},(function(e,t){var n,r=t.add,u=t.remove;return O.a.createElement("div",{__source:{fileName:R,lineNumber:164,columnNumber:17}},e.map((function(t,n){return O.a.createElement(l.a.Row,{key:t.key,__source:{fileName:R,lineNumber:167,columnNumber:23}},O.a.createElement(f.a.Item,{field:"".concat(null==t?void 0:t.field,"['key']"),rules:[{required:!0,message:Object(x.g)("不能为空")}],style:{width:134,marginRight:8},validateTrigger:"onBlur",__source:{fileName:R,lineNumber:168,columnNumber:25}},O.a.createElement(p.a,{placeholder:Object(x.g)("请选择匹配字段"),__source:{fileName:R,lineNumber:179,columnNumber:27}},k.FieldTypeOptions.map((function(e){return O.a.createElement(H,{value:e.value,key:e.value,__source:{fileName:R,lineNumber:182,columnNumber:33}},O.a.createElement(y.a,{style:{whiteSpace:"pre-wrap",wordBreak:"break-all",display:"inline-block"},key:e.value,__source:{fileName:R,lineNumber:183,columnNumber:35}},e.label))})))),O.a.createElement(f.a.Item,{field:"".concat(null==t?void 0:t.field,"['operator']"),rules:[{required:!0,message:Object(x.g)("不能为空")}],style:{width:134,marginRight:8},validateTrigger:"onBlur",__source:{fileName:R,lineNumber:198,columnNumber:25}},O.a.createElement(p.a,{placeholder:Object(x.g)("请选择匹配方式"),__source:{fileName:R,lineNumber:209,columnNumber:27}},k.MatchTypeOptions.map((function(e){return O.a.createElement(H,{value:e.value,key:e.value,__source:{fileName:R,lineNumber:211,columnNumber:31}},O.a.createElement(y.a,{style:{whiteSpace:"pre-wrap",wordBreak:"break-all",display:"inline-block"},key:e.value,__source:{fileName:R,lineNumber:212,columnNumber:33}},e.label))})))),O.a.createElement(f.a.Item,{field:"".concat(null==t?void 0:t.field,"['value']"),rules:[{required:!0,message:Object(x.g)("不能为空")}],style:{width:168},validateTrigger:"onBlur",__source:{fileName:R,lineNumber:226,columnNumber:25}},O.a.createElement(o.a,{placeholder:Object(x.g)("请输入匹配内容"),__source:{fileName:R,lineNumber:237,columnNumber:27}})),O.a.createElement("span",{className:S("delete-icon-box"),__source:{fileName:R,lineNumber:239,columnNumber:25}},(null==e?void 0:e.length)>1?O.a.createElement(i.a,{content:Object(x.g)("删除规则"),getPopupContainer:function(){var e;return null===(e=document.getElementsByTagName("body"))||void 0===e?void 0:e[0]},__source:{fileName:R,lineNumber:241,columnNumber:29}},O.a.createElement(P.a,{style:{cursor:"pointer"},onClick:function(){u(n)},__source:{fileName:R,lineNumber:245,columnNumber:31}})):O.a.createElement(i.a,{content:Object(x.g)("至少保留1个规则"),getPopupContainer:function(){var e;return null===(e=document.getElementsByTagName("body"))||void 0===e?void 0:e[0]},__source:{fileName:R,lineNumber:253,columnNumber:29}},O.a.createElement(D.a,{style:{cursor:"not-allowed"},__source:{fileName:R,lineNumber:257,columnNumber:31}}))))})),(null==e?void 0:e.length)<5?O.a.createElement("div",{className:S("add-util"),__source:{fileName:R,lineNumber:270,columnNumber:21}},O.a.createElement("div",{className:S("add"),onClick:function(){r()},__source:{fileName:R,lineNumber:271,columnNumber:23}},O.a.createElement(a.a,{type:"primary",icon:O.a.createElement(c.a,{__source:{fileName:R,lineNumber:277,columnNumber:54}}),size:"mini",__source:{fileName:R,lineNumber:277,columnNumber:25}}),O.a.createElement("span",{className:S("add-tips-one"),__source:{fileName:R,lineNumber:278,columnNumber:25}},Object(x.g)("新增规则"))),O.a.createElement("span",{className:S("add-tips-two"),__source:{fileName:R,lineNumber:281,columnNumber:23}},Object(x.g)('还可新增{placeholder1}个规则,规则之间是"或"的关系',{placeholder1:5-(null!==(n=null==e?void 0:e.length)&&void 0!==n?n:0)}))):null)})))))}},513:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=(n(224),n(97)),l=(n(116),n(42)),o=(n(1298),n(1299)),i=n(50),u=n.n(i),m=n(28),s=n.n(m),b=n(16),d=n.n(b),p=n(0),f=n.n(p),v=n(599),N=n(115),h=n.n(N),g=n(596),_=n(1616),O=n(1613),y=n(1628),j=n(594),E=n(1741),C=n(445),w=n(1698),k=n(1608),x=n(12),P=n(1519),D=n.n(P),z="/opt/tiger/compile_path/src/code.byted.org/biz-platform/hids/src/pages/comp-policy/index.tsx",V=h.a.bind(D.a),R={};t.default=function(){var e=Object(v.a)(function(){var e=s()(d.a.mark((function e(t){var r,a,c,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.current,c=t.pageSize,e.next=3,Object(w.DescribePolicyList)({params:{page:a,page_size:c},data:n});case 3:return l=e.sent,e.abrupt("return",{list:(null==l?void 0:l.data)||[],total:(null==l||null===(r=l.page_info)||void 0===r?void 0:r.total)||0});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{auto:!0,defaultParams:[{filters:R}],onChangeDeps:[]}),t=e.tableProps,n=e.filters,r=e.refresh,i=Object(p.useState)(!1),m=u()(i,2),b=m[0],N=m[1],h=[{title:Object(x.g)("组件名称"),dataIndex:"component_version.component.name"},{title:Object(x.g)("组件版本"),dataIndex:"component_version.version"},{title:Object(x.g)("屏蔽规则"),dataIndex:"rules",render:function(e){var t;return null!==(t=null==e?void 0:e.map((function(e){var t,n,r,a;return f.a.createElement("div",{className:V("match-box"),__source:{fileName:z,lineNumber:77,columnNumber:15}},f.a.createElement("div",{className:V("match-key"),__source:{fileName:z,lineNumber:78,columnNumber:17}},f.a.createElement(_.a,{content:null!==(t=null===(n=w.FieldTypeOptions.find((function(t){return t.value===e.key})))||void 0===n?void 0:n.label)&&void 0!==t?t:"-",__source:{fileName:z,lineNumber:79,columnNumber:19}})),f.a.createElement("div",{className:V("match-type"),__source:{fileName:z,lineNumber:87,columnNumber:17}},null!==(r=null===(a=w.MatchTypeOptions.find((function(t){return t.value===e.operator})))||void 0===a?void 0:a.label)&&void 0!==r?r:"-"),f.a.createElement("div",{className:V("match-value"),__source:{fileName:z,lineNumber:92,columnNumber:17}},f.a.createElement(_.a,{content:e.value,__source:{fileName:z,lineNumber:93,columnNumber:19}})))})))&&void 0!==t?t:"-"}},{title:Object(x.g)("创建时间"),dataIndex:"create_time",render:function(e,t){var n;return null!==(n=Object(k.a)(t.create_time))&&void 0!==n?n:"-"}},{title:Object(x.g)("创建者"),dataIndex:"creator"},{title:Object(x.g)("操作"),width:"140px",dataIndex:"operation",headerCellStyle:{paddingLeft:"8px"},render:function(e,t){return f.a.createElement(f.a.Fragment,null,f.a.createElement("span",{__source:{fileName:z,lineNumber:122,columnNumber:13}},f.a.createElement(o.a,{title:Object(x.g)("确定要删除此策略吗？"),onOk:function(){Object(w.DeletePolicy)({data:{id:t.id}}).then((function(){r()}))},__source:{fileName:z,lineNumber:123,columnNumber:15}},f.a.createElement(j.a,{__source:{fileName:z,lineNumber:131,columnNumber:17}},Object(x.g)("删除")))))}}];return f.a.createElement("div",{className:"container",__source:{fileName:z,lineNumber:141,columnNumber:5}},f.a.createElement(g.a,{title:Object(x.g)("组件策略"),contentStyle:{marginTop:16},__source:{fileName:z,lineNumber:142,columnNumber:7}},f.a.createElement("div",{className:V("header"),__source:{fileName:z,lineNumber:148,columnNumber:9}},f.a.createElement(E.a,{__source:{fileName:z,lineNumber:149,columnNumber:11}},f.a.createElement(l.a,{onClick:function(){N(!0)},type:"primary",style:{marginRight:"12px"},__source:{fileName:z,lineNumber:150,columnNumber:13}},Object(x.g)("新建策略"))),f.a.createElement("div",{__source:{fileName:z,lineNumber:161,columnNumber:11}},f.a.createElement("span",{__source:{fileName:z,lineNumber:162,columnNumber:13}}),f.a.createElement("span",{style:{marginLeft:"12px"},__source:{fileName:z,lineNumber:169,columnNumber:13}},f.a.createElement(O.a,{onRefresh:s()(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r();case 2:c.a.success(Object(x.g)("刷新成功"));case 3:case"end":return e.stop()}}),e)}))),__source:{fileName:z,lineNumber:170,columnNumber:15}})))),f.a.createElement("div",{className:V("content"),__source:{fileName:z,lineNumber:180,columnNumber:9}},f.a.createElement(y.a,a()({rowKey:function(e){return e.id}},t,{columns:h,__source:{fileName:z,lineNumber:181,columnNumber:11}})))),f.a.createElement(C.default,{visible:b,handleCancel:function(){N(!1)},handleConfirm:function(){r(),N(!1)},__source:{fileName:z,lineNumber:184,columnNumber:7}}))}}}]);