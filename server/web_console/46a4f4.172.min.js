(window.webpackJsonp=window.webpackJsonp||[]).push([[172,459,523],{1483:function(e,t,n){e.exports={"item-container":"item-container-ed91074a66","item-title":"item-title-098008a09e","item-level-content":"item-level-content-83ca965cff","box-container":"box-container-9376aac805","lightning-icon":"lightning-icon-3522cfc9a9",box:"box-cba2189e9d"}},1484:function(e,t,n){"use strict";n.r(t);var r,i=n(0),c=n.n(i);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.default=function(e){return c.a.createElement("svg",o({width:13,height:48,fill:"none"},e),r||(r=c.a.createElement("path",{d:"M9 21L.5 15.5 5.515 0H8.5l-5 15.5L12 21 5 33l7.5 9.5-4 5.5h-3l4-5.5-7-9.5L9 21z",fill:"#fff"})))}},1687:function(e,t,n){"use strict";n.r(t),n.d(t,"GetDescribeAsset",(function(){return u})),n.d(t,"EventflowEventType",(function(){return r})),n.d(t,"OverviewAlarmLevel",(function(){return i})),n.d(t,"GetOverviewAlarm",(function(){return l})),n.d(t,"GetOverviewAgentRisk",(function(){return s})),n.d(t,"GetOverviewVulnRisk",(function(){return b})),n.d(t,"GetOverviewBaselineRisk",(function(){return v})),n.d(t,"GetOverviewDescribeAgent",(function(){return m})),n.d(t,"ServiceStatusType",(function(){return a})),n.d(t,"GetServiceStatus",(function(){return f}));var r,i,c=n(54),o=n(12),u=function(){return Object(c.b)({method:"get",url:"/api/v6/overview/DescribeAsset"},Object(o.g)("获取资产概览信息"))};!function(e){e.host="host",e.rasp="rasp",e.kube="kube"}(r||(r={})),function(e){e[e.critical=0]="critical",e[e.high=1]="high",e[e.medium=2]="medium",e[e.low=3]="low"}(i||(i={}));var a,l=function(){return Object(c.b)({method:"get",url:"/api/v6/overview/alarm"},Object(o.g)("获取安全告警统计信息"))},s=function(){return Object(c.b)({method:"get",url:"/api/v6/overview/agentRisk"},Object(o.g)("获取主机风险分布信息"))},b=function(){return Object(c.b)({method:"get",url:"/api/v6/overview/vulnRisk"},Object(o.g)("获取漏洞风险数据"))},v=function(){return Object(c.b)({method:"get",url:"/api/v6/overview/baselineRisk"},Object(o.g)("获取基线风险数据"))},m=function(){return Object(c.b)({method:"get",url:"/api/v6/overview/DescribeAgent"},Object(o.g)("获取Agent概览数据"))};!function(e){e.low="low",e.middle="middle",e.high="high",e.unavailable="unavailable"}(a||(a={}));var f=function(){return Object(c.b)({method:"get",url:"/api/v6/monitor/ServiceStatus"},Object(o.g)("获取后端服务状态数据"))}},466:function(e,t,n){"use strict";n.r(t);var r=n(1),i=n.n(r),c=n(10),o=n.n(c),u=n(28),a=n.n(u),l=n(16),s=n.n(l),b=n(0),v=n.n(b),m=n(780),f=n(1292),d=n(115),g=n.n(d),p=n(596),O=n(196),h=n(1687),j=n(12),w=n(1483),N=n.n(w),y=n(1484),S="/opt/tiger/compile_path/src/code.byted.org/biz-platform/hids/src/pages/overview/service-status/index.tsx";function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k=g.a.bind(N.a),x=function(e){var t,n,r=e.title,i=e.status,c=function(){switch(i){case h.ServiceStatusType.unavailable:return{count:5,color:"#C0272C",content:Object(j.g)("服务不可用")};case h.ServiceStatusType.high:return{count:4,color:"#EB635E",content:Object(j.g)("高负载")};case h.ServiceStatusType.middle:return{count:3,color:"#FCC75C",content:Object(j.g)("中负载")};case h.ServiceStatusType.low:return{count:2,color:"#00AA2A",content:Object(j.g)("低负载")};default:return{count:0,color:void 0,content:""}}}();return v.a.createElement(m.a,{direction:"column",align:"center",className:k("item-container"),__source:{fileName:S,lineNumber:39,columnNumber:5}},v.a.createElement("div",{className:k("item-title"),__source:{fileName:S,lineNumber:40,columnNumber:7}},r),v.a.createElement("div",{className:k("box-container"),__source:{fileName:S,lineNumber:41,columnNumber:7}},i===h.ServiceStatusType.unavailable?v.a.createElement(y.default,{className:k("lightning-icon"),__source:{fileName:S,lineNumber:43,columnNumber:11}}):null,null===(t=Array(5))||void 0===t||null===(n=t.fill(""))||void 0===n?void 0:n.map((function(e,t){return v.a.createElement("div",{className:k("box"),key:t,style:t>=5-c.count?{background:c.color}:{},__source:{fileName:S,lineNumber:48,columnNumber:13}})}))),v.a.createElement("div",{className:k("item-level-content"),style:{color:null==c?void 0:c.color},__source:{fileName:S,lineNumber:55,columnNumber:7}},null==c?void 0:c.content))};t.default=function(){var e,t,n,r=Object(f.a)(a()(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.GetServiceStatus)();case 2:return t=e.sent,e.abrupt("return",null==t?void 0:t.data);case 4:case"end":return e.stop()}}),e)}))),{auto:!0}),c=r.data,o=r.loading,u=r.refresh,l=r.error,b=[{title:Object(j.g)("接入服务"),status:null==c||null===(e=c.access_service)||void 0===e?void 0:e.status},{title:Object(j.g)("存储服务"),status:null==c||null===(t=c.storage_service)||void 0===t?void 0:t.status},{title:Object(j.g)("数据服务处理"),status:null==c||null===(n=c.process_service)||void 0===n?void 0:n.status}];return v.a.createElement(O.a,{error:l,onReload:u,loading:o,__source:{fileName:S,lineNumber:89,columnNumber:5}},v.a.createElement(p.a,{containerStyle:{minHeight:192,flexGrow:1},contentStyle:E({padding:"20px 24px 0",display:"flex",justifyContent:"space-between"},l?{padding:0}:{}),title:Object(j.g)("后端服务状态"),isCard:!0,__source:{fileName:S,lineNumber:90,columnNumber:7}},null==b?void 0:b.map((function(e){return v.a.createElement(x,i()({},e,{key:e.title,__source:{fileName:S,lineNumber:105,columnNumber:11}}))}))))}}}]);