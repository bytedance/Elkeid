(window.webpackJsonp=window.webpackJsonp||[]).push([[129,195,355,356],{1317:function(e,t,n){e.exports={"legend-out-box":"legend-out-box-318bca6ead","legend-box":"legend-box-9441c4e5ea",circle:"circle-8b4ede8177",label:"label-4e062dae22",count:"count-3ecd325c9a"}},1330:function(e,t,n){e.exports={"content-box":"content-box-f8db355c72","chart-box":"chart-box-51081d1d4a"}},1636:function(e,t,n){"use strict";function l(e){if(e>=1e3&&e<1e4){var t=(e/1e3).toFixed(1);return-1!==t.indexOf(".0")&&(t=t.slice(0,t.length-2)),"".concat(t,"k")}if(e>=1e4){var n=(e/1e4).toFixed(1);return-1!==n.indexOf(".0")&&(n=n.slice(0,n.length-2)),"".concat(n,"w")}return"".concat(e)}n.d(t,"a",(function(){return l}))},1656:function(e,t,n){"use strict";n(162);var l,r=n(67),a=n(1328),c=n(10),o=n.n(c),i=n(0),u=n.n(i),m=n(799),b=n(115),s=n.n(b),d=n(196),f=n(1636),N=n(1660),v=n.n(N);function _(){return(_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e}).apply(this,arguments)}var p=function(e){return u.a.createElement("svg",_({width:6,height:8,fill:"none"},e),l||(l=u.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.04 6.934a.5.5 0 010-.708l2.18-2.18L1.101 1.93a.5.5 0 010-.707l.353-.354a.5.5 0 01.707 0l2.829 2.828a.5.5 0 010 .708l-.354.353a.504.504 0 01-.055.048L2.1 7.287a.5.5 0 01-.707 0l-.354-.353z",fill:"currentColor"})))},g="/opt/tiger/compile_path/src/code.byted.org/biz-platform/hids/src/components/common/count-box/index.tsx";function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x=s.a.bind(v.a);t.a=function(e){var t=e.title,n=e.count,l=e.containerStyle,c=e.util,o=e.onClick,i=e.description;return u.a.createElement("div",{className:x("container",o&&"onclick"),style:E({},l),onClick:function(){o&&o()},__source:{fileName:g,lineNumber:35,columnNumber:5}},u.a.createElement("div",{className:x("title"),__source:{fileName:g,lineNumber:42,columnNumber:7}},u.a.createElement(m.a,{__source:{fileName:g,lineNumber:43,columnNumber:9}},t,o&&u.a.createElement(p,{__source:{fileName:g,lineNumber:45,columnNumber:23}}),i&&u.a.createElement(r.a,{content:i,__source:{fileName:g,lineNumber:47,columnNumber:13}},u.a.createElement(a.a,{__source:{fileName:g,lineNumber:48,columnNumber:15}})))),u.a.createElement("div",{className:x("count-box"),__source:{fileName:g,lineNumber:53,columnNumber:7}},u.a.createElement("span",{className:x("count"),__source:{fileName:g,lineNumber:54,columnNumber:9}},u.a.createElement(d.c,{__source:{fileName:g,lineNumber:55,columnNumber:11}},void 0===n?"-":Object(f.a)(n))),u.a.createElement("span",{className:x("util"),__source:{fileName:g,lineNumber:59,columnNumber:9}},c)))}},1660:function(e,t,n){e.exports={container:"container-7a1454a3b0",onclick:"onclick-f44f298af4",title:"title-b0e4e17406","count-box":"count-box-9b4b5d88dd",count:"count-c32c42556a",util:"util-4b537f2a04"}},316:function(e,t,n){"use strict";n.r(t);var l=n(50),r=n.n(l),a=n(0),c=n.n(a),o=n(799),i=n(794),u=n(115),m=n.n(u),b=n(1315),s=n(196),d=n(1636),f=n(1317),N=n.n(f),v="/opt/tiger/compile_path/src/code.byted.org/biz-platform/hids/src/pages/alarm-list/alarm-list-comm/alarm-overview/alarm-vuln-piechart/index.tsx",_=m.a.bind(N.a),p=function(e){var t=e.label,n=e.color,l=e.count;return c.a.createElement("div",{className:_("legend-box"),__source:{fileName:v,lineNumber:25,columnNumber:5}},c.a.createElement("div",{className:_("circle"),style:{background:n},__source:{fileName:v,lineNumber:26,columnNumber:7}}),c.a.createElement("div",{className:_("label"),__source:{fileName:v,lineNumber:27,columnNumber:7}},c.a.createElement(o.a,{__source:{fileName:v,lineNumber:28,columnNumber:9}},t)),c.a.createElement("div",{className:_("count"),__source:{fileName:v,lineNumber:30,columnNumber:7}},c.a.createElement(s.c,{__source:{fileName:v,lineNumber:31,columnNumber:9}},l)))};t.default=function(e){var t=e.value,n=Object(a.useState)({}),l=r()(n,2),o=l[0],u=(l[1],Object(a.useRef)(null)),m=null==t?void 0:t.map((function(e){return null==e?void 0:e.color})),s=Object(a.useMemo)((function(){var e=0;return null==t||t.forEach((function(t){var n;e+=null!==(n=null==t?void 0:t.count)&&void 0!==n?n:0})),e}),[t]),f=Object(a.useMemo)((function(){var e="<table><th><td></td><td></td><th>";return null==t||t.forEach((function(t){e+="\n      <tr>\n        <td>\n          <div style='display: inline-block;width: 10px;height: 10px; border-radius: 50%;background: ".concat(null==t?void 0:t.color,";margin-right: 5px;'></div>\n          <div style='display: inline-block;'>").concat(null==t?void 0:t.label,"</div>\n        </td>\n        <td>\n          <div style='margin-left: 5px;text-align: right;'>").concat(((null==t?void 0:t.count)/(s||1)*100).toFixed(2),"%</div>\n        </td>\n      </tr>")})),e+="</table>"}),[t]);return Object(a.useEffect)((function(){var e,n,l,r;null!=u&&u.current&&t&&(null==u||null===(e=u.current)||void 0===e||null===(n=e.getEchartsInstance())||void 0===n||n.clear(),null==u||null===(l=u.current)||void 0===l||null===(r=l.getEchartsInstance())||void 0===r||r.setOption({tooltip:{trigger:"item",textStyle:{color:"#fff"},appendToBody:!0,backgroundColor:"#1d2129",formatter:function(){return"<div>".concat(f,"</div>")}},color:s?m:new Array(null==t?void 0:t.length).fill("#F2F3F8"),series:[{type:"pie",radius:[20,24],label:{show:!1},emphasis:{scale:!1},labelLine:{show:!1},data:null==t?void 0:t.map((function(e){return{value:e.count,name:e.label,itemStyle:{borderColor:"#fff",borderWidth:1}}}))}]}))}),[Object(i.a)(t)]),c.a.createElement(c.a.Fragment,null,c.a.createElement(b.a,{ref:u,option:o,style:{height:48,width:48,flexShrink:0},__source:{fileName:v,lineNumber:117,columnNumber:7}}),c.a.createElement("div",{className:_("legend-out-box"),__source:{fileName:v,lineNumber:118,columnNumber:7}},null==t?void 0:t.map((function(e){return c.a.createElement(p,{label:e.label,color:e.color,count:Object(d.a)(e.count),key:e.label,__source:{fileName:v,lineNumber:120,columnNumber:11}})}))))}},323:function(e,t,n){"use strict";n.r(t);var l=n(0),r=n.n(l),a=n(794),c=n(115),o=n.n(c),i=n(596),u=n(196),m=n(316),b=n(12),s=n(1330),d=n.n(s),f=n(1656),N="/opt/tiger/compile_path/src/code.byted.org/biz-platform/hids/src/pages/alarm-list/alarm-list-comm/alarm-overview/index.tsx",v=o.a.bind(d.a);t.default=function(e){var t,n,c,o=e.alarmStatistics,s=e.loadStatisticsError;return r.a.createElement(u.a,{error:s,displayType:u.b.element,__source:{fileName:N,lineNumber:25,columnNumber:5}},r.a.createElement(i.a,{title:Object(b.g)("告警概览"),containerStyle:{minWidth:1200,height:148,marginBottom:12,minHeight:"unset"},contentStyle:{marginTop:16,display:"flex"},__source:{fileName:N,lineNumber:26,columnNumber:7}},r.a.createElement("div",{className:v("content-box"),__source:{fileName:N,lineNumber:39,columnNumber:9}},r.a.createElement(f.a,{title:Object(b.g)("待处理告警"),count:null!==(t=null==o?void 0:o.alarm_total)&&void 0!==t?t:0,containerStyle:{marginRight:40},__source:{fileName:N,lineNumber:40,columnNumber:11}}),r.a.createElement("div",{className:v("chart-box"),__source:{fileName:N,lineNumber:45,columnNumber:11}},Object(l.useMemo)((function(){var e,t,n,l;return r.a.createElement(m.default,{value:[{count:null!==(e=null==o?void 0:o.alarm_critical_num)&&void 0!==e?e:0,color:"#E63F3F",label:Object(b.g)("紧急")},{count:null!==(t=null==o?void 0:o.alarm_high_num)&&void 0!==t?t:0,color:"#846BCE",label:Object(b.g)("高风险")},{count:null!==(n=null==o?void 0:o.alarm_medium_num)&&void 0!==n?n:0,color:"#FEC745",label:Object(b.g)("中风险")},{count:null!==(l=null==o?void 0:o.alarm_low_num)&&void 0!==l?l:0,color:"#468DFF",label:Object(b.g)("低风险")}],__source:{fileName:N,lineNumber:48,columnNumber:17}})}),[Object(a.a)(o),s]))),r.a.createElement("div",{className:v("content-box"),style:{flexBasis:320},__source:{fileName:N,lineNumber:77,columnNumber:9}},r.a.createElement(f.a,{title:Object(b.g)("累计处理的告警"),count:null!==(n=null==o?void 0:o.alarm_processed_num)&&void 0!==n?n:0,__source:{fileName:N,lineNumber:78,columnNumber:11}})),r.a.createElement("div",{className:v("content-box"),style:{flexBasis:320},__source:{fileName:N,lineNumber:83,columnNumber:9}},r.a.createElement(f.a,{title:Object(b.g)("白名单规则数"),count:null!==(c=null==o?void 0:o.alarm_white_num)&&void 0!==c?c:0,__source:{fileName:N,lineNumber:84,columnNumber:11}}))))}}}]);