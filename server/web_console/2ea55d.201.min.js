(window.webpackJsonp=window.webpackJsonp||[]).push([[201,295],{1698:function(e,t,n){"use strict";n.r(t),n.d(t,"CompTypeEnum",(function(){return r})),n.d(t,"PlatformFamilyOptions",(function(){return i})),n.d(t,"MatchType",(function(){return l})),n.d(t,"MatchTypeOptions",(function(){return p})),n.d(t,"FieldType",(function(){return m})),n.d(t,"FieldTypeOptions",(function(){return b})),n.d(t,"ArchOptions",(function(){return s})),n.d(t,"DescribeComponentList",(function(){return d})),n.d(t,"DescribeComponent",(function(){return f})),n.d(t,"CreateComponent",(function(){return g})),n.d(t,"DescribeComponentVersionList",(function(){return O})),n.d(t,"PublishComponentVersion",(function(){return v})),n.d(t,"DescribeRecommendComponentVersion",(function(){return j})),n.d(t,"DescribePolicyList",(function(){return N})),n.d(t,"CreatePolicy",(function(){return _})),n.d(t,"DeletePolicy",(function(){return h})),n.d(t,"DescribeComponentCriteria",(function(){return C})),n.d(t,"DescribeComponentVersionCriteria",(function(){return y}));var r,a=n(50),o=n.n(a),u=n(54),c=n(12);!function(e){e.agent="agent",e.exec="exec",e.tar_gz="tar.gz"}(r||(r={}));var l,i=[{label:"RHEL",value:"rhel"},{label:"Debian",value:"debian"}];!function(e){e.IN="$in",e.Regex="$regex"}(l||(l={}));var m,p=[{label:Object(c.g)("包含于"),value:l.IN},{label:Object(c.g)("正则匹配"),value:l.Regex}];!function(e){e.AgentID="agent_id",e.Tag="tag",e.KernelVersion="kernel_version"}(m||(m={}));var b=[{label:Object(c.g)("AgentID"),value:m.AgentID},{label:Object(c.g)("标签"),value:m.Tag},{label:Object(c.g)("内核版本"),value:m.KernelVersion}],s=[{label:"x86-64",value:"x86_64"},{label:"AArch64",value:"aarch64"}],d=function(e){var t=e.params;return Object(u.b)({method:"post",url:"/api/v6/component/DescribeComponentList",params:t},Object(c.g)("获取组件列表"))},f=function(e){var t=e.params;return Object(u.b)({method:"get",url:"/api/v6/component/DescribeComponent",params:t},Object(c.g)("获取组件信息"))},g=function(e){var t=e.data;return Object(u.b)({method:"post",url:"/api/v6/component/CreateComponent",data:t},Object(c.g)("新建组件"),!0)},O=function(e){var t=e.params,n=e.data;return Object(u.b)({method:"post",url:"/api/v6/component/DescribeComponentVersionList",params:t,data:n},Object(c.g)("获取组件版本列表"))},v=function(e){var t,n=e.data,r={};return n&&(r["Content-Type"]="multipart/form-data",t=new FormData,Object.entries(n).forEach((function(e){var n=o()(e,2),r=n[0],a=n[1];t.append(r,a)}))),Object(u.b)({method:"post",url:"/api/v6/component/PublishComponentVersion",data:t,headers:r,timeout:12e4},Object(c.g)("发布组件版本"),!0)},j=function(e){var t=e.params;return Object(u.b)({method:"get",url:"/api/v6/component/DescribeRecommendComponentVersion",params:t},Object(c.g)("获取建议的组件版本"))},N=function(e){var t=e.params,n=e.data;return Object(u.b)({method:"post",url:"/api/v6/component/DescribePolicyList",params:t,data:n},Object(c.g)("获取策略列表"))},_=function(e){var t=e.data;return Object(u.b)({method:"post",url:"/api/v6/component/CreatePolicy",data:t},Object(c.g)("新建策略"))},h=function(e){var t=e.data;return Object(u.b)({method:"post",url:"/api/v6/component/DeletePolicy",data:t},Object(c.g)("删除策略"),!0,!0)},C=function(){return Object(u.b)({method:"get",url:"/api/v6/component/DescribeComponentCriteria"},Object(c.g)("获取组件类别"))},y=function(e){var t=e.params;return Object(u.b)({method:"get",url:"/api/v6/component/DescribeComponentVersionCriteria",params:t},Object(c.g)("获取组件版本列表"))}},444:function(e,t,n){"use strict";n.r(t);n(197);var r,a=n(117),o=(n(804),n(598)),u=n(28),c=n.n(u),l=n(50),i=n.n(l),m=(n(806),n(199)),p=n(603),b=n.n(p),s=(n(304),n(118)),d=n(16),f=n.n(d),g=n(0),O=n.n(g),v=n(604),j=n(613),N=n(859),_=n(1698),h=n(12),C="/opt/tiger/compile_path/src/code.byted.org/biz-platform/hids/src/pages/comp-list/comp-modal/index.tsx",y=s.a.Group,E=Object(v.a)(m.a)(r||(r=b()(["\n  .arco-form-label-item {\n    flex: unset;\n  }\n  .arco-form-item-wrapper {\n    flex: unset;\n  }\n"]))),x={type:_.CompTypeEnum.agent,name:"",arch_requirements:[],platform_family_requirements:[]};t.default=function(e){var t=e.visible,n=e.type,r=e.data,u=e.handleConfirm,l=e.handleCancel,p=Object(h.g)("新建组件"),b=m.a.useForm(),d=i()(b,1)[0];Object(g.useEffect)((function(){t?r&&d.setFieldsValue(r):d.setFieldsValue(x)}),[t,r]);var v=function(){var e=c()(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.validate();case 2:return t=e.sent,e.next=5,Object(_.CreateComponent)({data:t});case 5:u();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return O.a.createElement(j.b,{visible:t,onCancel:l,onOk:v,style:{width:600},title:p,__source:{fileName:C,lineNumber:63,columnNumber:5}},O.a.createElement(E,{form:d,colon:!1,labelAlign:"right",labelCol:h.d?{span:6}:{span:4},wrapperCol:h.d?{span:18}:{span:20},__source:{fileName:C,lineNumber:70,columnNumber:7}},O.a.createElement(m.a.Item,{field:"type",label:Object(h.g)("组件类型"),rules:[{required:!0,message:Object(h.g)("请选择组件类型")}],__source:{fileName:C,lineNumber:77,columnNumber:9}},O.a.createElement(o.a.Group,{type:"button",name:"lang",options:N.compTypeOptions,disabled:n===j.a.edit,__source:{fileName:C,lineNumber:87,columnNumber:11}})),O.a.createElement(m.a.Item,{shouldUpdate:!0,noStyle:!0,__source:{fileName:C,lineNumber:94,columnNumber:9}},(function(e){return e.type===_.CompTypeEnum.agent||O.a.createElement(O.a.Fragment,null,O.a.createElement(m.a.Item,{field:"name",label:Object(h.g)("名称"),shouldUpdate:!0,rules:[{required:!0,message:Object(h.g)("请输入名称")}],__source:{fileName:C,lineNumber:99,columnNumber:19}},O.a.createElement(a.a,{style:{width:"300px"},placeholder:Object(h.g)("请输入名称"),__source:{fileName:C,lineNumber:110,columnNumber:21}})))})),O.a.createElement(m.a.Item,{label:Object(h.g)("多架构要求"),field:"arch_requirements",__source:{fileName:C,lineNumber:117,columnNumber:9}},O.a.createElement(y,{__source:{fileName:C,lineNumber:118,columnNumber:11}},_.ArchOptions.map((function(e){return O.a.createElement(s.a,{value:e.value,key:e.value,style:{width:"100px"},__source:{fileName:C,lineNumber:121,columnNumber:17}},e.label)})))),O.a.createElement(m.a.Item,{label:Object(h.g)("发行版要求"),field:"platform_family_requirements",__source:{fileName:C,lineNumber:128,columnNumber:9}},O.a.createElement(y,{__source:{fileName:C,lineNumber:129,columnNumber:11}},_.PlatformFamilyOptions.map((function(e){return O.a.createElement(s.a,{value:e.value,style:{width:"100px"},__source:{fileName:C,lineNumber:132,columnNumber:17}},e.label)}))))))}},859:function(e,t,n){"use strict";n.r(t),n.d(t,"selectTypeInputOptions",(function(){return o})),n.d(t,"compTypeOptions",(function(){return u}));var r=n(1698),a=n(12),o=[{label:Object(a.g)("名称"),value:"module_name"},{label:Object(a.g)("创建人"),value:"module_user"}],u=[{label:Object(a.g)("客户端包"),text:Object(a.g)("客户端包"),value:r.CompTypeEnum.agent},{label:Object(a.g)("可执行插件"),text:Object(a.g)("可执行插件"),value:r.CompTypeEnum.exec},{label:Object(a.g)("TarGz插件"),text:Object(a.g)("TarGz插件"),value:r.CompTypeEnum.tar_gz}]}}]);