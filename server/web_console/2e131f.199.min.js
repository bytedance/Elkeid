(window.webpackJsonp=window.webpackJsonp||[]).push([[199,306,422],{1457:function(e,t,n){e.exports={"chart-container":"chart-container-54bc00c87d",title:"title-c3c1c24ffc","chart-box":"chart-box-940e57ba0c","center-info":"center-info-26f50a5033"}},450:function(e,t,n){"use strict";n.r(t);var l=n(50),o=n.n(l),c=n(0),a=n.n(c),r=n(55),i=n(115),u=n.n(i),s=n(1315),b=n(196),d=n(853),m=n(12),f=n(1457),g=n.n(f),v="/opt/tiger/compile_path/src/code.byted.org/biz-platform/hids/src/pages/host-list/host-status/index.tsx",h=u.a.bind(g.a);t.default=function(e){var t=e.data,n=e.isOverview,l=Object(r.g)(),i=Object(c.useRef)(null),u=Object(c.useMemo)((function(){var e,n,l,o;return[{count:null!==(e=null==t?void 0:t.running)&&void 0!==e?e:0,label:Object(m.g)("运行中"),color:"#22BB43"},{count:null!==(n=null==t?void 0:t.abnormal)&&void 0!==n?n:0,label:Object(m.g)("运行异常"),color:"#FBB02E"},{count:null!==(l=null==t?void 0:t.offline)&&void 0!==l?l:0,label:Object(m.g)("离线"),color:"#EB635E"},{count:null!==(o=null==t?void 0:t.uninstalled)&&void 0!==o?o:0,label:Object(m.g)("未安装"),color:"#E5E8EF"}]}),[t]),f=[50,70],g="30%",p="50%",O=Object(c.useState)({}),j=o()(O,2),N=j[0];j[1];return Object(c.useEffect)((function(){var e,t,n,l;null!=i&&i.current&&u&&(null==i||null===(e=i.current)||void 0===e||null===(t=e.getEchartsInstance())||void 0===t||t.clear(),null==i||null===(n=i.current)||void 0===n||null===(l=n.getEchartsInstance())||void 0===l||l.setOption({tooltip:{trigger:"item",formatter:"{b}: {c} ({d}%)"},legend:{selectedMode:!1,data:u.map((function(e){return{name:e.label,itemStyle:{color:e.color}}})),top:"center",cursor:"default",right:"20px",orient:"vertical",icon:"circle",itemWidth:10,itemHeight:10,itemGap:20,formatter:function(e){var t;return" {name|".concat(e,"}        {count|").concat(null!==(t=u[null==u?void 0:u.findIndex((function(t){return t.label===e}))].count)&&void 0!==t?t:0,"}")},textStyle:{color:"#606A78",fontFamily:"PingFang Sc",fontSize:12,rich:{name:{width:m.d?90:48},count:{fontFamily:'"ByteNumber Bold"',color:"#000000"}}}},series:[{type:"pie",radius:f,center:[g,p],label:{show:!1,position:"outer",alignTo:"none",bleedMargin:5,color:"#606A78",fontFamily:"PingFang Sc",fontSize:12,formatter:"{b}: {d}%"},labelLine:{show:!0},data:null==u?void 0:u.map((function(e){return{value:e.count,name:e.label,itemStyle:{color:e.color,borderColor:"#fff",borderWidth:1}}}))}]}))}),[u]),Object(c.useEffect)((function(){null!=i&&i.current&&i.current.getEchartsInstance().on("click",(function(e){var t=d.hostStatusOptions.find((function(t){return t.label===e.name})).value;n?l.push("/host-list?status[]=".concat(t)):location.href="/host-list?status[]=".concat(t)}))}),[]),a.a.createElement("div",{className:h("chart-container"),style:n?{padding:0}:{},__source:{fileName:v,lineNumber:132,columnNumber:5}},n?null:a.a.createElement("div",{className:h("title"),__source:{fileName:v,lineNumber:133,columnNumber:28}},Object(m.g)("主机状态分布")),a.a.createElement("div",{className:h("chart-box"),__source:{fileName:v,lineNumber:135,columnNumber:7}},a.a.createElement("div",{className:h("center-info"),style:{left:g,top:p,transform:"translate(-50%, -50%)"},__source:{fileName:v,lineNumber:136,columnNumber:9}},null),a.a.createElement(b.d,{__source:{fileName:v,lineNumber:146,columnNumber:9}},a.a.createElement(s.a,{ref:i,option:N,style:{width:"100%",height:"100%"},__source:{fileName:v,lineNumber:147,columnNumber:11}}))))}},853:function(e,t,n){"use strict";n.r(t),n.d(t,"selectTypeInputHostOptions",(function(){return c})),n.d(t,"hostStatusOptions",(function(){return a}));var l=n(1611),o=n(12),c=[{text:Object(o.g)("主机名称"),value:"hostname"},{text:Object(o.g)("主机IP"),value:"ip"},{text:Object(o.g)("主机ID"),value:"agent_id"},{text:Object(o.g)("客户端版本"),value:"version"}],a=[{value:l.d.uninstall,label:Object(o.g)("未安装"),text:Object(o.g)("未安装")},{value:l.d.running,label:Object(o.g)("运行中"),text:Object(o.g)("运行中")},{value:l.d.abnormal,label:Object(o.g)("运行异常"),text:Object(o.g)("运行异常")},{value:l.d.offline,label:Object(o.g)("离线"),text:Object(o.g)("离线")}]}}]);