(window.webpackJsonp=window.webpackJsonp||[]).push([[87,155,306,314,315,424],{1458:function(e,t,n){e.exports={header:"header-41e57313d1","host-table-th":"host-table-th-c24dbdc668","col-risk":"col-risk-0a4475ae04","col-hostname":"col-hostname-67c636d39e"}},1608:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(0),a=n.n(r),l=n(70),i=n.n(l),o="/opt/tiger/compile_path/src/code.byted.org/biz-platform/hids/src/utils/get-display-time.tsx";function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD HH:mm:ss",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e){var r=i.a.unix(e).format(t);if(n){var l=null==r?void 0:r.split(" ");return a.a.createElement(a.a.Fragment,null,null==l?void 0:l.map((function(e){return a.a.createElement("div",{key:e,__source:{fileName:o,lineNumber:12,columnNumber:13}},e)})))}return r}return"-"}},1609:function(e,t,n){"use strict";n.d(t,"b",(function(){return s}));n(299);var r=n(165),a=n(0),l=n.n(a),i=n(55),o=n(164),c=n.n(o),u=n(147),m=n(166);function s(){return(m.a?location.pathname.slice(null===m.a||void 0===m.a?void 0:m.a.length):location.pathname)+encodeURIComponent(location.search)}t.a=function(e){var t=e.defaultLink,n=e.defaultTitle,o=Object(i.g)();var m=Object(a.useMemo)((function(){return function(){var e,t=null===(e=c.a.parse(location.search))||void 0===e?void 0:e.breadcrumbLinkFrom;if(t){var n,r,a,l,i="";if(null!=t&&null!==(n=t.indexOf)&&void 0!==n&&n.call(t,"?"))i=null==t||null===(a=t.split)||void 0===a||null===(l=a.call(t,"?"))||void 0===l?void 0:l[0];else i=t;var o=null===u.c||void 0===u.c||null===(r=u.c.find)||void 0===r?void 0:r.call(u.c,(function(e){return(null==e?void 0:e.path)===i&&(null==e?void 0:e.name)}));if(o)return{link:t,title:null==o?void 0:o.name}}return{link:void 0,title:void 0}}()}),[]),s=m.link,d=m.title;return l.a.createElement(r.a,{style:{color:"#4E5969"},onClick:function(){o.push(s||t)},__source:{fileName:"/opt/tiger/compile_path/src/code.byted.org/biz-platform/hids/src/components/common/breadcrumb-link.tsx",lineNumber:63,columnNumber:5}},d||n)}},1628:function(e,t,n){"use strict";n(1314);var r=n(810),a=n(1),l=n.n(a),i=n(10),o=n.n(i),c=n(2),u=n.n(c),m=n(0),s=n.n(m),d=["onChange","pagination"];function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.a=function(e){var t=e.onChange,n=e.pagination,a=u()(e,d);return s.a.createElement(r.a,l()({onChange:function(e,n,r,a){"filter"===a.action||"sort"===a.action?t(f(f({},e),{},{current:1}),n,r,a):t(e,n,r,a)},border:!1,pagination:(null==n?void 0:n.total)>10&&f(f({},n),{},{sizeCanChange:!0,sizeOptions:[10,20,50,100]})},a,{__source:{fileName:"/opt/tiger/compile_path/src/code.byted.org/biz-platform/hids/src/components/common/table/index.tsx",lineNumber:6,columnNumber:5}}))}},1636:function(e,t,n){"use strict";function r(e){if(e>=1e3&&e<1e4){var t=(e/1e3).toFixed(1);return-1!==t.indexOf(".0")&&(t=t.slice(0,t.length-2)),"".concat(t,"k")}if(e>=1e4){var n=(e/1e4).toFixed(1);return-1!==n.indexOf(".0")&&(n=n.slice(0,n.length-2)),"".concat(n,"w")}return"".concat(e)}n.d(t,"a",(function(){return r}))},1664:function(e,t,n){"use strict";var r,a=n(614),l=(n(162),n(67)),i=n(50),o=n.n(i),c=n(0),u=n.n(c),m=n(799),s=n(115),d=n.n(s);function b(){return(b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var f=function(e){return u.a.createElement("svg",b({width:10,height:10,fill:"none"},e),r||(r=u.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.976 4.366l2.8-2.799a.208.208 0 01.294 0l.294.295a.208.208 0 010 .294l-2.799 2.8 2.8 2.798a.208.208 0 010 .295l-.295.295a.208.208 0 01-.295 0l-2.799-2.8-2.799 2.8a.208.208 0 01-.294 0l-.295-.295a.208.208 0 010-.295l2.799-2.799-2.8-2.799a.208.208 0 010-.294l.296-.295a.208.208 0 01.294 0l2.8 2.8z",fill:"#4E5969"})))},p=n(1678),v=n.n(p),N="/opt/tiger/compile_path/src/code.byted.org/biz-platform/hids/src/components/common/tag-component/index.tsx",g=d.a.bind(v.a);t.a=function(e){var t,n=e.value,r=e.showNum,i=e.isEditable,s=e.onDelete,d=e.onEdit,b=r?null==n?void 0:n.slice(0,r):n,p=Object(c.useState)(!1),v=o()(p,2),_=v[0],h=v[1];return u.a.createElement("div",{className:g("tag-component-container"),onMouseOver:function(){_||h(!0)},onMouseOut:function(){h(!1)},__source:{fileName:N,lineNumber:32,columnNumber:5}},0===(null==n?void 0:n.length)?u.a.createElement("span",{className:g("no-value"),__source:{fileName:N,lineNumber:43,columnNumber:30}},"-"):"",null==b?void 0:b.map((function(e){return u.a.createElement("div",{className:g("tag-item"),key:e,__source:{fileName:N,lineNumber:45,columnNumber:9}},u.a.createElement(m.a,{__source:{fileName:N,lineNumber:46,columnNumber:11}},e),i&&u.a.createElement("div",{className:g("tag-close-box"),onClick:function(){null==s||s(e)},__source:{fileName:N,lineNumber:48,columnNumber:13}},u.a.createElement(f,{__source:{fileName:N,lineNumber:55,columnNumber:15}})))})),(null==n?void 0:n.length)-(null==b?void 0:b.length)>0?u.a.createElement(l.a,{getPopupContainer:function(){return document.querySelector("#root")},content:u.a.createElement("div",{className:g("tootip-content-container"),__source:{fileName:N,lineNumber:64,columnNumber:13}},null==n||null===(t=n.slice(r))||void 0===t?void 0:t.map((function(e){return u.a.createElement("div",{key:e,__source:{fileName:N,lineNumber:66,columnNumber:17}},e)}))),__source:{fileName:N,lineNumber:61,columnNumber:9}},u.a.createElement("div",{className:g("more-tag"),__source:{fileName:N,lineNumber:71,columnNumber:11}},"+",(null==n?void 0:n.length)-(null==b?void 0:b.length))):null,i&&u.a.createElement(a.a,{fontSize:16,style:{cursor:"pointer",display:_?"inline-block":"none",color:"#4E5969",margin:4},onClick:function(){null==d||d(n)},__source:{fileName:N,lineNumber:75,columnNumber:9}}))}},1678:function(e,t,n){e.exports={"tag-component-container":"tag-component-container-7fbe513a00","tag-item":"tag-item-950f8d87b9","tag-close-box":"tag-close-box-f6dd0a6433","more-tag":"more-tag-cba65ceab5","no-value":"no-value-c4b05bf4a4","tootip-content-container":"tootip-content-container-685c761fe3"}},1679:function(e,t,n){"use strict";var r=n(0),a=n.n(r),l=n(115),i=n.n(l),o=n(1688),c=n.n(o),u="/opt/tiger/compile_path/src/code.byted.org/biz-platform/hids/src/components/common/mini-label/index.tsx",m=i.a.bind(c.a),s=function(e){return e.children};t.a=function(e){var t=e.outerContainerStyle,n=void 0===t?{}:t,r=e.containerStyle,l=void 0===r?{}:r,i=e.className,o=void 0===i?"":i,d=e.data,b=Array.isArray(d)?d:[d];return a.a.createElement("div",{className:m("outer-container",o),style:n,__source:{fileName:u,lineNumber:22,columnNumber:5}},b.map((function(e,t){var n=e.label,r=e.content;return a.a.createElement(s,{key:t,__source:{fileName:u,lineNumber:24,columnNumber:9}},a.a.createElement("div",{className:c.a.container,style:l,__source:{fileName:u,lineNumber:25,columnNumber:11}},a.a.createElement("div",{className:c.a.label,__source:{fileName:u,lineNumber:26,columnNumber:13}},n)),r)})))}},1680:function(e,t,n){"use strict";n.d(t,"a",(function(){return N})),n.d(t,"b",(function(){return g}));n(597);var r,a=n(226),l=n(51),i=n.n(l),o=n(50),c=n.n(o),u=(n(600),n(198)),m=n(0),s=n.n(m),d=n(115),b=n.n(d),f=n(1634),p=n(12);function v(){return(v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var N,g,_=function(e){return s.a.createElement("svg",v({width:12,height:12,fill:"none"},e),r||(r=s.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.298 3.348a.5.5 0 00-.707 0L6 4.94 4.409 3.35a.5.5 0 00-.707 0l-.354.353a.5.5 0 000 .707L4.94 6 3.35 7.591a.5.5 0 000 .707l.353.354a.5.5 0 00.707 0L6 7.06l1.591 1.59a.5.5 0 00.707 0l.354-.353a.5.5 0 000-.707L7.06 6l1.59-1.591a.5.5 0 000-.707l-.353-.354z",fill:"#4E5969"})))},h=n(1684),O=n.n(h),j="/opt/tiger/compile_path/src/code.byted.org/biz-platform/hids/src/components/common/add-edit-tag-modal/index.tsx",x=b.a.bind(O.a),y=u.a.Option;!function(e){e[e.add=0]="add",e[e.edit=1]="edit"}(N||(N={})),function(e){e[e.event=0]="event",e[e.host=1]="host"}(g||(g={}));t.c=function(e){var t=e.type,n=e.onCancel,r=e.onConfirm,l=e.visible,o=e.value,d=e.whichModule,b=void 0===d?g.host:d,v=e.tips,h=e.max,O=e.queryEventTagList,E=Object(m.useState)([]),w=c()(E,2),k=w[0],C=w[1],S=Object(m.useState)([]),P=c()(S,2),D=P[0],F=P[1],I=Object(m.useState)(""),z=c()(I,2),A=z[0],M=z[1];return Object(m.useEffect)((function(){F(o)}),[o]),Object(m.useEffect)((function(){l&&(b===g.host?Object(f.DescribeTags)().then((function(e){var t=e.data;C(null!=t?t:[])})):b===g.event&&O().then((function(e){var t,n=e.data;C(null!==(t=null==n?void 0:n.tag_list)&&void 0!==t?t:[])})))}),[l]),s.a.createElement(a.a,{title:s.a.createElement("div",{style:{textAlign:"left"},__source:{fileName:j,lineNumber:75,columnNumber:9}},t===N.add?Object(p.g)("批量添加标签"):Object(p.g)("编辑标签")),visible:l,onOk:function(){r(D)},style:{width:600},onCancel:function(){n(),F([])},autoFocus:!1,focusLock:!0,__source:{fileName:j,lineNumber:73,columnNumber:5}},s.a.createElement("div",{className:x("select-container"),__source:{fileName:j,lineNumber:91,columnNumber:7}},s.a.createElement("span",{className:x("label"),__source:{fileName:j,lineNumber:92,columnNumber:9}},b===g.event?Object(p.g)("事件标签"):Object(p.g)("主机标签")),s.a.createElement(u.a,{mode:"multiple",placeholder:Object(p.g)("请输入英文或数字，最多10个字符"),style:{width:496},value:D,onChange:function(e){F(e)},removeIcon:s.a.createElement(_,{__source:{fileName:j,lineNumber:103,columnNumber:23}}),inputValue:A,onInputValueChange:function(e){if(h&&(null==D?void 0:D.length)===h){if(!/^[0-9a-zA-Z]{0,10}$|^[0-9a-zA-Z]{1,10}$/.test(e))return;M(e)}else if(/^[0-9a-zA-Z]{0,10}$|^[0-9a-zA-Z]{1,10};$/.test(e))if((null==e?void 0:e.length)>1&&";"===(null==e?void 0:e[(null==e?void 0:e.length)-1])){var t=null==e?void 0:e.slice(0,(null==e?void 0:e.length)-1),n=null==D?void 0:D.findIndex((function(e){return e===t}));-1===n?F([].concat(i()(D),[t])):(D.splice(n,1),F(i()(D))),M("")}else M(e)},getPopupContainer:function(e){return e},allowCreate:!h||h&&(null==D?void 0:D.length)<h,allowClear:!0,__source:{fileName:j,lineNumber:95,columnNumber:9}},k.map((function(e){return s.a.createElement(y,{disabled:!!h&&((null==D?void 0:D.length)===h&&!(null!=D&&D.includes(e))),key:e,value:e,__source:{fileName:j,lineNumber:136,columnNumber:13}},e)})))),s.a.createElement("div",{className:x("tips"),__source:{fileName:j,lineNumber:146,columnNumber:7}},v||Object(p.g)("可添加多个标签，使用“;”或回车分隔")))}},1683:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e[e.B=Math.pow(1024,0)]="B",e[e.KB=Math.pow(1024,1)]="KB",e[e.MB=Math.pow(1024,2)]="MB",e[e.GB=Math.pow(1024,3)]="GB",e[e.TB=Math.pow(1024,4)]="TB",e[e.PB=Math.pow(1024,5)]="PB"}(r||(r={})),t.b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.MB,n=Math.abs(e);if(!e)return{displayCount:0,displayUnit:"B"};for(var a=Object.values(r).filter((function(e){return"string"==typeof e})).map((function(e){return e})),l=Object.values(r).filter((function(e){return"number"==typeof e})).map((function(e){return e})),i=0;i<a.length;i++){var o,c,u,m,s=n;if(0!==i)s=parseFloat(null===(o=n/l[i])||void 0===o?void 0:o.toFixed(2));if(s<10)return{displayCount:null===(c=s)||void 0===c?void 0:c.toFixed(2),displayUnit:a[i]};if(s>=10&&s<100)return{displayCount:null===(u=s)||void 0===u?void 0:u.toFixed(1),displayUnit:a[i]};if(s>=100&&s<1e3)return{displayCount:null===(m=s)||void 0===m?void 0:m.toFixed(0),displayUnit:a[i]};if(l[i]===t)break}return{displayCount:"999+",displayUnit:r[t]}}},1684:function(e,t,n){e.exports={"select-container":"select-container-d3cc3ca58c",label:"label-fcefb58d85",tips:"tips-a3a1efbcba"}},1688:function(e,t,n){e.exports={"outer-container":"outer-container-a02d8d74a7",container:"container-39876372d0",label:"label-3ad4f401a8"}},1689:function(e,t,n){"use strict";var r=n(51),a=n.n(r),l=(n(116),n(42)),i=(n(304),n(118)),o=(n(197),n(117)),c=n(50),u=n.n(c),m=n(0),s=n.n(m),d=n(115),b=n.n(d),f=n(12),p=n(1690),v=n.n(p),N="/opt/tiger/compile_path/src/code.byted.org/biz-platform/hids/src/components/common/filter-search-dropdown/index.tsx",g=b.a.bind(v.a);t.a=function(e){var t=e.value,n=e.onChangeValue,r=e.onClose,c=e.options,d=Object(m.useState)(),b=u()(d,2),p=b[0],v=b[1],_=Object(m.useState)(null!=t?t:[]),h=u()(_,2),O=h[0],j=h[1];return s.a.createElement("div",{className:g("container"),__source:{fileName:N,lineNumber:27,columnNumber:5}},s.a.createElement("div",{className:g("top-box"),__source:{fileName:N,lineNumber:28,columnNumber:7}},s.a.createElement("div",{className:g("input-box"),style:{width:f.d?170:130},__source:{fileName:N,lineNumber:29,columnNumber:9}},s.a.createElement(o.a,{size:"mini",value:p,onChange:v,placeholder:Object(f.g)("请搜索标签"),__source:{fileName:N,lineNumber:30,columnNumber:11}})),s.a.createElement("div",{className:g("checkbox-box"),__source:{fileName:N,lineNumber:32,columnNumber:9}},s.a.createElement(i.a.Group,{direction:"vertical",style:{width:"100%"},value:O,onChange:j,__source:{fileName:N,lineNumber:33,columnNumber:11}},null==c?void 0:c.map((function(e){var t;return s.a.createElement(i.a,{key:null==e?void 0:e.value,value:null==e?void 0:e.value,style:{height:32,display:p?-1!==(null==e||null===(t=e.label)||void 0===t?void 0:t.indexOf(p))?"block":"none":"block",lineHeight:"32px",padding:"0 12px"},__source:{fileName:N,lineNumber:40,columnNumber:15}},null==e?void 0:e.label)}))))),s.a.createElement("div",{className:g("bottom-box"),__source:{fileName:N,lineNumber:60,columnNumber:7}},s.a.createElement(l.a,{size:"mini",onClick:function(){n([]),r()},__source:{fileName:N,lineNumber:61,columnNumber:9}},Object(f.g)("重置")),s.a.createElement(l.a,{size:"mini",type:"primary",onClick:function(){n(a()(O)),r()},style:{marginLeft:8},__source:{fileName:N,lineNumber:70,columnNumber:9}},Object(f.g)("确定"))))}},1690:function(e,t,n){e.exports={container:"container-b3ee400682","top-box":"top-box-27476a91bb","input-box":"input-box-92b6d1e47b","checkbox-box":"checkbox-box-de2d7db898","bottom-box":"bottom-box-59d0e2dab7"}},1697:function(e,t,n){"use strict";n(162);var r=n(67),a=n(0),l=n.n(a),i=n(115),o=n.n(i),c=n(1611),u=n(12),m=n(1700),s=n.n(m),d="/opt/tiger/compile_path/src/code.byted.org/biz-platform/hids/src/components/common/host-status-component/index.tsx",b=o.a.bind(s.a);t.a=function(e){var t=e.value,n=e.detail;var a=function(e){switch(e){case c.d.running:return{content:Object(u.g)("运行中"),color:"#00AA2A"};case c.d.uninstall:return{content:Object(u.g)("未安装"),color:"#C9CDD4"};case c.d.abnormal:return{content:Object(u.g)("运行异常"),color:"#FA9600"};case c.d.offline:return{content:Object(u.g)("离线"),color:"#E63F3F"};default:return{content:"",color:"transparent"}}}(t);return l.a.createElement("div",{className:b("container"),__source:{fileName:d,lineNumber:33,columnNumber:5}},l.a.createElement(r.a,{disabled:t!==c.d.abnormal,mini:!0,content:n,getPopupContainer:function(){var e;return null===(e=document.getElementsByTagName("body"))||void 0===e?void 0:e[0]},__source:{fileName:d,lineNumber:34,columnNumber:7}},l.a.createElement("div",{className:b("circle"),style:{background:a.color},__source:{fileName:d,lineNumber:40,columnNumber:9}})),l.a.createElement("div",{className:b("content"),__source:{fileName:d,lineNumber:42,columnNumber:7}},a.content))}},1700:function(e,t,n){e.exports={container:"container-810f344c70",circle:"circle-9aa6f1ed62",content:"content-9962c55992"}},1705:function(e,t,n){"use strict";var r=n(0),a=n.n(r),l=n(115),i=n.n(l),o=n(1683),c=n(12),u=n(1707),m=n.n(u),s="/opt/tiger/compile_path/src/code.byted.org/biz-platform/hids/src/components/common/cpu-memory-status/index.tsx",d=i.a.bind(m.a);t.a=function(e){var t,n,r,l=e.cpu,i=e.memory;return a.a.createElement("div",{className:d("container"),__source:{fileName:s,lineNumber:17,columnNumber:5}},a.a.createElement("div",{className:d("cpu-box"),__source:{fileName:s,lineNumber:18,columnNumber:7}},a.a.createElement("div",{className:d("label-box"),__source:{fileName:s,lineNumber:19,columnNumber:9}},a.a.createElement("div",{className:d("label-content"),__source:{fileName:s,lineNumber:20,columnNumber:11}},Object(c.g)("CPU"))),a.a.createElement("div",{__source:{fileName:s,lineNumber:22,columnNumber:9}},null!=l?"".concat((100*Number(l)).toFixed(2),"%"):"-")),a.a.createElement("div",{className:d("memory-box"),__source:{fileName:s,lineNumber:24,columnNumber:7}},a.a.createElement("div",{className:d("label-box"),__source:{fileName:s,lineNumber:25,columnNumber:9}},a.a.createElement("div",{className:d("label-content"),__source:{fileName:s,lineNumber:26,columnNumber:11}},Object(c.g)("内存"))),a.a.createElement("div",{__source:{fileName:s,lineNumber:28,columnNumber:9}},i?(t=Object(o.b)(Number(i)),n=t.displayCount,r=t.displayUnit,"".concat(n," ").concat(r)):"-")))}},1707:function(e,t,n){e.exports={container:"container-92b5c764b2","cpu-box":"cpu-box-bc89339e43","label-box":"label-box-74fd61526a","label-content":"label-content-870c81f483"}},451:function(e,t,n){"use strict";n.r(t);n(609);var r=n(134),a=(n(608),n(128)),l=(n(225),n(127)),i=(n(116),n(42)),o=(n(224),n(97)),c=(n(162),n(67)),u=n(51),m=n.n(u),s=n(1),d=n.n(s),b=n(10),f=n.n(b),p=n(28),v=n.n(p),N=n(50),g=n.n(N),_=n(16),h=n.n(_),O=n(0),j=n.n(O),x=n(55),y=n(1312),E=n(599),w=n(794),k=n(100),C=n(115),S=n.n(C),P=n(164),D=n.n(P),F=n(52),I=n(1680),z=n(1609),A=n(1614),M=n(596),B=n(1689),T=n(1697),R=n(196),L=n(1679),H=n(1613),V=n(1760),U=n(1664),Y=n(1621),K=n(594),Z=n(853),$=n(860),G=n(1611),q=n(1634),J=n(1620),Q=n(1608),W=n(12),X=n(145),ee=n(1458),te=n.n(ee),ne=n(1705),re="/opt/tiger/compile_path/src/code.byted.org/biz-platform/hids/src/pages/host-list/task-host/index.tsx";function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ie,oe=S.a.bind(te.a),ce={visible:!1,type:I.a.edit,agent:[],tags:[]};ie=[];t.default=function(e){var t,n,u,s,b,f,p,N,_,C,S,P,ee,te=e.filter,ae=e.setFilter,ie=e.tablePropsProxy,ue=e.tableChangeDeps,me=Object(O.useState)(!1),se=g()(me,2),de=(se[0],se[1]),be=Object(x.g)(),fe=Object(F.f)(X.k),pe=Object($.default)(),ve=pe.tagOptions,Ne=pe.platformOptions,ge=pe.idcOptions,_e=Object(O.useState)(!1),he=g()(_e,2),Oe=he[0],je=he[1],xe=Object(O.useState)(ce),ye=g()(xe,2),Ee=ye[0],we=ye[1],ke=Object(O.useRef)(),Ce=Object(O.useRef)(),Se=Object(E.a)(v()(h.a.mark((function e(){var t,n,r,a,l,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(q.DescribeHosts)({data:{hostname:null==te?void 0:te.hostname,ip:null==te?void 0:te.ip,agent_id:null==te?void 0:te.agent_id,version:null==te?void 0:te.version,tags:null==te?void 0:te.tags,idc:null==te?void 0:te.idc,platform:null==te?void 0:te.platform,status:null==te?void 0:te.status,important_protect:1===(null==te||null===(t=te.important_protect)||void 0===t?void 0:t.length)?null==te||null===(n=te.important_protect)||void 0===n?void 0:n[0]:void 0},params:{page:te.current,page_size:te.pageSize,_id:Ce.current||void 0,offset_page:Ce.current&&ke.current?te.current-ke.current:void 0}});case 2:return i=e.sent,Ce.current=null===(r=(null!==(a=null==i?void 0:i.data)&&void 0!==a?a:[]).sort((function(e,t){return t._id-e._id}))[0])||void 0===r?void 0:r._id,ke.current=te.current,e.abrupt("return",{list:(null==i?void 0:i.data)||[],total:null==i||null===(l=i.page_info)||void 0===l?void 0:l.total});case 6:case"end":return e.stop()}}),e)}))),{auto:!0,defaultParams:[{current:te.current,pageSize:te.pageSize}],debounceInterval:300,onChangeDeps:[Object(w.a)(le({},ue))]}),Pe=Se.tableProps,De=Se.refresh,Fe=Se.error,Ie=Object(A.b)({initSelectKeys:null==te?void 0:te.id_list,initIsSelectedAllFromFilter:Boolean(te.isSelectedAllFromFilter)}),ze=d()({},Ie),Ae=ze.selectedRowKeys,Me=ze.isSelectedAllFromFilter;Object(k.a)((function(){ae((function(e){return le(le({},e),{},{id_list:Ae,isSelectedAllFromFilter:Me})}))}),[Ae,Me]);var Be=Object(O.useMemo)((function(){var e;return te.isSelectedAllFromFilter?{conditions:{tags:te.tags,idc:te.idc,platform:te.platform,status:te.status,hostname:te.hostname,version:te.version,ip:te.ip,agent_id:te.agent_id,important_protect:1===(null===(e=te.important_protect)||void 0===e?void 0:e.length)?te.important_protect[0]:void 0}}:{id_list:te.id_list}}),[te]),Te=function(e){var t;t=e?le(le({},te),{},{isSelectedAllFromFilter:!1,id_list:[e]}):le({},te);var n=D.a.stringify(t,{arrayFormat:"bracket"});be.push("create-task?".concat(n))},Re=[{title:Object(W.g)("主机名称"),dataIndex:"hostname",width:160,headerCellStyle:{paddingLeft:"8px"},render:function(e,t){var n,r,a,l,i=[].concat(m()(null!==(n=t.extranet_ipv4)&&void 0!==n?n:[]),m()(null!==(r=t.extranet_ipv6)&&void 0!==r?r:[])),o=[].concat(m()(null!==(a=t.intranet_ipv4)&&void 0!==a?a:[]),m()(null!==(l=t.intranet_ipv6)&&void 0!==l?l:[]));return j.a.createElement("div",{__source:{fileName:re,lineNumber:221,columnNumber:11}},j.a.createElement(K.a,{href:"/host-detail?agentId=".concat(null==t?void 0:t.agent_id,"&breadcrumbLinkFrom=").concat(Object(z.b)()),target:"_blank",__source:{fileName:re,lineNumber:222,columnNumber:13}},t.hostname||"-"),j.a.createElement("div",{style:{paddingLeft:"8px"},__source:{fileName:re,lineNumber:230,columnNumber:13}},i.length?j.a.createElement(L.a,{data:{label:Object(W.g)("公网"),content:i[0]},outerContainerStyle:{color:"#1D2129"},__source:{fileName:re,lineNumber:232,columnNumber:17}}):null,o.length?j.a.createElement(L.a,{data:{label:Object(W.g)("私网"),content:o[0]},outerContainerStyle:{color:"#1D2129"},__source:{fileName:re,lineNumber:238,columnNumber:17}}):null))}},{title:Object(W.g)("标签"),dataIndex:"tags",headerCellStyle:{paddingLeft:4},width:150,filteredValue:te.tags,filterDropdown:null!=ve&&ve.length?function(){return j.a.createElement(B.a,{options:(null==ve?void 0:ve.map((function(e){return{label:null==e?void 0:e.text,value:null==e?void 0:e.value}})))||[],onClose:function(){je(!1)},value:te.tags,onChangeValue:function(e){ae({tags:e})},__source:{fileName:re,lineNumber:256,columnNumber:13}})}:null,filterDropdownProps:{triggerProps:{popupVisible:Oe,onVisibleChange:function(e){je(e)}}},render:function(e,t){var n;return j.a.createElement(U.a,{value:null!==(n=null==t?void 0:t.tags)&&void 0!==n?n:[],showNum:2,isEditable:fe,onEdit:function(e){we((function(n){return le(le({},n),{},{visible:!0,type:I.a.edit,tags:m()(e),agent:[t.agent_id]})}))},onDelete:function(){var e=v()(h.a.mark((function e(n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(q.DeleteTags)({data:{tags:[n],id_list:[t.agent_id]}});case 2:De();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),__source:{fileName:re,lineNumber:278,columnNumber:11}})}},{title:Object(W.g)("地域"),dataIndex:"idc",width:100,filters:ge||[],filteredValue:null!==(t=te.idc)&&void 0!==t?t:[],render:function(e,t){return t.idc||"-"}},{title:Object(W.g)("操作系统"),dataIndex:"platform",width:W.d?180:100,filters:Ne||[],filteredValue:null!==(n=te.platform)&&void 0!==n?n:[],render:function(e,t){return t.platform||"-"}},{title:Object(W.g)("风险"),dataIndex:"risk",width:W.d?400:320,render:function(e,t){var n,r,a;return j.a.createElement("div",{style:{display:"flex",justifyItems:"space-between"},__source:{fileName:re,lineNumber:325,columnNumber:11}},j.a.createElement(V.a,{number:(null==t||null===(n=t.risk)||void 0===n?void 0:n.alarm)||0,title:Object(W.g)("告警"),agentId:null==t?void 0:t.agent_id,activeTab:"securityAlarm",__source:{fileName:re,lineNumber:326,columnNumber:13}}),j.a.createElement(V.a,{number:(null==t||null===(r=t.risk)||void 0===r?void 0:r.vuln)||0,title:Object(W.g)("漏洞"),agentId:null==t?void 0:t.agent_id,activeTab:"vulnerabilityRisk",__source:{fileName:re,lineNumber:332,columnNumber:13}}),j.a.createElement(V.a,{number:(null==t||null===(a=t.risk)||void 0===a?void 0:a.baseline)||0,title:Object(W.g)("基线"),agentId:null==t?void 0:t.agent_id,activeTab:"baselineRisk",__source:{fileName:re,lineNumber:338,columnNumber:13}}))}},{title:Object(W.g)("状态"),dataIndex:"status",width:W.d?120:90,filters:Z.hostStatusOptions||[],filteredValue:null!==(u=te.status)&&void 0!==u?u:[],render:function(e,t){return j.a.createElement(T.a,{value:null==t?void 0:t.status,detail:null==t?void 0:t.state_detail,__source:{fileName:re,lineNumber:355,columnNumber:16}})}},{title:Object(W.g)("客户端资源使用"),width:W.d?230:200,render:function(e,t){return t.status===G.d.offline?j.a.createElement(ne.a,{__source:{fileName:re,lineNumber:363,columnNumber:11}}):j.a.createElement(ne.a,{cpu:null==t?void 0:t.cpu,memory:null==t?void 0:t.memory,__source:{fileName:re,lineNumber:365,columnNumber:11}})}},{title:Object(W.g)("更新时间"),dataIndex:"last_heartbeat_time",width:150,render:function(e,t){return j.a.createElement("div",{__source:{fileName:re,lineNumber:374,columnNumber:16}},Object(Q.a)(null==t?void 0:t.last_heartbeat_time,"YYYY-MM-DD HH:mm:ss",!0))}},{title:Object(W.g)("操作"),dataIndex:"op",fixed:"right",headerCellStyle:{paddingLeft:"8px"},width:120,render:function(e,t){var n=t.status===G.d.offline||t.status===G.d.uninstall;return j.a.createElement(c.a,{content:fe?"".concat(Object(W.g)('"未安装"及"离线"的主机不可下发任务')):Object(W.g)("当前用户暂无编辑权限"),trigger:"hover",disabled:!n&&fe,__source:{fileName:re,lineNumber:389,columnNumber:11}},j.a.createElement(K.a,{onClick:function(){Te(t.agent_id)},disabled:n||!fe,__source:{fileName:re,lineNumber:398,columnNumber:13}},Object(W.g)("下发任务")))}}];return j.a.createElement(j.a.Fragment,null,j.a.createElement(M.a,{title:Object(W.g)("主机内容"),contentStyle:{marginTop:16},__source:{fileName:re,lineNumber:414,columnNumber:7}},j.a.createElement("div",{className:oe("header"),__source:{fileName:re,lineNumber:420,columnNumber:9}},j.a.createElement(l.a,{size:12,__source:{fileName:re,lineNumber:421,columnNumber:11}},j.a.createElement(c.a,{content:Object(W.g)("请先在下方选择用户后再开启重保模式"),trigger:"hover",disabled:!(null==te||null===(s=te.id_list)||void 0===s||!s.length),__source:{fileName:re,lineNumber:422,columnNumber:13}},j.a.createElement(i.a,{disabled:!(null!=te&&null!==(b=te.id_list)&&void 0!==b&&b.length),onClick:v()(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(q.PostApiV6AssetCenterEnableHostImportantProtect)(Be);case 3:return e.next=5,De();case 5:o.a.success(Object(W.g)("开启成功")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),o.a.error(Object(W.g)("开启失败"));case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),__source:{fileName:re,lineNumber:427,columnNumber:15}},Object(W.g)("开启重保模式"))),j.a.createElement(c.a,{content:Object(W.g)("请先在下方选择用户后再关闭重保模式"),trigger:"hover",disabled:!(null==te||null===(f=te.id_list)||void 0===f||!f.length),__source:{fileName:re,lineNumber:442,columnNumber:13}},j.a.createElement(i.a,{disabled:!(null!=te&&null!==(p=te.id_list)&&void 0!==p&&p.length),onClick:v()(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(q.PostApiV6AssetCenterDisableHostImportantProtect)(Be);case 3:return e.next=5,De();case 5:o.a.success(Object(W.g)("关闭成功")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),o.a.error(Object(W.g)("关闭失败"));case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),__source:{fileName:re,lineNumber:447,columnNumber:15}},Object(W.g)("关闭重保模式"))),j.a.createElement(c.a,{content:Object(W.g)("请先在下方选择用户后再批量导出"),trigger:"hover",disabled:!(null==te||null===(N=te.id_list)||void 0===N||!N.length),__source:{fileName:re,lineNumber:462,columnNumber:13}},j.a.createElement(i.a,{disabled:!(null!=te&&null!==(_=te.id_list)&&void 0!==_&&_.length),onClick:function(){Object(J.a)({url:"/api/v6/asset-center/ExportHosts",data:Be,notifyId:"task-host"})},__source:{fileName:re,lineNumber:467,columnNumber:15}},Object(W.g)("批量导出"))),j.a.createElement(c.a,{content:fe?Object(W.g)("请先在下方选择用户后再批量添加标签"):Object(W.g)("当前用户暂无编辑权限"),trigger:"hover",disabled:!(null==te||null===(C=te.id_list)||void 0===C||!C.length)&&fe,__source:{fileName:re,lineNumber:480,columnNumber:13}},j.a.createElement(i.a,{disabled:!(null!=te&&null!==(S=te.id_list)&&void 0!==S&&S.length&&fe),onClick:function(){we((function(e){return le(le({},e),{},{visible:!0,type:I.a.add,tags:[],agent:te.id_list})}))},__source:{fileName:re,lineNumber:489,columnNumber:15}},Object(W.g)("批量添加标签"))),j.a.createElement(c.a,{content:fe?Object(W.g)("请先在下方选择用户后再批量下发任务"):Object(W.g)("当前用户暂无编辑权限"),trigger:"hover",disabled:!(null==te||null===(P=te.id_list)||void 0===P||!P.length)&&fe,__source:{fileName:re,lineNumber:504,columnNumber:13}},j.a.createElement(i.a,{disabled:!(null!=te&&null!==(ee=te.id_list)&&void 0!==ee&&ee.length&&fe),onClick:function(){Te()},__source:{fileName:re,lineNumber:513,columnNumber:15}},Object(W.g)("批量下发任务")))),j.a.createElement(l.a,{size:12,__source:{fileName:re,lineNumber:523,columnNumber:11}},j.a.createElement("span",{__source:{fileName:re,lineNumber:524,columnNumber:13}},j.a.createElement(H.a,{onRefresh:v()(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,De();case 2:o.a.success(Object(W.g)("刷新成功"));case 3:case"end":return e.stop()}}),e)}))),__source:{fileName:re,lineNumber:525,columnNumber:15}})),j.a.createElement("span",{__source:{fileName:re,lineNumber:532,columnNumber:13}},j.a.createElement(r.a,{trigger:"click",position:"br",droplist:j.a.createElement(a.a,{__source:{fileName:re,lineNumber:537,columnNumber:19}},j.a.createElement(a.a.Item,{onClick:function(){return de(!0)},key:"1",__source:{fileName:re,lineNumber:538,columnNumber:21}},Object(W.g)("清理离线数据"))),__source:{fileName:re,lineNumber:533,columnNumber:15}},j.a.createElement(i.a,{icon:j.a.createElement(y.c,{__source:{fileName:re,lineNumber:544,columnNumber:31}}),__source:{fileName:re,lineNumber:544,columnNumber:17}}))))),j.a.createElement(Y.a,{options:Z.selectTypeInputHostOptions,style:{marginBottom:16},value:te,onChange:function(e,t){var n={};Z.selectTypeInputHostOptions.forEach((function(e){var r=e.value;return n[r]=t[r]})),ae(n)},__source:{fileName:re,lineNumber:550,columnNumber:9}}),j.a.createElement("div",{className:oe("content"),__source:{fileName:re,lineNumber:562,columnNumber:9}},j.a.createElement(A.a,d()({onResetSelectedRowsDeps:m()(ue),rowKey:"agent_id",scroll:{x:1400}},ie(Pe),{columns:Re,rowSelection:le({selectedRowKeys:Ae},ze),noDataElement:Fe?j.a.createElement(R.a,{onReload:De,error:Fe,__source:{fileName:re,lineNumber:572,columnNumber:17}},j.a.createElement(R.d,{__source:{fileName:re,lineNumber:573,columnNumber:19}})):void 0,__source:{fileName:re,lineNumber:563,columnNumber:11}})))),j.a.createElement(I.c,{type:Ee.type,visible:Ee.visible,value:Ee.tags,onCancel:function(){we(le({},ce))},onConfirm:function(){var e=v()(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ee.type!==I.a.edit){e.next=5;break}return e.next=3,Object(q.UpdateTags)({data:{tags:t,id_list:Ee.agent}});case 3:e.next=7;break;case 5:return e.next=7,Object(q.AddTags)({data:le({tags:t},Be)});case 7:we(le({},ce)),De();case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),__source:{fileName:re,lineNumber:583,columnNumber:7}}))}},853:function(e,t,n){"use strict";n.r(t),n.d(t,"selectTypeInputHostOptions",(function(){return l})),n.d(t,"hostStatusOptions",(function(){return i}));var r=n(1611),a=n(12),l=[{text:Object(a.g)("主机名称"),value:"hostname"},{text:Object(a.g)("主机IP"),value:"ip"},{text:Object(a.g)("主机ID"),value:"agent_id"},{text:Object(a.g)("客户端版本"),value:"version"}],i=[{value:r.d.uninstall,label:Object(a.g)("未安装"),text:Object(a.g)("未安装")},{value:r.d.running,label:Object(a.g)("运行中"),text:Object(a.g)("运行中")},{value:r.d.abnormal,label:Object(a.g)("运行异常"),text:Object(a.g)("运行异常")},{value:r.d.offline,label:Object(a.g)("离线"),text:Object(a.g)("离线")}]},860:function(e,t,n){"use strict";n.r(t);var r=n(28),a=n.n(r),l=n(16),i=n.n(l),o=n(1292),c=n(1634);t.default=function(){var e=Object(o.a)(a()(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.DescribeTags)();case 2:return t=e.sent,e.abrupt("return",null==t?void 0:t.data.map((function(e){return{value:e,text:e}})));case 4:case"end":return e.stop()}}),e)}))),{auto:!0}).data,t=void 0===e?[]:e,n=Object(o.a)(a()(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.DescribePlatforms)();case 2:return t=e.sent,e.abrupt("return",null==t?void 0:t.data.map((function(e){return{value:e,text:e}})));case 4:case"end":return e.stop()}}),e)}))),{auto:!0}).data,r=void 0===n?[]:n,l=Object(o.a)(a()(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.DescribeIDCs)();case 2:return t=e.sent,e.abrupt("return",null==t?void 0:t.data.map((function(e){return{value:e,text:e}})));case 4:case"end":return e.stop()}}),e)}))),{auto:!0}).data;return{tagOptions:t,platformOptions:r,idcOptions:void 0===l?[]:l}}}}]);