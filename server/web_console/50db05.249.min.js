(window.webpackJsonp=window.webpackJsonp||[]).push([[249,14,30,85,114,388,408,485,486,487],{1353:function(e,t,n){e.exports={"basic-info-item-container":"basic-info-item-container-f63d77434b","item-title":"item-title-14424d89ea","item-content":"item-content-0f1e0e0e6c",col:"col-5523dffe2e"}},1408:function(e,t,n){e.exports={container:"container-eed95b3d52","top-nav-box":"top-nav-box-710c2b6cb6","back-button":"back-button-729406b74e","host-name":"host-name-684f15c748","content-box":"content-box-5528e6b13f",content:"content-f493ad0976","bottom-footer-box":"bottom-footer-box-ddba6e369f",text:"text-229b2ea3d9",number:"number-4146bafed2"}},1429:function(e,t,n){e.exports={"basic-info-item-container":"basic-info-item-container-ffb355ba24","item-title":"item-title-60af6fcd5c","item-content":"item-content-7535bdcc94",col:"col-0c10b616b6"}},1430:function(e,t,n){e.exports={header:"header-192f1855ae","detail-card":"detail-card-0e5ebe74a4",card:"card-7cea4ab805",nvabar:"nvabar-1878f7d81a",content:"content-2b68ec440a",label:"label-78acfb833b",value:"value-ba1eb174ef",tip:"tip-8aae57b6c5"}},1501:function(e,t,n){e.exports={container:"container-eb2ec1eec1","top-nav-box":"top-nav-box-3549c73812","top-center-box":"top-center-box-3d507c753d","back-button":"back-button-cd75439690","host-name":"host-name-2b106aff6a","base-info":"base-info-ea8e09edda"}},1615:function(e,t,n){"use strict";var l=n(0),a=n.n(l),r=n(115),i=n.n(r),c=n(1623),u=n.n(c),o="/opt/tiger/compile_path/src/code.byted.org/biz-platform/hids/src/components/common/status-display-component/index.tsx",m=i.a.bind(u.a);t.a=function(e){var t=e.color,n=e.content;return a.a.createElement("div",{className:m("container"),__source:{fileName:o,lineNumber:15,columnNumber:5}},a.a.createElement("div",{className:m("circle"),style:{background:t},__source:{fileName:o,lineNumber:16,columnNumber:7}}),a.a.createElement("div",{className:m("content"),__source:{fileName:o,lineNumber:17,columnNumber:7}},n))}},1623:function(e,t,n){e.exports={container:"container-5be80ecb83",content:"content-c7c988a72c",circle:"circle-f32e1ad32c"}},1626:function(e,t,n){"use strict";n.d(t,"k",(function(){return a})),n.d(t,"l",(function(){return s})),n.d(t,"m",(function(){return b})),n.d(t,"n",(function(){return d})),n.d(t,"e",(function(){return f})),n.d(t,"f",(function(){return N})),n.d(t,"c",(function(){return _})),n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return p})),n.d(t,"d",(function(){return g})),n.d(t,"h",(function(){return O})),n.d(t,"i",(function(){return j})),n.d(t,"g",(function(){return h})),n.d(t,"j",(function(){return y}));var l,a,r=n(10),i=n.n(r),c=n(54),u=n(12);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e.scan_quick="scan_quick",e.scan_full="scan_full",e.scan_file="scan_file"}(a||(a={}));var s=(l={},i()(l,a.scan_quick,Object(u.g)("快速扫描")),i()(l,a.scan_full,Object(u.g)("全盘扫描")),i()(l,a.scan_file,Object(u.g)("端上目录/文件扫描")),l),b=[{label:s[a.scan_file],text:s[a.scan_file],value:a.scan_file},{label:s[a.scan_full],text:s[a.scan_full],value:a.scan_full},{label:s[a.scan_quick],text:s[a.scan_quick],value:a.scan_quick}],d=[{label:Object(u.g)("文件路径"),value:"static_file"},{label:Object(u.g)("文件MD5"),value:"md5_hash"}];function f(e,t){return Object(c.b)({url:"/api/v6/virus/task/hosts",params:e,data:t,method:"POST"},Object(u.g)("获取任务的主机列表"))}function N(e,t){return Object(c.b)({url:"/api/v6/virus/task/list",params:e,data:t,method:"POST"},Object(u.g)("获取任务列表"))}function _(e,t){return Object(c.b)({url:"/api/v6/virus/alarm/list",params:e,data:t,method:"POST"},Object(u.g)("获取告警列表"))}function v(e){return Object(c.b)({url:"/api/v6/virus/alarm/statistics",params:e,method:"GET"},Object(u.g)("获取告警统计数据"))}function p(e){return Object(c.b)({url:"/api/v6/virus/task/statistics",params:e,method:"GET"},Object(u.g)("获取任务统计数据"))}function g(e){var t=e.data;return Object(c.b)({url:"/api/v6/virus/alarm/update",data:t,method:"POST"},Object(u.g)("更新告警处理状态"))}function O(e){return Object(c.b)({url:"/api/v6/virus/whitelist/increase",data:e,method:"POST"},Object(u.g)("新增白名单"))}function j(e){return Object(c.b)(m(m({url:"/api/v6/virus/whitelist/listing"},e),{},{method:"POST"}),Object(u.g)("获取白名单列表"))}function h(e){var t=e.data;return Object(c.b)({url:"/api/v6/virus/whitelist/del",data:t,method:"POST"},Object(u.g)("删除白名单"))}function y(e){return Object(c.b)({url:"/api/v6/virus/whitelist/update",data:e,method:"POST"},Object(u.g)("修改病毒查杀白名单规则名字和注释"))}},1643:function(e,t,n){"use strict";n(162);var l=n(67),a=n(0),r=n.n(a),i=n(115),c=n.n(i),u=n(1651),o=n.n(u),m="/opt/tiger/compile_path/src/code.byted.org/biz-platform/hids/src/components/common/content-more-component/index.tsx",s=c.a.bind(o.a);t.a=function(e){var t,n,a=e.value;return r.a.createElement("div",{className:s("container"),__source:{fileName:m,lineNumber:15,columnNumber:5}},r.a.createElement("div",{__source:{fileName:m,lineNumber:16,columnNumber:7}},null!==(t=null==a?void 0:a[0])&&void 0!==t?t:"-"),(null==a?void 0:a.length)>1?r.a.createElement(l.a,{content:r.a.createElement("div",{className:s("tootip-content-container"),__source:{fileName:m,lineNumber:20,columnNumber:13}},null==a||null===(n=a.slice(1))||void 0===n?void 0:n.map((function(e,t){return r.a.createElement("div",{key:t,__source:{fileName:m,lineNumber:22,columnNumber:17}},e)}))),getPopupContainer:function(){var e;return null===(e=document.getElementsByTagName("body"))||void 0===e?void 0:e[0]},__source:{fileName:m,lineNumber:18,columnNumber:9}},r.a.createElement("div",{className:s("more-tag"),__source:{fileName:m,lineNumber:28,columnNumber:11}},"+",(null==a?void 0:a.length)-1)):null)}},1651:function(e,t,n){e.exports={container:"container-6d09a24e4a","more-tag":"more-tag-75ce26381f","tootip-content-container":"tootip-content-container-5ead864ae3"}},1677:function(e,t,n){"use strict";var l,a=n(0),r=n.n(a);function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e}).apply(this,arguments)}t.a=function(e){return r.a.createElement("svg",i({width:12,height:12,fill:"none"},e),l||(l=r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.934 7.96a.5.5 0 01-.708 0l-2.18-2.18L3.93 7.899a.5.5 0 01-.707 0l-.354-.353a.5.5 0 010-.707l2.829-2.829a.5.5 0 01.707 0l.353.354a.505.505 0 01.048.055L9.287 6.9a.5.5 0 010 .707l-.353.354z",fill:"#4E5969"})))}},1680:function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return p}));n(597);var l,a=n(226),r=n(51),i=n.n(r),c=n(50),u=n.n(c),o=(n(600),n(198)),m=n(0),s=n.n(m),b=n(115),d=n.n(b),f=n(1634),N=n(12);function _(){return(_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e}).apply(this,arguments)}var v,p,g=function(e){return s.a.createElement("svg",_({width:12,height:12,fill:"none"},e),l||(l=s.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.298 3.348a.5.5 0 00-.707 0L6 4.94 4.409 3.35a.5.5 0 00-.707 0l-.354.353a.5.5 0 000 .707L4.94 6 3.35 7.591a.5.5 0 000 .707l.353.354a.5.5 0 00.707 0L6 7.06l1.591 1.59a.5.5 0 00.707 0l.354-.353a.5.5 0 000-.707L7.06 6l1.59-1.591a.5.5 0 000-.707l-.353-.354z",fill:"#4E5969"})))},O=n(1684),j=n.n(O),h="/opt/tiger/compile_path/src/code.byted.org/biz-platform/hids/src/components/common/add-edit-tag-modal/index.tsx",y=d.a.bind(j.a),E=o.a.Option;!function(e){e[e.add=0]="add",e[e.edit=1]="edit"}(v||(v={})),function(e){e[e.event=0]="event",e[e.host=1]="host"}(p||(p={}));t.c=function(e){var t=e.type,n=e.onCancel,l=e.onConfirm,r=e.visible,c=e.value,b=e.whichModule,d=void 0===b?p.host:b,_=e.tips,O=e.max,j=e.queryEventTagList,k=Object(m.useState)([]),x=u()(k,2),w=x[0],S=x[1],T=Object(m.useState)([]),P=u()(T,2),C=P[0],F=P[1],D=Object(m.useState)(""),I=u()(D,2),A=I[0],z=I[1];return Object(m.useEffect)((function(){F(c)}),[c]),Object(m.useEffect)((function(){r&&(d===p.host?Object(f.DescribeTags)().then((function(e){var t=e.data;S(null!=t?t:[])})):d===p.event&&j().then((function(e){var t,n=e.data;S(null!==(t=null==n?void 0:n.tag_list)&&void 0!==t?t:[])})))}),[r]),s.a.createElement(a.a,{title:s.a.createElement("div",{style:{textAlign:"left"},__source:{fileName:h,lineNumber:75,columnNumber:9}},t===v.add?Object(N.g)("批量添加标签"):Object(N.g)("编辑标签")),visible:r,onOk:function(){l(C)},style:{width:600},onCancel:function(){n(),F([])},autoFocus:!1,focusLock:!0,__source:{fileName:h,lineNumber:73,columnNumber:5}},s.a.createElement("div",{className:y("select-container"),__source:{fileName:h,lineNumber:91,columnNumber:7}},s.a.createElement("span",{className:y("label"),__source:{fileName:h,lineNumber:92,columnNumber:9}},d===p.event?Object(N.g)("事件标签"):Object(N.g)("主机标签")),s.a.createElement(o.a,{mode:"multiple",placeholder:Object(N.g)("请输入英文或数字，最多10个字符"),style:{width:496},value:C,onChange:function(e){F(e)},removeIcon:s.a.createElement(g,{__source:{fileName:h,lineNumber:103,columnNumber:23}}),inputValue:A,onInputValueChange:function(e){if(O&&(null==C?void 0:C.length)===O){if(!/^[0-9a-zA-Z]{0,10}$|^[0-9a-zA-Z]{1,10}$/.test(e))return;z(e)}else if(/^[0-9a-zA-Z]{0,10}$|^[0-9a-zA-Z]{1,10};$/.test(e))if((null==e?void 0:e.length)>1&&";"===(null==e?void 0:e[(null==e?void 0:e.length)-1])){var t=null==e?void 0:e.slice(0,(null==e?void 0:e.length)-1),n=null==C?void 0:C.findIndex((function(e){return e===t}));-1===n?F([].concat(i()(C),[t])):(C.splice(n,1),F(i()(C))),z("")}else z(e)},getPopupContainer:function(e){return e},allowCreate:!O||O&&(null==C?void 0:C.length)<O,allowClear:!0,__source:{fileName:h,lineNumber:95,columnNumber:9}},w.map((function(e){return s.a.createElement(E,{disabled:!!O&&((null==C?void 0:C.length)===O&&!(null!=C&&C.includes(e))),key:e,value:e,__source:{fileName:h,lineNumber:136,columnNumber:13}},e)})))),s.a.createElement("div",{className:y("tips"),__source:{fileName:h,lineNumber:146,columnNumber:7}},_||Object(N.g)("可添加多个标签，使用“;”或回车分隔")))}},1683:function(e,t,n){"use strict";var l;n.d(t,"a",(function(){return l})),function(e){e[e.B=Math.pow(1024,0)]="B",e[e.KB=Math.pow(1024,1)]="KB",e[e.MB=Math.pow(1024,2)]="MB",e[e.GB=Math.pow(1024,3)]="GB",e[e.TB=Math.pow(1024,4)]="TB",e[e.PB=Math.pow(1024,5)]="PB"}(l||(l={})),t.b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.MB,n=Math.abs(e);if(!e)return{displayCount:0,displayUnit:"B"};for(var a=Object.values(l).filter((function(e){return"string"==typeof e})).map((function(e){return e})),r=Object.values(l).filter((function(e){return"number"==typeof e})).map((function(e){return e})),i=0;i<a.length;i++){var c,u,o,m,s=n;if(0!==i)s=parseFloat(null===(c=n/r[i])||void 0===c?void 0:c.toFixed(2));if(s<10)return{displayCount:null===(u=s)||void 0===u?void 0:u.toFixed(2),displayUnit:a[i]};if(s>=10&&s<100)return{displayCount:null===(o=s)||void 0===o?void 0:o.toFixed(1),displayUnit:a[i]};if(s>=100&&s<1e3)return{displayCount:null===(m=s)||void 0===m?void 0:m.toFixed(0),displayUnit:a[i]};if(r[i]===t)break}return{displayCount:"999+",displayUnit:l[t]}}},1684:function(e,t,n){e.exports={"select-container":"select-container-d3cc3ca58c",label:"label-fcefb58d85",tips:"tips-a3a1efbcba"}},342:function(e,t,n){"use strict";n.r(t),n.d(t,"BasicInfoItem",(function(){return q}));n(306);var l=n(601),a=n(51),r=n.n(a),i=n(28),c=n.n(i),u=n(50),o=n.n(u),m=(n(803),n(227)),s=n(10),b=n.n(s),d=n(16),f=n.n(d),N=n(0),_=n.n(N),v=n(799),p=n(115),g=n.n(p),O=n(164),j=n.n(O),h=n(52),y=n(1680),E=n(596),k=n(1643),x=n(1697),w=n(1664),S=n(1634),T=n(1683),P=n(1608),C=n(12),F=n(145),D=n(1353),I=n.n(D),A="/opt/tiger/compile_path/src/code.byted.org/biz-platform/hids/src/pages/host-detail/host-overview/basic-info/index.tsx";function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var M=g.a.bind(I.a),q=function(e){var t=e.title,n=e.content,l=e.titleStyle,a=e.contentStyle,r=e.isString,i=void 0===r?"string"==typeof n:r;return _.a.createElement("div",{className:M("basic-info-item-container"),__source:{fileName:A,lineNumber:41,columnNumber:5}},_.a.createElement("div",{className:M("item-title"),style:B({},l),__source:{fileName:A,lineNumber:42,columnNumber:7}},_.a.createElement(v.a,{__source:{fileName:A,lineNumber:43,columnNumber:9}},t)),_.a.createElement("div",{className:M("item-content"),style:B({},a),__source:{fileName:A,lineNumber:45,columnNumber:7}},i?_.a.createElement(m.a.Paragraph,{ellipsis:{rows:1,showTooltip:!0},style:{marginBottom:0},__source:{fileName:A,lineNumber:47,columnNumber:11}},n):n))};t.default=function(e){var t,n,a,i,u,m,s,b,d,v,p,g,O,D,I,z,B,L,V,R,U,G,H,W,Z,$,K,J,Q=e.data,X=e.onRefresh,Y=Object(N.useState)(!1),ee=o()(Y,2),te=ee[0],ne=ee[1],le=Object(N.useState)([]),ae=o()(le,2),re=ae[0],ie=ae[1],ce=null===(t=j.a.parse(location.search))||void 0===t?void 0:t.agentId,ue=Object(h.f)(F.k);function oe(){return(oe=c()(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ce){e.next=5;break}return e.next=3,Object(S.UpdateTags)({data:{tags:t,id_list:[ce]}});case 3:ne(!1),X();case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function me(){return(me=c()(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ce){e.next=4;break}return e.next=3,Object(S.DeleteTags)({data:{tags:[t],id_list:[ce]}});case 3:X();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return _.a.createElement(E.a,{title:Object(C.g)("基础信息"),containerStyle:{minWidth:1200,maxWidth:"85%",margin:"0 auto",minHeight:204},contentStyle:{display:"flex",marginTop:20},__source:{fileName:A,lineNumber:85,columnNumber:5}},Q?_.a.createElement(_.a.Fragment,null,_.a.createElement("div",{className:M("col"),__source:{fileName:A,lineNumber:92,columnNumber:11}},_.a.createElement(q,{title:Object(C.g)("主机名称"),content:null!==(n=null==Q?void 0:Q.hostname)&&void 0!==n?n:"-",titleStyle:{width:64},__source:{fileName:A,lineNumber:93,columnNumber:13}}),_.a.createElement(q,{title:Object(C.g)("主机ID"),content:null!==(a=null==Q?void 0:Q.agent_id)&&void 0!==a?a:"-",titleStyle:{width:64},__source:{fileName:A,lineNumber:98,columnNumber:13}}),_.a.createElement(q,{title:Object(C.g)("操作系统"),content:"".concat(null!==(i=null==Q?void 0:Q.platform)&&void 0!==i?i:"-",":").concat(null!==(u=null==Q?void 0:Q.platform_version)&&void 0!==u?u:"-"),titleStyle:{width:64},__source:{fileName:A,lineNumber:103,columnNumber:13}}),_.a.createElement(q,{title:Object(C.g)("主机标签"),content:null!=Q&&null!==(m=Q.tags)&&void 0!==m&&m.length?_.a.createElement("div",{style:{margin:"-8px 0 0 -4px",height:20},__source:{fileName:A,lineNumber:112,columnNumber:19}},_.a.createElement(w.a,{value:null!==(s=null==Q?void 0:Q.tags)&&void 0!==s?s:[],showNum:2,isEditable:ue,onEdit:function(e){ie(r()(e)),ne(!0)},onDelete:function(e){return me.apply(this,arguments)},__source:{fileName:A,lineNumber:113,columnNumber:21}})):"-",titleStyle:{width:64},isString:!1,__source:{fileName:A,lineNumber:108,columnNumber:13}}),_.a.createElement(q,{title:Object(C.g)("设备型号"),content:null!==(b=null==Q?void 0:Q.host_model)&&void 0!==b?b:"-",titleStyle:{width:64},__source:{fileName:A,lineNumber:131,columnNumber:13}}),_.a.createElement(q,{title:Object(C.g)("生产商"),content:null!==(d=null==Q?void 0:Q.host_vendor)&&void 0!==d?d:"-",titleStyle:{width:64},__source:{fileName:A,lineNumber:136,columnNumber:13}}),_.a.createElement(q,{title:Object(C.g)("系统负载"),content:"".concat(null!==(v=null==Q?void 0:Q.load_1)&&void 0!==v?v:"-","/").concat(null!==(p=null==Q?void 0:Q.load_5)&&void 0!==p?p:"-","/").concat(null!==(g=null==Q?void 0:Q.load_15)&&void 0!==g?g:"-"),titleStyle:{width:64},__source:{fileName:A,lineNumber:141,columnNumber:13}})),_.a.createElement("div",{className:M("col"),__source:{fileName:A,lineNumber:147,columnNumber:11}},_.a.createElement(q,{title:Object(C.g)("公网IPv4"),content:null!=Q&&null!==(O=Q.extranet_ipv4)&&void 0!==O&&O.length?_.a.createElement(k.a,{value:Q.extranet_ipv4,__source:{fileName:A,lineNumber:152,columnNumber:19}}):"-",titleStyle:{width:66},__source:{fileName:A,lineNumber:148,columnNumber:13}}),_.a.createElement(q,{title:Object(C.g)("公网IPv6"),content:null!=Q&&null!==(D=Q.extranet_ipv6)&&void 0!==D&&D.length?_.a.createElement(k.a,{value:Q.extranet_ipv6,__source:{fileName:A,lineNumber:163,columnNumber:19}}):"-",titleStyle:{width:66},__source:{fileName:A,lineNumber:159,columnNumber:13}}),_.a.createElement(q,{title:Object(C.g)("私网IPv4"),content:null!=Q&&null!==(I=Q.intranet_ipv4)&&void 0!==I&&I.length?_.a.createElement(k.a,{value:Q.intranet_ipv4,__source:{fileName:A,lineNumber:174,columnNumber:19}}):"-",titleStyle:{width:66},__source:{fileName:A,lineNumber:170,columnNumber:13}}),_.a.createElement(q,{title:Object(C.g)("私网IPv6"),content:null!=Q&&null!==(z=Q.intranet_ipv6)&&void 0!==z&&z.length?_.a.createElement(k.a,{value:Q.intranet_ipv6,__source:{fileName:A,lineNumber:185,columnNumber:19}}):"-",titleStyle:{width:66},isString:!1,__source:{fileName:A,lineNumber:181,columnNumber:13}}),_.a.createElement(q,{title:Object(C.g)("CPU信息"),content:"".concat(null!==(B=null==Q?void 0:Q.cpu_name)&&void 0!==B?B:"-","/").concat(null!==(L=null==Q?void 0:Q.nproc)&&void 0!==L?L:"-"),titleStyle:{width:66},__source:{fileName:A,lineNumber:193,columnNumber:13}}),_.a.createElement(q,{title:Object(C.g)("内存大小"),content:null!=Q&&Q.total_mem?($=Object(T.b)(Number(null==Q?void 0:Q.total_mem),T.a.GB),K=$.displayCount,J=$.displayUnit,"".concat(K," ").concat(J)):"-",titleStyle:{width:66},__source:{fileName:A,lineNumber:198,columnNumber:13}}),_.a.createElement(q,{title:Object(C.g)("默认网关"),content:null!==(V=null==Q?void 0:Q.gateway)&&void 0!==V?V:"-",titleStyle:{width:66},__source:{fileName:A,lineNumber:214,columnNumber:13}})),_.a.createElement("div",{className:M("col"),__source:{fileName:A,lineNumber:220,columnNumber:11}},_.a.createElement(q,{title:Object(C.g)("地域"),content:null!==(R=null==Q?void 0:Q.idc)&&void 0!==R?R:"-",titleStyle:{width:76},__source:{fileName:A,lineNumber:221,columnNumber:13}}),_.a.createElement(q,{title:Object(C.g)("内核版本"),content:null!==(U=null==Q?void 0:Q.kernel_version)&&void 0!==U?U:"-",titleStyle:{width:76},__source:{fileName:A,lineNumber:226,columnNumber:13}}),_.a.createElement(q,{title:Object(C.g)("网络模式"),content:null!==(G=null==Q?void 0:Q.net_mode)&&void 0!==G?G:"-",titleStyle:{width:76},__source:{fileName:A,lineNumber:231,columnNumber:13}}),_.a.createElement(q,{title:Object(C.g)("客户端状态"),content:null!=Q&&Q.status?_.a.createElement(x.a,{value:null==Q?void 0:Q.status,detail:null==Q?void 0:Q.state_detail,__source:{fileName:A,lineNumber:240,columnNumber:19}}):"-",titleStyle:{width:76},__source:{fileName:A,lineNumber:236,columnNumber:13}}),_.a.createElement(q,{title:Object(C.g)("CPU使用率"),content:null!=Q&&Q.cpu_usage?"".concat(Number(100*(null==Q?void 0:Q.cpu_usage)).toFixed(2),"%"):"-",titleStyle:{width:74},__source:{fileName:A,lineNumber:247,columnNumber:13}}),_.a.createElement(q,{title:Object(C.g)("内存使用率"),content:null!=Q&&Q.mem_usage?"".concat(Number(100*(null==Q?void 0:Q.mem_usage)).toFixed(2),"%"):"-",titleStyle:{width:76},__source:{fileName:A,lineNumber:252,columnNumber:13}}),_.a.createElement(q,{title:Object(C.g)("DNS服务器"),content:null!=Q&&null!==(H=Q.dns)&&void 0!==H&&H.split(",").length?_.a.createElement(k.a,{value:Q.dns.split(","),__source:{fileName:A,lineNumber:261,columnNumber:19}}):"-",titleStyle:{width:76},__source:{fileName:A,lineNumber:257,columnNumber:13}})),_.a.createElement("div",{className:M("col"),__source:{fileName:A,lineNumber:269,columnNumber:11}},_.a.createElement(q,{title:Object(C.g)("系统启动时间"),content:Object(P.a)((null==Q?void 0:Q.boot_time)||(null==Q?void 0:Q.boot_at)),titleStyle:{width:100},__source:{fileName:A,lineNumber:270,columnNumber:13}}),_.a.createElement(q,{title:Object(C.g)("最近活跃时间"),content:Object(P.a)(null==Q?void 0:Q.last_heartbeat_time),titleStyle:{width:100},__source:{fileName:A,lineNumber:275,columnNumber:13}}),_.a.createElement(q,{title:Object(C.g)("客户端安装时间"),content:Object(P.a)(null==Q?void 0:Q.first_heartbeat_time),titleStyle:{width:100},__source:{fileName:A,lineNumber:280,columnNumber:13}}),_.a.createElement(q,{title:Object(C.g)("客户端启动时间"),content:Object(P.a)((null==Q?void 0:Q.start_time)||(null==Q?void 0:Q.started_at)),titleStyle:{width:100},__source:{fileName:A,lineNumber:285,columnNumber:13}}),_.a.createElement(q,{title:Object(C.g)("设备序列号"),content:null!==(W=null==Q?void 0:Q.host_serial)&&void 0!==W?W:"-",titleStyle:{width:100},__source:{fileName:A,lineNumber:290,columnNumber:13}}),_.a.createElement(q,{title:Object(C.g)("设备ID"),content:null!==(Z=null==Q?void 0:Q.host_id)&&void 0!==Z?Z:"-",titleStyle:{width:100},__source:{fileName:A,lineNumber:295,columnNumber:13}}))):_.a.createElement(l.a,{__source:{fileName:A,lineNumber:303,columnNumber:9}}),_.a.createElement(y.c,{type:y.a.edit,visible:te,value:re,onCancel:function(){ne(!1)},onConfirm:function(e){return oe.apply(this,arguments)},__source:{fileName:A,lineNumber:305,columnNumber:7}}))}},378:function(e,t,n){"use strict";n.r(t),n.d(t,"TaskType",(function(){return D}));n(1296);var l=n(1297),a=(n(116),n(42)),r=(n(224),n(97)),i=n(50),c=n.n(i),u=n(28),o=n.n(u),m=n(10),s=n.n(m),b=n(16),d=n.n(b),f=n(0),N=n.n(f),_=n(55),v=n(1607),p=n(794),g=n(1292),O=n(115),j=n.n(O),h=n(423),y=n(406),E=n(1696),k=n(1626),x=n(12),w=n(1677),S=n(1408),T=n.n(S),P="/opt/tiger/compile_path/src/code.byted.org/biz-platform/hids/src/pages/create-task/index.tsx";function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D,I=j.a.bind(T.a);!function(e){e.virus="virus",e.agent="agent"}(D||(D={}));t.default=function(){var e=Object(v.a)({task_name:void 0,action:E.TaskTypeEunm.RebootAgent,id_list:[],tags:[],idc:[],platform:[],status:[],hostname:void 0,ip:void 0,agent_id:void 0,version:void 0,isSelectedAllFromFilter:!1,current:1,pageSize:10,step:1,task_type:"agent",cpu_idle:void 0,timeout:void 0}),t=e.value,n=e.setValue,i=Object(f.useMemo)((function(){return F(F({},t),{},{isSelectedAllFromFilter:"boolean"==typeof t.isSelectedAllFromFilter&&t.isSelectedAllFromFilter||"true"===t.isSelectedAllFromFilter,step:Number(t.step)})}),[Object(p.a)(t)]),u=Object(f.useMemo)((function(){return{step:i.step,setStep:function(e){return n((function(t){return F(F({},t),{},{step:e})}))}}}),[i.step]),m=u.step,s=u.setStep,b=Object(f.useMemo)((function(){return i.isSelectedAllFromFilter?{conditions:{tags:i.tags,idc:i.idc,platform:i.platform,status:i.status,hostname:i.hostname,version:i.version,ip:i.ip,agent_id:i.agent_id}}:{id_list:i.id_list}}),[i]),O=Object(g.a)(o()(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(E.GetTaskHostStatus)({data:b});case 2:return t=e.sent,e.abrupt("return",null==t?void 0:t.data);case 4:case"end":return e.stop()}}),e)}))),{auto:!0,ready:1===m,refreshDeps:[b]}).data,j=Object(f.useMemo)((function(){var e;return null!=i&&i.isSelectedAllFromFilter||null!=i&&null!==(e=i.id_list)&&void 0!==e&&e.length?{allTaskHostNum:(null==O?void 0:O.all_num)||0,errorTaskHostNum:(null==O?void 0:O.error_num)||0}:{allTaskHostNum:0,errorTaskHostNum:0}}),[O,i]),S=j.allTaskHostNum,T=j.errorTaskHostNum,C=Object(_.g)(),A=Object(f.useRef)(null),z=Object(f.useRef)(null),B=Object(f.useState)(!1),M=c()(B,2),q=M[0],L=M[1],V=function(){var e=o()(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1!==m){e.next=15;break}return e.prev=1,e.next=4,A.current.checkIsSelectedAllFromFilter();case 4:if(S-T){e.next=7;break}return r.a.error(Object(x.g)("当前没有可正常下发任务的主机资产")),e.abrupt("return");case 7:s(2),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),r.a.error(Object(x.g)("请选择主机资产"));case 13:e.next=35;break;case 15:return e.prev=15,e.next=18,z.current.handleCheckFormValid();case 18:e.next=23;break;case 20:return e.prev=20,e.t1=e.catch(15),e.abrupt("return");case 23:if(L(!0),i.task_type!==D.agent){e.next=31;break}return t=i.action===E.TaskTypeEunm.RebootAgent?E.CreateRebootAgentTask:E.CreateSyncConfigTask,e.next=28,t({data:F({task_name:i.task_name,action:i.action},b)});case 28:C.push("/task-list"),e.next=34;break;case 31:return e.next=33,Object(E.CreateVirusTask)(F(F({task_name:i.task_name,action:i.action,file_path:i.action===k.k.scan_file?i.file_path:void 0},b),i.action===k.k.scan_full||i.action===k.k.scan_quick?{cpu_idle:String(null==i?void 0:i.cpu_idle),timeout:String(null==i?void 0:i.timeout)}:{}));case 33:C.push("/virus-alarm-list?_vao_taskListVisible=true");case 34:L(!1);case 35:case"end":return e.stop()}}),e,null,[[1,10],[15,20]])})));return function(){return e.apply(this,arguments)}}();return N.a.createElement("div",{className:I("container"),__source:{fileName:P,lineNumber:200,columnNumber:5}},N.a.createElement("div",{className:I("top-nav-box"),__source:{fileName:P,lineNumber:201,columnNumber:7}},N.a.createElement(a.a,{className:I("back-button"),onClick:function(){C.goBack()},__source:{fileName:P,lineNumber:202,columnNumber:9}},N.a.createElement(w.a,{style:{transform:"rotate(-90deg)"},__source:{fileName:P,lineNumber:208,columnNumber:11}})),N.a.createElement("span",{className:I("host-name"),__source:{fileName:P,lineNumber:210,columnNumber:9}},Object(x.g)("新建任务"))),N.a.createElement("div",{className:I("content-box"),__source:{fileName:P,lineNumber:213,columnNumber:7}},N.a.createElement(l.a,{current:m,style:{width:340,margin:"0 auto",padding:"20px 0"},__source:{fileName:P,lineNumber:214,columnNumber:9}},N.a.createElement(l.a.Step,{title:Object(x.g)("选择主机"),__source:{fileName:P,lineNumber:215,columnNumber:11}}),N.a.createElement(l.a.Step,{title:Object(x.g)("设置任务信息"),__source:{fileName:P,lineNumber:216,columnNumber:11}})),N.a.createElement("div",{className:I("content"),__source:{fileName:P,lineNumber:219,columnNumber:9}},1===m?N.a.createElement(h.default,{ref:A,visible:1===m,filter:i,setFilter:n,__source:{fileName:P,lineNumber:221,columnNumber:13}}):N.a.createElement(y.default,{ref:z,visible:2===m,filter:i,setFilter:n,__source:{fileName:P,lineNumber:228,columnNumber:13}}))),N.a.createElement("div",{className:I("bottom-footer-box"),__source:{fileName:P,lineNumber:238,columnNumber:7}},N.a.createElement("div",{className:I("text"),__source:{fileName:P,lineNumber:239,columnNumber:9}},i.isSelectedAllFromFilter||T?N.a.createElement("div",{__source:{fileName:P,lineNumber:241,columnNumber:13}},Object(x.g)("当前选择"),N.a.createElement("span",{className:I("number"),__source:{fileName:P,lineNumber:243,columnNumber:15}}," ",S," "),Object(x.g)("台主机，其中"),N.a.createElement("span",{className:I("number"),__source:{fileName:P,lineNumber:245,columnNumber:15}}," ",T," "),Object(x.g)("台主机无法正常下发任务、将被自动忽略")):null),N.a.createElement("div",{__source:{fileName:P,lineNumber:250,columnNumber:9}},N.a.createElement(a.a,{style:{marginRight:12},onClick:function(){1===m?C.goBack():s(1)},__source:{fileName:P,lineNumber:251,columnNumber:11}},1===m?Object(x.g)("取消"):Object(x.g)("上一步")),N.a.createElement(a.a,{type:"primary",onClick:V,loading:q,__source:{fileName:P,lineNumber:254,columnNumber:11}},1===m?Object(x.g)("下一步"):Object(x.g)("确定")))))}},406:function(e,t,n){"use strict";n.r(t);n(804);var l,a=n(598),r=n(28),i=n.n(r),c=n(10),u=n.n(c),o=n(50),m=n.n(o),s=(n(225),n(127)),b=(n(197),n(117)),d=n(1),f=n.n(d),N=(n(807),n(605)),_=(n(806),n(199)),v=n(603),p=n.n(v),g=n(16),O=n.n(g),j=n(0),h=n.n(j),y=n(604),E=n(838),k=n(1626),x=n(12),w=n(378),S="/opt/tiger/compile_path/src/code.byted.org/biz-platform/hids/src/pages/create-task/task-setting/index.tsx";function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var C=Object(y.a)(_.a)(l||(l=p()(["\n  padding: 20px;\n\n  .arco-form-label-item {\n    flex: unset;\n  }\n  .arco-form-item-wrapper {\n    flex: unset;\n  }\n"]))),F=function(e){switch(e){case"scan_full":return h.a.createElement(N.a,{type:"warning",style:{marginTop:16},content:Object(x.g)("全盘扫描端上资源占用较高，且时间较长，请在非业务高峰期操作。"),__source:{fileName:S,lineNumber:32,columnNumber:9}});default:return null}},D=function(e){return h.a.createElement(s.a,{__source:{fileName:S,lineNumber:44,columnNumber:3}},Object(x.g)("最大占用空闲CPU的"),h.a.createElement(b.a,f()({style:{width:55}},e,{__source:{fileName:S,lineNumber:46,columnNumber:5}})),"%")},I=function(e){return h.a.createElement(s.a,{__source:{fileName:S,lineNumber:51,columnNumber:3}},Object(x.g)("扫描时间超过"),h.a.createElement(b.a,f()({style:{width:55}},e,{__source:{fileName:S,lineNumber:53,columnNumber:5}})),Object(x.g)("小时，结束扫描"))},A=Object(j.forwardRef)((function(e,t){var n=e.visible,l=e.filter,r=e.setFilter,c="virus"===(null==l?void 0:l.task_type)?k.m:E.taskTypeOptions,u=_.a.useForm(),o=m()(u,1)[0];return Object(j.useEffect)((function(){!["scan_full","scan_quick"].includes(null==l?void 0:l.action)||null!=l&&l.cpu_idle&&null!=l&&l.timeout||r((function(e){return P(P({},e),{},{cpu_idle:e.cpu_idle||30,timeout:e.timeout||48})}))}),[l]),Object(j.useEffect)((function(){n&&o.setFieldsValue(l)}),[n,l]),Object(j.useImperativeHandle)(t,(function(){return{handleCheckFormValid:(e=i()(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.validate();case 2:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)})};var e})),h.a.createElement(C,{form:o,colon:!1,labelCol:{style:{width:120}},wrapperCol:{style:{width:"calc(100% - 120px)"}},labelAlign:"right",onChange:function(e,t){if(null!=e&&e.action)return r((function(e){return P(P(P({},e),t),{},{module_id:void 0})})),void o.setFieldValue("module_id",void 0);r((function(e){return P(P({},e),t)}))},__source:{fileName:S,lineNumber:83,columnNumber:5}},h.a.createElement(_.a.Item,{field:"task_name",label:Object(x.g)("任务名称"),rules:[{required:!0,message:Object(x.g)("请输入任务名称")}],__source:{fileName:S,lineNumber:106,columnNumber:7}},h.a.createElement(b.a,{style:{width:"300px"},placeholder:Object(x.g)("请输入任务名称"),__source:{fileName:S,lineNumber:116,columnNumber:9}})),h.a.createElement(_.a.Item,{field:"action",label:Object(x.g)("任务类型"),rules:[{required:!0,message:Object(x.g)("请选择任务类型")}],extra:F(null==l?void 0:l.action),__source:{fileName:S,lineNumber:118,columnNumber:7}},h.a.createElement(a.a.Group,{type:"button",name:"lang",options:c,__source:{fileName:S,lineNumber:129,columnNumber:9}})),l.task_type===w.TaskType.virus&&h.a.createElement(_.a.Item,{shouldUpdate:!0,noStyle:!0,__source:{fileName:S,lineNumber:132,columnNumber:9}},(function(){switch(null==l?void 0:l.action){case k.k.scan_file:return h.a.createElement(_.a.Item,{field:"file_path",label:Object(x.g)("绝对路径"),rules:[{required:!0,message:Object(x.g)("请输入绝对路径")}],__source:{fileName:S,lineNumber:137,columnNumber:19}},h.a.createElement(b.a,{placeholder:Object(x.g)("请输入绝对路径"),__source:{fileName:S,lineNumber:147,columnNumber:21}}));case k.k.scan_quick:case k.k.scan_full:return h.a.createElement(h.a.Fragment,null,h.a.createElement(_.a.Item,{field:"cpu_idle",label:Object(x.g)("资源占用上限"),rules:[{required:!0,message:Object(x.g)("请输入资源占用上限")},{type:"number",min:0,max:100,message:Object(x.g)("请输入0-100的数字")}],normalize:function(e){return e>100?100:e},__source:{fileName:S,lineNumber:155,columnNumber:21}},h.a.createElement(D,{__source:{fileName:S,lineNumber:172,columnNumber:23}})),h.a.createElement(_.a.Item,{field:"timeout",label:Object(x.g)("任务超时时长"),rules:[{required:!0,message:Object(x.g)("请输入任务超时时长")},{type:"number",min:1,max:168,message:Object(x.g)("请输入1-168的数字")}],normalize:function(e){return e>168?168:e},__source:{fileName:S,lineNumber:174,columnNumber:21}},h.a.createElement(I,{__source:{fileName:S,lineNumber:191,columnNumber:23}})));default:return null}})))}));t.default=A},435:function(e,t,n){"use strict";n.r(t);var l=n(1),a=n.n(l),r=n(0),i=n.n(r),c=n(115),u=n.n(c),o=n(342),m=n(596),s=n(12),b=n(1429),d=n.n(b),f="/opt/tiger/compile_path/src/code.byted.org/biz-platform/hids/src/pages/task-detail/basic-info/index.tsx",N=u.a.bind(d.a);t.default=function(e){var t=e.data,n=void 0===t?[]:t;return i.a.createElement(m.a,{title:Object(s.g)("基础信息"),containerStyle:{minWidth:1200,margin:"0 auto",minHeight:132,maxWidth:"85%"},contentStyle:{display:"flex",marginTop:20,justifyContent:"space-between"},__source:{fileName:f,lineNumber:19,columnNumber:5}},null==n?void 0:n.map((function(e,t){return i.a.createElement("div",{className:N("col"),key:t,__source:{fileName:f,lineNumber:25,columnNumber:9}},null==e?void 0:e.map((function(e){return i.a.createElement(o.BasicInfoItem,a()({key:e.title},e,{titleStyle:e.titleStyle||{width:64},__source:{fileName:f,lineNumber:27,columnNumber:13}}))})))})))}},436:function(e,t,n){"use strict";n.r(t);var l=n(1),a=n.n(l),r=(n(197),n(117)),i=n(201),c=(n(162),n(67)),u=n(28),o=n.n(u),m=n(50),s=n.n(m),b=(n(225),n(127)),d=(n(809),n(607)),f=n(16),N=n.n(f),_=n(0),v=n.n(_),p=n(55),g=n(599),O=n(115),j=n.n(O),h=n(378),y=n(838),E=n(1609),k=n(596),x=n(1615),w=n(1628),S=n(594),T=n(1696),P=n(1608),C=n(12),F=n(1430),D=n.n(F),I="/opt/tiger/compile_path/src/code.byted.org/biz-platform/hids/src/pages/task-detail/task-detail/index.tsx",A=j.a.bind(D.a),z=function(e){var t=e.color,n=e.value,l=e.label,a=e.data,r=y.taskStatusOptions.find((function(e){return e.value===(null==a?void 0:a.task_status)})),i=Math.ceil(((null==a?void 0:a.sub_task_failed)+(null==a?void 0:a.sub_task_succeed))/(null==a?void 0:a.id_count)*100);return v.a.createElement("div",{className:A("card"),__source:{fileName:I,lineNumber:57,columnNumber:5}},v.a.createElement("div",{className:A("nvabar"),__source:{fileName:I,lineNumber:58,columnNumber:7}},v.a.createElement(d.a,{color:a?null==r?void 0:r.color:t,showText:!1,percent:100,__source:{fileName:I,lineNumber:59,columnNumber:9}})),v.a.createElement("div",{className:A("content"),__source:{fileName:I,lineNumber:61,columnNumber:7}},v.a.createElement("div",{className:A("label"),__source:{fileName:I,lineNumber:62,columnNumber:9}},l),a?v.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},__source:{fileName:I,lineNumber:65,columnNumber:11}},v.a.createElement(b.a,{size:24,__source:{fileName:I,lineNumber:66,columnNumber:13}},v.a.createElement("div",{className:A("value"),__source:{fileName:I,lineNumber:67,columnNumber:15}},"".concat(i,"%")),v.a.createElement(d.a,{width:"140px",color:null==r?void 0:r.color,percent:i,size:"large",showText:!1,__source:{fileName:I,lineNumber:68,columnNumber:15}})),v.a.createElement(x.a,{color:(null==r?void 0:r.color)||"#C9CDD4",content:(null==r?void 0:r.label)||"-",__source:{fileName:I,lineNumber:77,columnNumber:13}})):v.a.createElement("div",{className:A("value"),__source:{fileName:I,lineNumber:80,columnNumber:11}},n)))};t.default=function(e){var t=e.data,n=e.taskType,l=Object(p.g)(),u=Object(_.useState)(void 0),m=s()(u,2),d=m[0],f=m[1],O=Object(g.a)(function(){var e=o()(N.a.mark((function e(l){var a,r,i,c,u,o;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=l.current,r=l.pageSize,e.t0=n,e.next="virus"===e.t0?4:8;break;case 4:return e.next=6,Object(T.PostApiV6VirusTaskSubtaskList)({data:{task_id:null==t?void 0:t.task_id,hostname:d},params:{page:a,page_size:r}});case 6:return c=e.sent,e.abrupt("return",{list:(null==c?void 0:c.data)||[],total:(null==c||null===(i=c.page_info)||void 0===i?void 0:i.total)||0});case 8:return e.next=10,Object(T.GetSubTaskList)({data:{task_id:null==t?void 0:t.task_id,hostname:d},params:{page:a,page_size:r}});case 10:return o=e.sent,e.abrupt("return",{list:(null==o?void 0:o.data)||[],total:(null==o||null===(u=o.page_info)||void 0===u?void 0:u.total)||0});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{auto:!0,debounceInterval:300,resetDeps:[d],ready:!(null==t||!t.task_id)}).tableProps,j=[{title:Object(C.g)("主机名称"),dataIndex:"ip",headerCellStyle:{paddingLeft:"4px"},render:function(e,t){return v.a.createElement(S.a,{onClick:function(){l.push("/host-detail?agentId=".concat(null==t?void 0:t.agent_id,"&breadcrumbLinkFrom=").concat(Object(E.b)()))},style:{maxWidth:"168px",textOverflow:"ellipsis"},__source:{fileName:I,lineNumber:148,columnNumber:11}},null==t?void 0:t.hostname)}},{title:Object(C.g)("状态"),dataIndex:"status",render:function(e,t){switch(n){case h.TaskType.virus:var l=y.virusSubTaskStatusOptions.find((function(e){return e.value===(null==t?void 0:t.status)}));return v.a.createElement(b.a,{__source:{fileName:I,lineNumber:174,columnNumber:15}},v.a.createElement(x.a,{color:(null==l?void 0:l.color)||"#C9CDD4",content:(null==l?void 0:l.label)||"-",__source:{fileName:I,lineNumber:175,columnNumber:17}}),t.fail_reason&&v.a.createElement(c.a,{content:t.fail_reason,__source:{fileName:I,lineNumber:180,columnNumber:19}},v.a.createElement("span",{className:A("tip"),__source:{fileName:I,lineNumber:181,columnNumber:21}},Object(C.g)("说明"))));case h.TaskType.agent:default:var a=y.subTaskStatusOptions.find((function(e){return e.value===(null==t?void 0:t.status)}));return v.a.createElement(x.a,{color:(null==a?void 0:a.color)||"#C9CDD4",content:(null==a?void 0:a.label)||"-",__source:{fileName:I,lineNumber:191,columnNumber:15}})}}},{title:Object(C.g)("汇报时间"),dataIndex:"update_time",width:"160px",render:function(e,t){return Object(P.a)(null==t?void 0:t.update_time)}}];return v.a.createElement(k.a,{title:"".concat(Object(C.g)("任务详情（{placeholder1}条）",{placeholder1:null==t?void 0:t.id_count})),containerStyle:{minWidth:1200,margin:"0 auto",minHeight:"calc(100vh - 328px)",maxWidth:"85%"},contentStyle:{marginTop:16},__source:{fileName:I,lineNumber:211,columnNumber:5}},v.a.createElement("div",{className:A("header"),__source:{fileName:I,lineNumber:223,columnNumber:7}},v.a.createElement("div",{className:A("detail-card"),__source:{fileName:I,lineNumber:224,columnNumber:9}},v.a.createElement(z,{data:t,label:Object(C.g)("运行进度"),__source:{fileName:I,lineNumber:225,columnNumber:11}}),v.a.createElement(z,{color:"#00AA2A",label:Object(C.g)("成功数量"),value:null==t?void 0:t.sub_task_succeed,__source:{fileName:I,lineNumber:226,columnNumber:11}}),v.a.createElement(z,{color:"#E63F3F",label:Object(C.g)("失败数量"),value:null==t?void 0:t.sub_task_failed,__source:{fileName:I,lineNumber:227,columnNumber:11}})),v.a.createElement(r.a,{value:d,onChange:f,style:{width:270},placeholder:Object(C.g)("请输入主机名称"),suffix:v.a.createElement(i.a,{__source:{fileName:I,lineNumber:234,columnNumber:19}}),__source:{fileName:I,lineNumber:229,columnNumber:9}})),v.a.createElement("div",{className:A("content"),__source:{fileName:I,lineNumber:238,columnNumber:7}},v.a.createElement(w.a,a()({rowKey:"agent_id"},O,{columns:j,__source:{fileName:I,lineNumber:239,columnNumber:9}}))))}},479:function(e,t,n){"use strict";n.r(t);n(116);var l=n(42),a=n(28),r=n.n(a),i=(n(1349),n(1350)),c=n(16),u=n.n(c),o=n(0),m=n.n(o),s=n(55),b=n(1292),d=n(115),f=n.n(d),N=n(164),_=n.n(N),v=n(1609),p=n(378),g=n(435),O=n(436),j=n(1696),h=n(1626),y=n(1608),E=n(12),k=n(1677),x=n(1501),w=n.n(x),S="/opt/tiger/compile_path/src/code.byted.org/biz-platform/hids/src/pages/task-detail/index.tsx",T=i.a.Item,P=f.a.bind(w.a);t.default=function(e){var t=e.taskType,n=Object(s.g)(),a=_.a.parse(location.search).task_id,c=Object(b.a)(r()(u.a.mark((function e(){var n,l,r,i,c,o,m,s,b,d,f,N,_,v,g,O,k,x,w,S,T,P,C,F;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next=e.t0===p.TaskType.virus?3:9;break;case 3:return e.next=5,Object(j.GetApiV6VirusTaskGetVTaskId)({params:{task_id:a}});case 5:return m=e.sent,s=m.data,b=[[{title:Object(E.g)("任务id"),content:null!==(n=null==s?void 0:s.task_id)&&void 0!==n?n:"-"},{title:Object(E.g)("任务类型"),content:null!==(l=h.l[null==s?void 0:s.action])&&void 0!==l?l:"-"}],[{title:Object(E.g)("主机数"),content:null!==(r=null==s?void 0:s.id_count)&&void 0!==r?r:"-",titleStyle:{width:52}},{title:Object(E.g)("创建者"),content:null!==(i=null==s?void 0:s.task_user)&&void 0!==i?i:"-",titleStyle:{width:52}}],[{title:Object(E.g)("资源占用上限"),content:null!=s&&null!==(c=s.config)&&void 0!==c&&c.cpu_idle?Object(E.g)("最大占用空闲CPU的 {cpu_idle}%",{cpu_idle:s.config.cpu_idle}):"-",titleStyle:{width:90}},{title:Object(E.g)("任务超时时长"),content:null!=s&&null!==(o=s.config)&&void 0!==o&&o.timeout?Object(E.g)("扫描时间超过 {timeout} 小时，结束扫描",{timeout:s.config.timeout}):"-",titleStyle:{width:90}}],[{title:Object(E.g)("更新时间"),content:Object(y.a)(null==s?void 0:s.update_time)},{title:Object(E.g)("创建时间"),content:Object(y.a)(null==s?void 0:s.create_time)}]],e.abrupt("return",{data:s,taskBasicInfoData:b});case 9:return e.next=11,Object(j.GetTaskInfo)({params:{task_id:a}});case 11:return P=e.sent,C=P.data,F=[[{title:Object(E.g)("任务id"),content:null!==(d=null==C?void 0:C.task_id)&&void 0!==d?d:"-"},{title:Object(E.g)("任务类型"),content:null!==(f=h.l[null==C?void 0:C.action])&&void 0!==f?f:"-"}],[{title:Object(E.g)("主机数"),content:null!==(N=null==C?void 0:C.id_count)&&void 0!==N?N:"-",titleStyle:{width:52}},{title:Object(E.g)("创建者"),content:null!==(_=null==C?void 0:C.task_user)&&void 0!==_?_:"-",titleStyle:{width:52}}],[{title:Object(E.g)("组件名称"),content:null!==(v=null==C||null===(g=C.data)||void 0===g||null===(O=g.config)||void 0===O||null===(k=O[0])||void 0===k?void 0:k.name)&&void 0!==v?v:"-"},{title:Object(E.g)("组件版本"),content:null!==(x=null==C||null===(w=C.data)||void 0===w||null===(S=w.config)||void 0===S||null===(T=S[0])||void 0===T?void 0:T.version)&&void 0!==x?x:"-"}],[{title:Object(E.g)("更新时间"),content:Object(y.a)(null==C?void 0:C.update_time)},{title:Object(E.g)("创建时间"),content:Object(y.a)(null==C?void 0:C.create_time)}]],e.abrupt("return",{data:C,taskBasicInfoData:F});case 15:case"end":return e.stop()}}),e)}))),{auto:!0,ready:!!a}).data||{},o=c.data,d=c.taskBasicInfoData;return m.a.createElement("div",{className:P("container"),__source:{fileName:S,lineNumber:122,columnNumber:5}},m.a.createElement("div",{className:P("top-nav-box"),__source:{fileName:S,lineNumber:123,columnNumber:7}},m.a.createElement("div",{__source:{fileName:S,lineNumber:124,columnNumber:9}},m.a.createElement(i.a,{style:{fontSize:12},__source:{fileName:S,lineNumber:125,columnNumber:11}},m.a.createElement(T,{__source:{fileName:S,lineNumber:126,columnNumber:13}},m.a.createElement(v.a,{defaultLink:"/task-list",defaultTitle:Object(E.g)("任务列表"),__source:{fileName:S,lineNumber:127,columnNumber:15}})),m.a.createElement(T,{__source:{fileName:S,lineNumber:129,columnNumber:13}},Object(E.g)("详情页")))),m.a.createElement("div",{className:P("top-center-box"),__source:{fileName:S,lineNumber:132,columnNumber:9}},m.a.createElement(l.a,{className:P("back-button"),onClick:function(){n.goBack()},__source:{fileName:S,lineNumber:133,columnNumber:11}},m.a.createElement(k.a,{style:{transform:"rotate(-90deg)"},__source:{fileName:S,lineNumber:139,columnNumber:13}})),m.a.createElement("span",{className:P("host-name"),__source:{fileName:S,lineNumber:141,columnNumber:11}},null==o?void 0:o.task_name))),m.a.createElement("div",{className:P("base-info"),__source:{fileName:S,lineNumber:145,columnNumber:7}},m.a.createElement(g.default,{data:d,__source:{fileName:S,lineNumber:146,columnNumber:9}})),m.a.createElement("div",{className:P("detail"),__source:{fileName:S,lineNumber:149,columnNumber:7}},m.a.createElement(O.default,{data:o,taskType:t,__source:{fileName:S,lineNumber:150,columnNumber:9}})))}},838:function(e,t,n){"use strict";n.r(t),n.d(t,"selectTypeInputOptions",(function(){return r})),n.d(t,"taskTypeOptions",(function(){return i})),n.d(t,"taskStatusOptions",(function(){return c})),n.d(t,"subTaskStatusOptions",(function(){return u})),n.d(t,"virusSubTaskStatusOptions",(function(){return o}));var l=n(1696),a=n(12),r=[{label:Object(a.g)("任务名称"),value:"task_name"},{label:Object(a.g)("创建人"),value:"task_user"}],i=[{label:Object(a.g)("重启客户端"),text:Object(a.g)("重启客户端"),value:l.TaskTypeEunm.RebootAgent},{label:Object(a.g)("同步配置"),text:Object(a.g)("同步配置"),value:l.TaskTypeEunm.SyncConfig}],c=[{label:Object(a.g)("未运行"),text:Object(a.g)("未运行"),value:l.TaskStatusEunm.created,color:"#C9CDD4"},{label:Object(a.g)("运行中"),text:Object(a.g)("运行中"),value:l.TaskStatusEunm.running,color:"#1664FF"},{label:Object(a.g)("运行成功"),text:Object(a.g)("运行成功"),value:l.TaskStatusEunm.finished,color:"#00AA2A"},{label:Object(a.g)("已停止"),text:Object(a.g)("已停止"),value:l.TaskStatusEunm.cancelled,color:"#E63F3F"}],u=[{label:Object(a.g)("未执行"),text:Object(a.g)("未执行"),value:l.TaskStatusEunm.created,color:"#C9CDD4"},{label:Object(a.g)("执行中"),text:Object(a.g)("执行中"),value:l.SubTaskStatusEnum.running,color:"#1664FF"},{label:Object(a.g)("执行成功"),text:Object(a.g)("执行成功"),value:l.SubTaskStatusEnum.succeed,color:"#00AA2A"},{label:Object(a.g)("执行失败"),text:Object(a.g)("执行失败"),value:l.SubTaskStatusEnum.failed,color:"#E63F3F"}],o=[{label:Object(a.g)("未运行"),text:Object(a.g)("未运行"),value:l.TaskStatusEunm.created,color:"#C9CDD4"},{label:Object(a.g)("运行中"),text:Object(a.g)("运行中"),value:l.SubTaskStatusEnum.running,color:"#1664FF"},{label:Object(a.g)("运行成功"),text:Object(a.g)("运行成功"),value:l.SubTaskStatusEnum.succeed,color:"#00AA2A"},{label:Object(a.g)("运行失败"),text:Object(a.g)("运行失败"),value:l.SubTaskStatusEnum.failed,color:"#E63F3F"}]},893:function(e,t,n){"use strict";n.r(t);var l=n(0),a=n.n(l),r=n(479);t.default=function(){return a.a.createElement(r.default,{taskType:"virus",__source:{fileName:"/opt/tiger/compile_path/src/code.byted.org/biz-platform/hids/src/pages/task-detail/virus-task-detail.tsx",lineNumber:6,columnNumber:10}})}}}]);