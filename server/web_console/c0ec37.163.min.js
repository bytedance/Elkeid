(window.webpackJsonp=window.webpackJsonp||[]).push([[163,445,521],{1475:function(e,t,n){e.exports={"item-container":"item-container-4addcdb2f3","item-title":"item-title-862b825196","item-bottom-box":"item-bottom-box-1ca0b5ddc7","item-total":"item-total-81529f7d06","day-tips":"day-tips-c1fdf5a98f","diff-count":"diff-count-d8c3a6e7ff"}},1476:function(e,t,n){"use strict";n.r(t);var i,r=n(0),o=n.n(r);function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}t.default=function(e){return o.a.createElement("svg",l({width:12,height:10,fill:"currentColor"},e),i||(i=o.a.createElement("path",{d:"M8.999 6.346l2.35 2.752-.09-8.196-8.355 1.625 3.277 1.68C3.741 7.17 1.477 7.96.651 7.983c3.658 1.546 7.09-.448 8.348-1.638z"})))}},1683:function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e[e.B=Math.pow(1024,0)]="B",e[e.KB=Math.pow(1024,1)]="KB",e[e.MB=Math.pow(1024,2)]="MB",e[e.GB=Math.pow(1024,3)]="GB",e[e.TB=Math.pow(1024,4)]="TB",e[e.PB=Math.pow(1024,5)]="PB"}(i||(i={})),t.b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.MB,n=Math.abs(e);if(!e)return{displayCount:0,displayUnit:"B"};for(var r=Object.values(i).filter((function(e){return"string"==typeof e})).map((function(e){return e})),o=Object.values(i).filter((function(e){return"number"==typeof e})).map((function(e){return e})),l=0;l<r.length;l++){var u,a,c,d,f=n;if(0!==l)f=parseFloat(null===(u=n/o[l])||void 0===u?void 0:u.toFixed(2));if(f<10)return{displayCount:null===(a=f)||void 0===a?void 0:a.toFixed(2),displayUnit:r[l]};if(f>=10&&f<100)return{displayCount:null===(c=f)||void 0===c?void 0:c.toFixed(1),displayUnit:r[l]};if(f>=100&&f<1e3)return{displayCount:null===(d=f)||void 0===d?void 0:d.toFixed(0),displayUnit:r[l]};if(o[l]===t)break}return{displayCount:"999+",displayUnit:i[t]}}},1687:function(e,t,n){"use strict";n.r(t),n.d(t,"GetDescribeAsset",(function(){return u})),n.d(t,"EventflowEventType",(function(){return i})),n.d(t,"OverviewAlarmLevel",(function(){return r})),n.d(t,"GetOverviewAlarm",(function(){return c})),n.d(t,"GetOverviewAgentRisk",(function(){return d})),n.d(t,"GetOverviewVulnRisk",(function(){return f})),n.d(t,"GetOverviewBaselineRisk",(function(){return m})),n.d(t,"GetOverviewDescribeAgent",(function(){return s})),n.d(t,"ServiceStatusType",(function(){return a})),n.d(t,"GetServiceStatus",(function(){return v}));var i,r,o=n(54),l=n(12),u=function(){return Object(o.b)({method:"get",url:"/api/v6/overview/DescribeAsset"},Object(l.g)("获取资产概览信息"))};!function(e){e.host="host",e.rasp="rasp",e.kube="kube"}(i||(i={})),function(e){e[e.critical=0]="critical",e[e.high=1]="high",e[e.medium=2]="medium",e[e.low=3]="low"}(r||(r={}));var a,c=function(){return Object(o.b)({method:"get",url:"/api/v6/overview/alarm"},Object(l.g)("获取安全告警统计信息"))},d=function(){return Object(o.b)({method:"get",url:"/api/v6/overview/agentRisk"},Object(l.g)("获取主机风险分布信息"))},f=function(){return Object(o.b)({method:"get",url:"/api/v6/overview/vulnRisk"},Object(l.g)("获取漏洞风险数据"))},m=function(){return Object(o.b)({method:"get",url:"/api/v6/overview/baselineRisk"},Object(l.g)("获取基线风险数据"))},s=function(){return Object(o.b)({method:"get",url:"/api/v6/overview/DescribeAgent"},Object(l.g)("获取Agent概览数据"))};!function(e){e.low="low",e.middle="middle",e.high="high",e.unavailable="unavailable"}(a||(a={}));var v=function(){return Object(o.b)({method:"get",url:"/api/v6/monitor/ServiceStatus"},Object(l.g)("获取后端服务状态数据"))}},459:function(e,t,n){"use strict";n.r(t);var i=n(1),r=n.n(i),o=n(10),l=n.n(o),u=n(28),a=n.n(u),c=n(16),d=n.n(c),f=n(0),m=n.n(f),s=n(780),v=n(800),b=n(1292),p=n(115),g=n.n(p),O=n(596),y=n(196),N=n(1687),h=n(1683),w=n(12),j=n(1475),_=n.n(j),E=n(1476),A="/opt/tiger/compile_path/src/code.byted.org/biz-platform/hids/src/pages/overview/agent-overview/index.tsx";function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var B=g.a.bind(_.a),k=function(e){var t=e.title,n=e.count,i=e.originDiff,r=e.displayDiff,o=e.countUnit,l=e.diffUnit,u=e.downColor,a=void 0===u?"#00AA2A":u,c=e.upColor,d=void 0===c?"#E63F3F":c;return m.a.createElement(s.a,{className:B("item-container"),__source:{fileName:A,lineNumber:41,columnNumber:5}},m.a.createElement("div",{className:B("item-title"),__source:{fileName:A,lineNumber:42,columnNumber:7}},t),m.a.createElement("div",{className:B("item-bottom-box"),__source:{fileName:A,lineNumber:43,columnNumber:7}},m.a.createElement(s.a,{align:"center",__source:{fileName:A,lineNumber:44,columnNumber:9}},m.a.createElement("div",{className:B("item-total"),style:{marginRight:0},__source:{fileName:A,lineNumber:45,columnNumber:11}},"".concat(null!=n?n:0)),m.a.createElement("span",{className:B("item-total"),__source:{fileName:A,lineNumber:48,columnNumber:11}},null!=o?o:"")),m.a.createElement(s.a,{align:"center",__source:{fileName:A,lineNumber:50,columnNumber:9}},m.a.createElement(v.a,{className:B("day-tips"),maxWidth:52,__source:{fileName:A,lineNumber:51,columnNumber:11}},Object(w.g)("较昨日")),m.a.createElement("div",{className:B("diff-count"),style:i>0?{color:d}:i<0?{color:a}:{},__source:{fileName:A,lineNumber:54,columnNumber:11}},m.a.createElement("div",{__source:{fileName:A,lineNumber:58,columnNumber:13}},null!=r?r:"".concat(Math.abs(i))),m.a.createElement("span",{__source:{fileName:A,lineNumber:59,columnNumber:13}},null!=l?l:""),i>0||i<0?m.a.createElement(E.default,{style:{marginLeft:5,transform:i<0?"scaleY(-1)":""},__source:{fileName:A,lineNumber:61,columnNumber:15}}):null))))};t.default=function(){var e,t,n,i,o,l,u,c,f,s,v,p,g,j,_=Object(b.a)(a()(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.GetOverviewDescribeAgent)();case 2:return t=e.sent,e.abrupt("return",null==t?void 0:t.data);case 4:case"end":return e.stop()}}),e)}))),{auto:!0}),E=_.data,x=_.loading,B=_.refresh,C=_.error,M=[{title:Object(w.g)("在线 Agent"),count:null!==(e=null==E?void 0:E.running)&&void 0!==e?e:0,originDiff:null!==(t=null==E?void 0:E.running_diff)&&void 0!==t?t:0,downColor:"#E63F3F",upColor:"#00AA2A"},{title:Object(w.g)("离线 Agent"),count:null!==(n=null==E?void 0:E.offline)&&void 0!==n?n:0,originDiff:null!==(i=null==E?void 0:E.offline_diff)&&void 0!==i?i:0},{title:"CPU AVG",count:parseFloat(null===(o=100*(null!==(l=null==E?void 0:E.cpu)&&void 0!==l?l:0))||void 0===o?void 0:o.toFixed(2)),originDiff:null!==(u=null==E?void 0:E.cpu_diff)&&void 0!==u?u:0,displayDiff:Math.abs(parseFloat(null===(c=100*(null!==(f=null==E?void 0:E.cpu_diff)&&void 0!==f?f:0))||void 0===c?void 0:c.toFixed(2))),countUnit:"%",diffUnit:"%"},{title:"Mem AVG",count:null===(s=Object(h.b)(null==E?void 0:E.memory))||void 0===s?void 0:s.displayCount,countUnit:null===(v=Object(h.b)(null==E?void 0:E.memory))||void 0===v?void 0:v.displayUnit,originDiff:null!==(p=null==E?void 0:E.memory_diff)&&void 0!==p?p:0,displayDiff:null===(g=Object(h.b)(null==E?void 0:E.memory_diff))||void 0===g?void 0:g.displayCount,diffUnit:null===(j=Object(h.b)(null==E?void 0:E.memory_diff))||void 0===j?void 0:j.displayUnit}];return m.a.createElement(y.a,{error:C,onReload:B,errorStyle:{flexGrow:1},loading:x,__source:{fileName:A,lineNumber:114,columnNumber:5}},m.a.createElement(O.a,{containerStyle:{minHeight:275,marginBottom:16,flexShrink:0},contentStyle:D({paddingTop:20},C?{display:"flex",flexDirection:"column",paddingTop:0}:{}),title:Object(w.g)("Agent 概览"),isCard:!0,__source:{fileName:A,lineNumber:120,columnNumber:7}},null==M?void 0:M.map((function(e){return m.a.createElement(k,r()({},e,{key:e.title,__source:{fileName:A,lineNumber:134,columnNumber:11}}))}))))}}}]);