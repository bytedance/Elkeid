(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{1621:function(e,t,n){"use strict";var r,o=n(10),c=n.n(o),a=n(51),i=n.n(a),u=n(50),l=n.n(u),s=n(0),f=n.n(s),m=n(794),p=n(115),b=n.n(p),d=n(163),v=(n(616),n(230)),g=n(1771),h=n.n(g),N="/opt/tiger/compile_path/src/code.byted.org/biz-platform/hids/src/components/common/tag-input/drop.tsx",O=b.a.bind(h.a),E=function(e){var t=e.options,n=e.onChange,r=e.forwardRef;return f.a.createElement("div",{className:O("container"),ref:r,__source:{fileName:N,lineNumber:16,columnNumber:5}},t.map((function(e){return f.a.createElement("div",{key:e.text,className:O("drop-item"),onClick:function(){return n(e)},__source:{fileName:N,lineNumber:18,columnNumber:9}},e.text)})))},_=n(12),j=n(1772),y=n.n(j),w="/opt/tiger/compile_path/src/code.byted.org/biz-platform/hids/src/components/common/tag-input/input.tsx",x=b.a.bind(y.a),C=Object(s.forwardRef)((function(e,t){var n=e.hasTags,r=e.editable,o=e.forwardRef,c=e.onChange,a=e.options,i=Object(s.useState)(),u=l()(i,2),m=u[0],p=u[1];return Object(s.useImperativeHandle)(t,(function(){return{setSelectedFilter:p}})),f.a.createElement(v.a,{style:{marginLeft:-9},position:"bl",trigger:"click",triggerProps:{showArrow:!1,popupAlign:{bottom:7}},content:f.a.createElement(E,{options:a,onChange:function(e){p(e.text),c(e)},forwardRef:o,__source:{fileName:w,lineNumber:37,columnNumber:11}}),className:x("popover","_drop"),popupVisible:r&&!m&&!!a.length,__source:{fileName:w,lineNumber:31,columnNumber:7}},f.a.createElement("div",{className:x("container","container-hasTags",n&&m&&"container-margin-left"),style:{display:n&&m||!a.length?"none":""},__source:{fileName:w,lineNumber:49,columnNumber:9}},f.a.createElement("span",{className:x("placeholder"),__source:{fileName:w,lineNumber:57,columnNumber:11}},n?m?"":!!a.length&&Object(_.g)("添加筛选条件"):!!a.length&&Object(_.g)("请选择筛选条件并搜索"))))})),R=(n(162),n(67));function k(){return(k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var S,T=function(e){return f.a.createElement("svg",k({width:8,height:8,fill:"none"},e),r||(r=f.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.92 1.215a.5.5 0 00-.708 0l-2.23 2.23L1.66 1.123a.5.5 0 00-.707 0l-.089.088a.5.5 0 000 .707L3.187 4.24.866 6.561a.5.5 0 000 .707l.088.089a.5.5 0 00.707 0l2.321-2.321L6.21 7.264a.5.5 0 00.708 0l.088-.088a.5.5 0 000-.707L4.778 4.24l2.23-2.23a.5.5 0 000-.707l-.089-.088z",fill:"#4E5969"})))},P=n(1773),L=n.n(P),z="/opt/tiger/compile_path/src/code.byted.org/biz-platform/hids/src/components/common/tag-input/tag.tsx",D=b.a.bind(L.a),M=function(e){var t=e.focusStatus,n=void 0!==t&&t,r=e.setFocusStatus,o=void 0===r?function(){}:r,c=e.editable,a=e.onEdit,i=e.filter,u=e.content,m=e.onClear,p=e.onChange,b=e.miniSize,d=e.setIsEditingANewTag,v=e.inputElementDomRef,g=Object(s.useState)(!1),h=l()(g,2),N=h[0],O=h[1],E=Object(s.useState)(2),j=l()(E,2),y=j[0],w=j[1],x=Object(s.useRef)(),C=Object(s.useRef)(),k=Object(s.useRef)(),S=Object(s.useRef)(),P=function(e){if(S.current&&!C.current)return w(S.current);x.current.textContent=e;var t=x.current.getBoundingClientRect().width;return c&&(S.current=t),setTimeout((function(){var e=x.current.getBoundingClientRect().width;e!==t&&w(e),c&&(S.current=e)})),w(t)};return Object(s.useEffect)((function(){c?(C.current.focus(),v.current=C,O(!1)):(!u&&m(),k.current=!0),d(!k.current)}),[c]),f.a.createElement(R.a,{content:Object(_.g)("点击进行修改，按回车完成修改。"),popupVisible:N,getPopupContainer:function(){return document.body},__source:{fileName:z,lineNumber:73,columnNumber:5}},f.a.createElement("div",{className:D("container",n&&"container-focus",c&&"container-editable",b&&!c&&"container-max-width"),onClick:function(e){e.stopPropagation(),k.current&&(o(!0),P(u),a())},onMouseEnter:function(){return O(!c)},onMouseLeave:function(){return O(!1)},__source:{fileName:z,lineNumber:78,columnNumber:7}},f.a.createElement("span",{className:D("filter-name"),onClick:function(){return(null==C?void 0:C.current)&&C.current.focus()},__source:{fileName:z,lineNumber:95,columnNumber:9}},i,"："),f.a.createElement("span",{className:D("filter-content",c&&"filter-content-editable"),ref:x,__source:{fileName:z,lineNumber:101,columnNumber:9}},u),!!c&&f.a.createElement("input",{className:D("filter-content","filter-input"),type:"text",value:u,onChange:function(e){p({filter:i,content:e.target.value}),P(e.target.value)},style:{width:y},ref:C,spellCheck:!1,__source:{fileName:z,lineNumber:108,columnNumber:11}}),c&&!k.current&&f.a.createElement("span",{className:D("filter-name",b&&"filter-name-mini"),onClick:function(){return(null==C?void 0:C.current)&&C.current.focus()},__source:{fileName:z,lineNumber:122,columnNumber:11}},Object(_.g)("请输入并按回车确认")),f.a.createElement("span",{className:D("clear-btn"),onClick:function(e){e.stopPropagation(),m()},style:{display:c?"none":"block"},__source:{fileName:z,lineNumber:129,columnNumber:9}},f.a.createElement(T,{__source:{fileName:z,lineNumber:137,columnNumber:11}}))))};function V(){return(V=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var A,F,I=function(e){return f.a.createElement("svg",V({width:10,height:10,fill:"none"},e),S||(S=f.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.774 1.169a.5.5 0 00-.707 0L4.976 4.26 1.762 1.047a.5.5 0 00-.707 0L.7 1.4a.5.5 0 000 .708L3.915 5.32.703 8.533a.5.5 0 000 .707l.354.353a.5.5 0 00.707 0l3.212-3.211 3.09 3.09a.5.5 0 00.706 0l.354-.354a.5.5 0 000-.707l-3.09-3.09L9.128 2.23a.5.5 0 000-.707l-.354-.353z",fill:"#4E5969"})))};function B(){return(B=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var J=function(e){return f.a.createElement("svg",B({width:13,height:12,fill:"none"},e),A||(A=f.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.701 11.088c1.426 0 2.73-.509 3.73-1.35l2.23 2.17c.124.12.319.12.442 0l.59-.573a.316.316 0 000-.454l-2.28-2.216a5.413 5.413 0 00.99-3.12C11.402 2.481 8.85 0 5.7 0 2.553 0 0 2.482 0 5.544c0 3.062 2.553 5.544 5.701 5.544zm4.293-5.544c0 2.305-1.922 4.174-4.293 4.174-2.37 0-4.292-1.869-4.292-4.174 0-2.306 1.922-4.175 4.292-4.175 2.371 0 4.293 1.87 4.293 4.175z",fill:"#4E5969"})),f.a.createElement("mask",{id:"search-icon_svg__a",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:0,y:0,width:13,height:12},F||(F=f.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.701 11.088A5.77 5.77 0 009.567 9.62l2.058 2.002c.123.12.318.12.441 0l.59-.573a.316.316 0 000-.454l-2.14-2.08a5.408 5.408 0 00.886-2.97C11.402 2.482 8.85 0 5.702 0 2.551 0 0 2.482 0 5.544c0 3.062 2.553 5.544 5.701 5.544zm4.293-5.544c0 2.305-1.922 4.174-4.293 4.174-2.37 0-4.292-1.869-4.292-4.174 0-2.306 1.922-4.175 4.292-4.175 2.371 0 4.293 1.87 4.293 4.175z",fill:"#fff"}))))},U=n(1774),H=n.n(U),q="/opt/tiger/compile_path/src/code.byted.org/biz-platform/hids/src/components/common/tag-input/index.tsx";function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Q=b.a.bind(H.a),W=function(e){return void 0===e||0===e.filter((function(e){return e.content})).length},X=function(e){for(var t=[],n=e.target;n;)t.push(n),n=n.parentElement;return t};t.a=function(e){var t=e.options,n=void 0===t?[]:t,r=e.value,o=e.onChange,c=e.style,a=void 0===c?{}:c,u=e.miniSize,p=void 0!==u&&u,b=Object(s.useState)(!1),v=l()(b,2),g=v[0],h=v[1],N=Object(s.useRef)({onChange:o});N.current.onChange=o;var O=Object(s.useRef)(),E=Object(s.useRef)(),_=Object(s.useRef)(),j=Object(s.useRef)(),y=Object(s.useState)([]),w=l()(y,2),x=w[0],R=w[1];Object(s.useEffect)((function(){var e=new Map(n.map((function(e){return[e.value,e.text]}))),t=Object.entries(r).filter((function(t){var n=l()(t,2),r=n[0],o=n[1];return o&&"string"==typeof o&&e.has(r)})).map((function(t){var n=l()(t,2),r=n[0],o=n[1];return[r,{optionText:e.get(r),optionValue:r,content:o}]})),o=new Map(t),c=[];x.forEach((function(e){var t=e.optionValue;o.has(t)&&(c.push(o.get(t)),o.delete(t))})),o.forEach((function(e){return c.push(e)})),R(c)}),[Object(m.a)(r),Object(m.a)(n)]);var k=Object(s.useState)(""),S=l()(k,2),T=S[0],P=S[1],L=Object(s.useState)(!1),z=l()(L,2),D=z[0],V=z[1],A=Object(s.useRef)(),F=function(e){A.current=e,V(e)},B=function(){var e=x.map((function(e){return e.optionText}));return n.filter((function(t){return!e.includes(t.text)}))},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[],r={};return n.forEach((function(e){return r[e.value]=void 0})),e.forEach((function(e){var n=e.optionText,o=e.optionValue,c=e.content;t.push({option:{text:n,value:o},value:c||void 0}),r[o]=c||void 0})),[t,r]},H=function(){var e;P(""),null===(e=_.current)||void 0===e||e.setSelectedFilter("")},G=Object(s.useRef)(),Y=function(e){G.current=i()(e),R(G.current)};return Object(s.useEffect)((function(){var e,t=function(){if(e===G.current||W(e)&&W(G.current)&&W(e)===W(G.current))h(!1);else{var t=N.current.onChange;t&&t.apply(void 0,i()(U(G.current))),B().length&&A.current?h(!0):h(!1),e=G.current}H()},n=function(e){var n=X(e);n.includes(O.current)||n.includes(E.current)||t()},r=function(e){13===e.keyCode&&t()};return document.addEventListener("click",n,!0),document.addEventListener("keydown",r),function(){document.removeEventListener("click",n),document.removeEventListener("keydown",r)}}),[]),f.a.createElement("div",{className:Q("container",g&&"container-focus"),ref:O,style:p?K({width:360,whiteSpace:"nowrap"},a):a,__source:{fileName:q,lineNumber:195,columnNumber:5}},f.a.createElement("div",{className:Q("input-area"),style:{width:"calc(100% - ".concat(x.length?49:29,"px)")},onClick:function(e){var t,n;if(e.persist(),!X(e.nativeEvent).includes(E.current)){if(D)return null===(t=j.current)||void 0===t||null===(n=t.current)||void 0===n?void 0:n.focus();h(!0),H()}},__source:{fileName:q,lineNumber:200,columnNumber:7}},x.map((function(e,t){return f.a.createElement(M,{key:e.optionText,setIsEditingANewTag:F,focusStatus:g,setFocusStatus:h,editable:e.optionText===T,onEdit:function(){var t;P(e.optionText),null===(t=_.current)||void 0===t||t.setSelectedFilter("")},filter:e.optionText,content:e.content,onClear:function(){var e=Object(d.cloneDeep)(x);e.splice(t,1),Y(e),W(x)&&W(e)||o&&o.apply(void 0,i()(U(e))),h(!1),H()},onChange:function(n){var r=Object(d.cloneDeep)(x);r[t]={optionText:e.optionText,optionValue:e.optionValue,content:n.content},Y(r)},miniSize:p,inputElementDomRef:j,__source:{fileName:q,lineNumber:212,columnNumber:11}})})),f.a.createElement(C,{forwardRef:E,hasTags:!!x.length,editable:g&&""===T,onChange:function(e){P(e.text),Y([].concat(i()(x),[{optionText:e.text,optionValue:e.value,content:""}]))},ref:_,options:B(),__source:{fileName:q,lineNumber:249,columnNumber:9}})),f.a.createElement("div",{className:Q("button-area"),__source:{fileName:q,lineNumber:265,columnNumber:7}},f.a.createElement("span",{style:{display:x.length?"":"none"},onClick:function(){Y([]),o&&o.apply(void 0,i()(U([]))),h(!1),F(!1),H()},__source:{fileName:q,lineNumber:266,columnNumber:9}},f.a.createElement(I,{__source:{fileName:q,lineNumber:277,columnNumber:11}})),f.a.createElement("span",{__source:{fileName:q,lineNumber:279,columnNumber:9}},f.a.createElement(J,{__source:{fileName:q,lineNumber:280,columnNumber:11}}))))}},1771:function(e,t,n){e.exports={container:"container-5eec21a087","drop-item":"drop-item-d7cfb8de3e"}},1772:function(e,t,n){e.exports={container:"container-41e960b574","container-hasTags":"container-hasTags-0f26bbde05","container-margin-left":"container-margin-left-2b04956b9c",placeholder:"placeholder-a12a4cacf3",popover:"popover-b845049788"}},1773:function(e,t,n){e.exports={container:"container-e3a82f7757","container-focus":"container-focus-eb70c8fd91","container-editable":"container-editable-1b48fd01b0","container-max-width":"container-max-width-e613dfef38","clear-btn":"clear-btn-d16bb0781d","filter-name":"filter-name-7610dfbf37","filter-name-mini":"filter-name-mini-ab00a5f6c4","filter-content":"filter-content-214aabbc85","filter-content-editable":"filter-content-editable-b18b7ce67d","filter-input":"filter-input-2262860508"}},1774:function(e,t,n){e.exports={container:"container-25bd47ae9d","container-focus":"container-focus-8dc25b7134","button-area":"button-area-fa46bacf34","input-area":"input-area-33e07c83a5"}}}]);