(window.webpackJsonp=window.webpackJsonp||[]).push([[102,314,315,395],{1522:function(e,t,r){e.exports={utils:"utils-ef873da6bb"}},1608:function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var n=r(0),a=r.n(n),c=r(70),o=r.n(c),i="/opt/tiger/compile_path/src/code.byted.org/biz-platform/hids/src/utils/get-display-time.tsx";function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD HH:mm:ss",r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e){var n=o.a.unix(e).format(t);if(r){var c=null==n?void 0:n.split(" ");return a.a.createElement(a.a.Fragment,null,null==c?void 0:c.map((function(e){return a.a.createElement("div",{key:e,__source:{fileName:i,lineNumber:12,columnNumber:13}},e)})))}return n}return"-"}},1609:function(e,t,r){"use strict";r.d(t,"b",(function(){return m}));r(299);var n=r(165),a=r(0),c=r.n(a),o=r(55),i=r(164),l=r.n(i),u=r(147),s=r(166);function m(){return(s.a?location.pathname.slice(null===s.a||void 0===s.a?void 0:s.a.length):location.pathname)+encodeURIComponent(location.search)}t.a=function(e){var t=e.defaultLink,r=e.defaultTitle,i=Object(o.g)();var s=Object(a.useMemo)((function(){return function(){var e,t=null===(e=l.a.parse(location.search))||void 0===e?void 0:e.breadcrumbLinkFrom;if(t){var r,n,a,c,o="";if(null!=t&&null!==(r=t.indexOf)&&void 0!==r&&r.call(t,"?"))o=null==t||null===(a=t.split)||void 0===a||null===(c=a.call(t,"?"))||void 0===c?void 0:c[0];else o=t;var i=null===u.c||void 0===u.c||null===(n=u.c.find)||void 0===n?void 0:n.call(u.c,(function(e){return(null==e?void 0:e.path)===o&&(null==e?void 0:e.name)}));if(i)return{link:t,title:null==i?void 0:i.name}}return{link:void 0,title:void 0}}()}),[]),m=s.link,b=s.title;return c.a.createElement(n.a,{style:{color:"#4E5969"},onClick:function(){i.push(m||t)},__source:{fileName:"/opt/tiger/compile_path/src/code.byted.org/biz-platform/hids/src/components/common/breadcrumb-link.tsx",lineNumber:63,columnNumber:5}},b||r)}},1613:function(e,t,r){"use strict";r(116);var n,a=r(42),c=r(1),o=r.n(c),i=r(2),l=r.n(i),u=r(0),s=r.n(u),m=r(115),b=r.n(m);function f(){return(f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var d=function(e){return s.a.createElement("svg",f({width:12,height:12,fill:"none"},e),n||(n=s.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.35 1.867a6 6 0 101.146 6.544c.1-.23.217-.612.294-.882a.245.245 0 00-.236-.313l-1.035-.004c-.11 0-.206.07-.24.173a5.995 5.995 0 01-.156.423 4.5 4.5 0 11-.909-4.958H8a.25.25 0 00-.25.25V4c0 .138.112.25.25.25h3.5a.25.25 0 00.25-.25V.5a.25.25 0 00-.25-.25h-.9a.25.25 0 00-.25.25v1.367z",fill:"#424E66"})))},p=r(1627),g=r.n(p),v="/opt/tiger/compile_path/src/code.byted.org/biz-platform/hids/src/components/common/refresh-button/index.tsx",h=["onRefresh","className"],N=b.a.bind(g.a);t.a=function(e){var t=e.onRefresh,r=e.className,n=l()(e,h);return s.a.createElement(a.a,o()({className:N("refresh-icon",r),onClick:t},n,{__source:{fileName:v,lineNumber:17,columnNumber:5}}),s.a.createElement(d,{__source:{fileName:v,lineNumber:18,columnNumber:7}}))}},1619:function(e,t,r){"use strict";r.d(t,"a",(function(){return b}));var n,a,c=r(603),o=r.n(c),i=r(0),l=r.n(i),u=r(604),s=r(12),m="/opt/tiger/compile_path/src/code.byted.org/biz-platform/hids/src/components/global/detecting-label/index.tsx",b=u.a.div(n||(n=o()(["\n  @keyframes spin {\n    0% {\n      transform: rotate(0deg) rotateX(180deg);\n    }\n    50% {\n      transform: rotate(180deg) rotateX(180deg);\n    }\n    100% {\n      transform: rotate(360deg) rotateX(180deg);\n    }\n  }\n\n  display: inline-flex;\n  align-items: center;\n  justify-content: flex-end;\n  animation: spin 1.5s linear infinite;\n  width: 12px;\n  height: 12px;\n  border-radius: 50%;\n  margin-right: 8px;\n  background: conic-gradient(\n    from 114.04deg at 50% 50%,\n    #165dff -3.75deg,\n    rgba(22, 93, 255, 0) 331.83deg,\n    #165dff 339.88deg,\n    #165dff 356.25deg,\n    rgba(22, 93, 255, 0) 691.83deg\n  );\n  &::before {\n    content: ' ';\n    height: 8px;\n    width: 8px;\n    border-radius: 50%;\n    background: #fff;\n  }\n  &::after {\n    content: ' ';\n    height: 2px;\n    width: 2px;\n    border-radius: 50%;\n    background: #165dff;\n  }\n"]))),f=u.a.div(a||(a=o()(["\n  display: inline-flex;\n  align-items: center;\n  font-size: 12px;\n  line-height: 20px;\n"])));t.b=function(e){var t=e.progress,r=e.label,n=void 0===r?Object(s.g)("检查中"):r,a=e.className,c=!!t||0===t;return l.a.createElement(f,{className:a,__source:{fileName:m,lineNumber:68,columnNumber:5}},l.a.createElement(b,{className:"arco-icon-loading",__source:{fileName:m,lineNumber:69,columnNumber:7}}),l.a.createElement("span",{__source:{fileName:m,lineNumber:70,columnNumber:7}},n),c&&l.a.createElement("span",{__source:{fileName:m,lineNumber:71,columnNumber:23}}," ",t,"%"))}},1624:function(e,t,r){"use strict";r.d(t,"b",(function(){return v}));var n=r(50),a=r.n(n),c=r(10),o=r.n(c),i=r(75),l=r.n(i),u=r(51),s=r.n(u),m=r(0),b=r(794),f=r(163),d=r(606);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var v={number:function(e){return Number(String(e))},numberArray:function(e){return e?"string"==typeof e?[Number(e)]:Array.isArray(e)?e.map(Number):[]:[]},string:String,stringArray:function(e){return e?"string"==typeof e?[String(e)]:e:[]},boolean:function(e){if(!e)return!1;if(Array.isArray(e))return!0;return!["0","false","null","undefined"].includes(e)}};t.a=function(e){var t,r=e.initParams,n=e.namespace,c=void 0===n?"":n,i=e.visible,u=void 0===i||i,p=e.autoMergeUrlParams,h=void 0!==p&&p,N=Object(m.useContext)(d.a),O=N.addListener,_=N.removeListener,j=N.dispatchUrlParams,y=N.getCurrentUrlParams,E=N.setVisible,x=N.debugMode,w=Object(m.useRef)();if(!w.current){var P={},k={};w.current={},w.current.adapters=k,w.current.filterKeys=[],w.current.namespace=c,Object.keys(r).forEach((function(e){var t=r[e];Array.isArray(t)?(P[e]=t,k[e]=v.stringArray):"object"===l()(t)?(P[e]=t.value,"string"==typeof t.adapter?k[e]=v[t.adapter]:k[e]=t.adapter,t.isFilter&&w.current.filterKeys.push(e),t.isSorter&&(w.current.sorterKey=e,k[e]=v.string),t.isPageSize&&(w.current.pageSizeKey=e,k[e]=v.number),t.isCurrent&&(w.current.currentKey=e,k[e]=v.number)):(P[e]=t,void 0===t?k[e]=v.string:v[l()(t)]?k[e]=v[l()(t)]:Array.isArray(t)&&(0===t.length?k[e]=v.stringArray:"number"==typeof t[0]?k[e]=v.numberArray:k[e]=v.stringArray))})),t=g(g({},P),y(c)),x&&console.log("合成初始参数",t)}var A=Object(m.useState)(t),z=a()(A,2),C=z[0],S=z[1];w.current.value=C,w.current.setValue=S,w.current.visible=u,Object(m.useEffect)((function(){var e=function(e){var t=w.current,r=t.value,n=t.setValue;if(function(e,t){for(var r=0,n=Object.keys(t);r<n.length;r++){var a=n[r];if(Array.isArray(t[a])){var c=e[a]?s()(e[a]).sort():[],o=s()(t[a]).sort();if(JSON.stringify(c)!==JSON.stringify(o))return!0}else if(t[a]!==e[a])return!0}return!1}(e,r)){var a=g({},r);Object.keys(a).forEach((function(e){""!==a[e]&&(Array.isArray(a[e])&&!a[e].length||(a[e]=void 0))})),n(g(g({},a),e))}};return O(e,null==u||u,c),function(){return _(e)}}),[]),Object(m.useEffect)((function(){j(C,c)}),[]),Object(m.useEffect)((function(){E(u,c)}),[u]);var D={};Object.keys(C).forEach((function(e){var t=w.current.adapters;D[e]=C[e]?t[e]?t[e](C[e]):v.string(C[e]):void 0}));var H={};[].concat(s()(w.current.filterKeys),[w.current.sorterKey,w.current.pageSizeKey,w.current.currentKey]).forEach((function(e){return H[e]=C[e]}));var T=function(e){var t=w.current.value,r="function"==typeof e?e(t):e;x&&console.log("开始更新",t);var n=g({},t),a=Object.keys(t),c=w.current.namespace;h||Object.keys(n).forEach((function(e){return n[e]=void 0})),Object.keys(r).forEach((function(e){a.includes(e)&&(n[e]=r[e])})),x&&console.log("更新结束",n),x&&console.log("差异",Object(f.difference)(Object.entries(n).map((function(e){return"".concat(e[0],":").concat(e[1])})),Object.entries(t).map((function(e){return"".concat(e[0],":").concat(e[1])})))),S(n),w.current.value=n,j(n,c)};return x&&console.log("".concat(w.current.namespace||"全局","参数"),D,w.current.adapters),{globalUrlParams:Object(b.a)(D),tableChangeDeps:Object(b.a)(H),setGlobalUrlParams:T,tablePropsProxy:function(e){var t=w.current.tableProps;w.current.tableProps=e;var r=w.current,n=r.filterKeys,a=r.sorterKey,c=r.pageSizeKey,i=r.currentKey,l=r.value;return null!=t&&t.loading&&l[i]&&+l[i]>1&&(void 0===e.data||null===e.data||"[]"===JSON.stringify(e.data))&&T((function(e){return g(g({},e),{},o()({},i,"1"))})),g(g({},e),{},{pagination:g(g({},e.pagination),{},{current:l[i]?+l[i]:1,pageSize:l[c]?+l[c]:10}),onChange:function(){for(var e,t=arguments.length,r=new Array(t),u=0;u<t;u++)r[u]=arguments[u];var s={},m={},b=r[0],f=b.pageSize,d=b.current,p=w.current.tableProps;a===r[1].field&&(m[a]=r[1].direction),n.forEach((function(e){return s[e]=r[2][e]}));var v=g(g((e={},o()(e,c,String(f)),o()(e,i,String(d)),e),s),m);x&&console.log("table触发的更新",r),T(g(g({},l),v)),p.onChange.apply(p,r)}})}}}},1627:function(e,t,r){e.exports={"refresh-icon":"refresh-icon-823d727e47"}},1634:function(e,t,r){"use strict";r.r(t),r.d(t,"DescribeHostStatistics",(function(){return c})),r.d(t,"DescribeHosts",(function(){return o})),r.d(t,"ExportHosts",(function(){return i})),r.d(t,"DownloadFile",(function(){return l})),r.d(t,"DescribeTags",(function(){return u})),r.d(t,"AddTags",(function(){return s})),r.d(t,"DeleteTags",(function(){return m})),r.d(t,"UpdateTags",(function(){return b})),r.d(t,"DescribePlatforms",(function(){return f})),r.d(t,"DescribeIDCs",(function(){return d})),r.d(t,"PostApiV6AssetCenterEnableHostImportantProtect",(function(){return p})),r.d(t,"PostApiV6AssetCenterDisableHostImportantProtect",(function(){return g}));var n=r(54),a=r(12),c=function(){return Object(n.b)({method:"get",url:"/api/v6/asset-center/DescribeHostStatistics"},Object(a.g)("获取主机统计信息"))},o=function(e){var t=e.data,r=e.params;return Object(n.b)({method:"post",url:"/api/v6/asset-center/DescribeHosts",data:t,params:r},Object(a.g)("获取主机列表信息"))},i=function(e){var t=e.data;return Object(n.b)({method:"post",url:"/api/v6/asset-center/ExportHosts",data:t},Object(a.g)("导出主机信息"))},l=function(e){var t=e.params;return Object(n.b)({method:"get",url:"/api/v6/shared/Download/".concat(t.file_name),responseType:"blob"},Object(a.g)("下载文件"),!1,!1)},u=function(){return Object(n.b)({method:"get",url:"/api/v6/asset-center/DescribeTags"},Object(a.g)("获取标签信息"))},s=function(e){var t=e.data;return Object(n.b)({method:"post",url:"/api/v6/asset-center/AddTags",data:t},Object(a.g)("添加标签"),!0)},m=function(e){var t=e.data;return Object(n.b)({method:"post",url:"/api/v6/asset-center/DeleteTags",data:t},Object(a.g)("删除标签"),!0)},b=function(e){var t=e.data;return Object(n.b)({method:"post",url:"/api/v6/asset-center/UpdateTags",data:t},Object(a.g)("修改标签"),!0)},f=function(){return Object(n.b)({method:"get",url:"/api/v6/asset-center/DescribePlatform"},Object(a.g)("获取操作系统类型"))},d=function(){return Object(n.b)({method:"get",url:"/api/v6/asset-center/DescribeIDC"},Object(a.g)("获取数据中心类型"))};function p(e){return Object(n.b)({url:"/api/v6/asset-center/EnableHostImportantProtect",data:e,method:"POST"},Object(a.g)("开启主机重保模式"))}function g(e){return Object(n.b)({url:"/api/v6/asset-center/DisableHostImportantProtect",data:e,method:"POST"},Object(a.g)("关闭主机重保模式"))}},1650:function(e,t,r){"use strict";r(225);var n,a=r(127),c=(r(162),r(67)),o=r(0),i=r.n(o),l=r(115),u=r.n(l),s=r(1619),m=r(1655),b=r.n(m);function f(){return(f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var d,p=function(e){return i.a.createElement("svg",f({width:12,height:12,fill:"none"},e),n||(n=i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 6A6 6 0 100 6a6 6 0 0012 0zM8.094 4.053l.328.275a.428.428 0 01.053.604L5.858 8.049l-.255.306A.429.429 0 015 8.411l-.007-.006-.615-.533-.03-.024-1.06-.92a.429.429 0 01-.043-.604l.005-.006.288-.32a.429.429 0 01.598-.038l1.043.898L7.49 4.105a.429.429 0 01.604-.052z",fill:"currentColor"})))};function g(){return(g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var v,h,N,O=function(e){return i.a.createElement("svg",g({width:12,height:12,fill:"none"},e),d||(d=i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 0a6 6 0 100 12A6 6 0 106 0zm.55 5.379a.736.736 0 00-.737-.736H5.62c-.3 0-.542.243-.542.542v.167c0 .207.168.375.376.375v2.185H5.18a.542.542 0 100 1.084h1.648a.542.542 0 000-1.084H6.55V5.379zm-.122-1.833A.546.546 0 005.882 3H5.85a.546.546 0 000 1.091h.033a.546.546 0 00.546-.545z",fill:"currentColor"})))};function _(){return(_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var j,y=function(e){return i.a.createElement("svg",_({width:12,height:12,fill:"none"},e),v||(v=i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 0a6 6 0 110 12A6 6 0 016 0zm0 2a4 4 0 100 8 4 4 0 000-8z",fill:"url(#loading_svg__paint0_angular_8176_279177)"})),h||(h=i.a.createElement("path",{d:"M11 7a1 1 0 100-2 1 1 0 000 2z",fill:"currentColor"})),N||(N=i.a.createElement("defs",null,i.a.createElement("radialGradient",{id:"loading_svg__paint0_angular_8176_279177",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(5.4 -2.4 2.40928 5.42088 6 6)"},i.a.createElement("stop",{offset:.922,stopColor:"currentColor",stopOpacity:0}),i.a.createElement("stop",{offset:.944,stopColor:"currentColor"}),i.a.createElement("stop",{offset:.99,stopColor:"currentColor"})))))};function E(){return(E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var x,w,P=function(e){return i.a.createElement("svg",E({width:12,height:12,fill:"none"},e),j||(j=i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 6A6 6 0 100 6a6 6 0 0012 0zM8.279 4.159l-.424-.424a.343.343 0 00-.485 0L6.005 5.098 4.642 3.735a.343.343 0 00-.485 0l-.424.424a.343.343 0 000 .485l1.363 1.364L3.733 7.37a.343.343 0 000 .485l.424.424a.343.343 0 00.485 0l1.363-1.364L7.37 8.281a.343.343 0 00.485 0l.424-.424a.343.343 0 000-.485L6.915 6.008l1.364-1.364a.343.343 0 000-.485z",fill:"currentColor"})))};function k(){return(k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var A=function(e){return i.a.createElement("svg",k({width:16,height:16,fill:"none"},e),x||(x=i.a.createElement("path",{d:"M8 15.2A7.2 7.2 0 108 .8a7.2 7.2 0 000 14.4z",fill:"currentColor"})),w||(w=i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.52 9.94c.221 0 .4.18.4.4v1.04a.4.4 0 01-.4.4H7.48a.4.4 0 01-.4-.4v-1.04c0-.22.18-.4.4-.4h1.04zm0-5.875c.221 0 .4.18.4.4v4.208a.4.4 0 01-.4.4H7.48a.4.4 0 01-.4-.4V4.465c0-.22.18-.4.4-.4h1.04z",fill:"#fff"})))},z="/opt/tiger/compile_path/src/code.byted.org/biz-platform/hids/src/components/common/tob-status/index.tsx",C=u.a.bind(b.a);t.a=function(e){var t=e.type,r=e.prompt,n=e.tooltip,o=e.tooltipName,l=e.progress,u=e.customIcon,m=e.iconColor,b=e.button,f={handled:i.a.createElement(p,{style:{color:m||"#00AA2A"},__source:{fileName:z,lineNumber:39,columnNumber:14}}),unhandled:i.a.createElement(P,{style:{color:m||"#E63F3F"},__source:{fileName:z,lineNumber:40,columnNumber:16}}),loading:i.a.createElement(y,{style:{color:m||"#165DFF"},__source:{fileName:z,lineNumber:41,columnNumber:14}}),warning:i.a.createElement(A,{style:{color:m||"#FA9600"},__source:{fileName:z,lineNumber:42,columnNumber:14}}),info:i.a.createElement(O,{style:{color:m||"#1664FF"},__source:{fileName:z,lineNumber:43,columnNumber:11}})};return i.a.createElement("div",{className:C("container"),__source:{fileName:z,lineNumber:47,columnNumber:5}},"loading"===t?i.a.createElement(s.b,{label:r,progress:l,__source:{fileName:z,lineNumber:49,columnNumber:9}}):i.a.createElement(a.a,{size:8,__source:{fileName:z,lineNumber:51,columnNumber:9}},u||f[t],r,o&&i.a.createElement(c.a,{content:n,__source:{fileName:z,lineNumber:55,columnNumber:13}},i.a.createElement("span",{className:C("tip"),__source:{fileName:z,lineNumber:56,columnNumber:15}},o)),b))}},1655:function(e,t,r){e.exports={container:"container-750be6b696",tip:"tip-e67637b840"}},1679:function(e,t,r){"use strict";var n=r(0),a=r.n(n),c=r(115),o=r.n(c),i=r(1688),l=r.n(i),u="/opt/tiger/compile_path/src/code.byted.org/biz-platform/hids/src/components/common/mini-label/index.tsx",s=o.a.bind(l.a),m=function(e){return e.children};t.a=function(e){var t=e.outerContainerStyle,r=void 0===t?{}:t,n=e.containerStyle,c=void 0===n?{}:n,o=e.className,i=void 0===o?"":o,b=e.data,f=Array.isArray(b)?b:[b];return a.a.createElement("div",{className:s("outer-container",i),style:r,__source:{fileName:u,lineNumber:22,columnNumber:5}},f.map((function(e,t){var r=e.label,n=e.content;return a.a.createElement(m,{key:t,__source:{fileName:u,lineNumber:24,columnNumber:9}},a.a.createElement("div",{className:l.a.container,style:c,__source:{fileName:u,lineNumber:25,columnNumber:11}},a.a.createElement("div",{className:l.a.label,__source:{fileName:u,lineNumber:26,columnNumber:13}},r)),n)})))}},1688:function(e,t,r){e.exports={"outer-container":"outer-container-a02d8d74a7",container:"container-39876372d0",label:"label-3ad4f401a8"}},539:function(e,t,r){"use strict";r.r(t);r(807);var n,a=r(605),c=(r(225),r(127)),o=(r(224),r(97)),i=r(1),l=r.n(i),u=r(2),s=r.n(u),m=r(28),b=r.n(m),f=r(16),d=r.n(f),p=r(0),g=r.n(p),v=r(55),h=r(1412),N=r(1598),O=r(599),_=r(115),j=r.n(_),y=r(1609),E=r(596),x=r(1679),w=r(1613),P=r(594),k=r(1650),A=r(54),z=r(12);function C(e,t){return Object(A.b)({url:"/api/v6/filebox/list",params:e,data:t,method:"POST"},Object(z.g)("获取文件隔离箱列表"))}function S(e){return Object(A.b)({url:"/api/v6/filebox/recover",data:e,method:"POST"},Object(z.g)("恢复文件隔离箱中的文件"))}!function(e){e[e["隔离中"]=0]="隔离中",e[e["隔离成功"]=1]="隔离成功",e[e["隔离失败"]=2]="隔离失败",e[e["恢复中"]=3]="恢复中",e[e["恢复成功"]=4]="恢复成功",e[e["恢复失败"]=5]="恢复失败"}(n||(n={}));var D=r(1634),H=r(1608),T=r(1624),I=r(1522),R=r.n(I),M="/opt/tiger/compile_path/src/code.byted.org/biz-platform/hids/src/pages/file-box/index.tsx",F=["current","pageSize"],K=j.a.bind(R.a);t.default=function(){var e=Object(v.g)(),t=[{text:Object(z.g)("文件名称"),value:"file_path"},{text:Object(z.g)("主机ID"),value:"agent_id"},{text:Object(z.g)("主机名"),value:"hostname"},{text:Object(z.g)("主机IP"),value:"ip"}],r={current:{value:1,adapter:T.b.number,isCurrent:!0},pageSize:{value:10,adapter:T.b.number,isPageSize:!0},file_path:void 0,agent_id:void 0,hostname:void 0,ip:void 0,status:{value:[],adapter:T.b.numberArray,isFilter:!0}},i=Object(T.a)({initParams:r,autoMergeUrlParams:!0}),u=i.globalUrlParams,m=i.setGlobalUrlParams,f=i.tablePropsProxy,p=Object(O.a)(b()(d.a.mark((function e(){var t,r,n,a,c,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.current,r=u.pageSize,n=s()(u,F),e.next=3,C({page:t,page_size:r},n);case 3:return a=e.sent,c=a.data,o=a.page_info,e.abrupt("return",{list:c,total:(null==o?void 0:o.total)||0});case 7:case"end":return e.stop()}}),e)}))),{auto:!0,debounceInterval:300,refreshDeps:[u]}),_=p.tableProps,j=p.refresh,I=[{title:Object(z.g)("主机"),dataIndex:"hostname",render:function(t,r){var n,a,c,o,i,l,u,s,m,b=[];return(null==r||null===(n=r.host)||void 0===n||null===(a=n.outer_ip_list)||void 0===a?void 0:a[0])&&b.push({label:Object(z.g)("公网"),content:null==r||null===(c=r.host)||void 0===c||null===(o=c.outer_ip_list)||void 0===o?void 0:o[0]}),(null==r||null===(i=r.host)||void 0===i||null===(l=i.inner_ip_list)||void 0===l?void 0:l[0])&&b.push({label:Object(z.g)("私网"),content:null==r||null===(u=r.host)||void 0===u||null===(s=u.inner_ip_list)||void 0===s?void 0:s[0]}),g.a.createElement("div",{__source:{fileName:M,lineNumber:89,columnNumber:11}},g.a.createElement("div",{__source:{fileName:M,lineNumber:90,columnNumber:13}},g.a.createElement(P.a,{style:{marginLeft:-8},onClick:function(){var t;e.push("/host-detail?agentId=".concat(null==r||null===(t=r.host)||void 0===t?void 0:t.agent_id,"&breadcrumbLinkFrom=").concat(Object(y.b)()))},__source:{fileName:M,lineNumber:91,columnNumber:15}},(null==r||null===(m=r.host)||void 0===m?void 0:m.hostname)||"-")),g.a.createElement(x.a,{data:b,__source:{fileName:M,lineNumber:104,columnNumber:13}}))}},{title:Object(z.g)("路径"),dataIndex:"file_path",render:function(e){return g.a.createElement("span",{style:{color:"#4E5969"},__source:{fileName:M,lineNumber:113,columnNumber:16}},e||"-")}},{title:Object(z.g)("状态"),dataIndex:"status",filteredValue:null==u?void 0:u.status,filters:[{text:Object(z.g)("隔离中"),value:n.隔离中},{text:Object(z.g)("隔离成功"),value:n.隔离成功},{text:Object(z.g)("隔离失败"),value:n.隔离失败},{text:Object(z.g)("恢复中"),value:n.恢复中},{text:Object(z.g)("恢复成功"),value:n.恢复成功},{text:Object(z.g)("恢复失败"),value:n.恢复失败}],render:function(e,t){var r,a,c=function(e){return g.a.createElement(P.a,l()({style:{padding:0}},e,{__source:{fileName:M,lineNumber:130,columnNumber:11}}),Object(z.g)("重试"))};switch(e){case n.隔离中:return g.a.createElement(k.a,{type:"loading",prompt:Object(z.g)("隔离中"),__source:{fileName:M,lineNumber:136,columnNumber:20}});case n.隔离成功:return g.a.createElement(k.a,{type:"handled",prompt:Object(z.g)("隔离成功"),__source:{fileName:M,lineNumber:139,columnNumber:20}});case n.隔离失败:return g.a.createElement(k.a,{type:"unhandled",prompt:Object(z.g)("隔离失败"),button:c({onClick:(a=b()(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r={filebox_id:null==t?void 0:t.filebox_id},Object(A.b)({url:"/api/v6/filebox/isolate",data:r,method:"POST"},Object(z.g)("文件隔离箱中的文件隔离重试"));case 3:setTimeout((function(){j(),o.a.success(Object(z.g)("已下发端上处理任务，正在处理中"))}),1e3),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),o.a.error(Object(z.g)("隔离失败"));case 9:case"end":return e.stop()}var r}),e,null,[[0,6]])}))),function(){return a.apply(this,arguments)})}),__source:{fileName:M,lineNumber:143,columnNumber:15}});case n.恢复中:return g.a.createElement(k.a,{type:"loading",prompt:Object(z.g)("恢复中"),__source:{fileName:M,lineNumber:165,columnNumber:20}});case n.恢复成功:return g.a.createElement(k.a,{type:"handled",prompt:Object(z.g)("恢复成功"),__source:{fileName:M,lineNumber:168,columnNumber:20}});case n.恢复失败:return g.a.createElement(k.a,{type:"unhandled",prompt:Object(z.g)("恢复失败"),button:c({onClick:(r=b()(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S({filebox_id:null==t?void 0:t.filebox_id});case 3:setTimeout((function(){j(),o.a.success(Object(z.g)("已下发端上处理任务，正在处理中"))}),1e3),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),o.a.error(Object(z.g)("恢复失败"));case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))),function(){return r.apply(this,arguments)})}),__source:{fileName:M,lineNumber:172,columnNumber:15}})}}},{title:Object(z.g)("变更时间"),dataIndex:"update_time",render:function(e){return Object(H.a)(e)}},{title:Object(z.g)("操作"),dataIndex:"operation",render:function(e,t){var r=t.saved_file_name;switch(t.status){case n.隔离中:case n.恢复中:return"-";case n.隔离成功:case n.恢复成功:return g.a.createElement(c.a,{__source:{fileName:M,lineNumber:218,columnNumber:15}},g.a.createElement(P.a,{nowrap:!0,onClick:function(){Object(D.DownloadFile)({params:{file_name:r}})},__source:{fileName:M,lineNumber:219,columnNumber:17}},Object(z.g)("下载")),g.a.createElement(P.a,{nowrap:!0,onClick:b()(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S({filebox_id:null==t?void 0:t.filebox_id});case 3:o.a.success(Object(z.g)("已下发端上处理任务，正在处理中")),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),o.a.error(Object(z.g)("恢复失败"));case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))),__source:{fileName:M,lineNumber:231,columnNumber:17}},Object(z.g)("恢复")));case n.隔离失败:case n.恢复失败:return g.a.createElement(P.a,{nowrap:!0,onClick:function(){Object(D.DownloadFile)({params:{file_name:r}})},__source:{fileName:M,lineNumber:250,columnNumber:15}},Object(z.g)("下载"))}}}];return g.a.createElement(E.a,{title:Object(z.g)("文件隔离箱"),__source:{fileName:M,lineNumber:270,columnNumber:5}},g.a.createElement(a.a,{style:{marginTop:16},content:Object(z.g)("被成功隔离的文件在 30 天内可进行一键恢复，过期后将自动从文件隔离箱删除。"),__source:{fileName:M,lineNumber:271,columnNumber:7}}),g.a.createElement("div",{className:K("utils"),__source:{fileName:M,lineNumber:275,columnNumber:7}},g.a.createElement(h.a,{options:t,value:u,onChange:function(e,t){return m(t)},__source:{fileName:M,lineNumber:276,columnNumber:9}}),g.a.createElement(w.a,{style:{marginLeft:12},onRefresh:b()(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j();case 3:o.a.success(Object(z.g)("刷新成功")),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),o.a.error(Object(z.g)("刷新失败"));case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))),__source:{fileName:M,lineNumber:281,columnNumber:9}})),g.a.createElement(N.a,l()({rowKey:"filebox_id",columns:I},f(_),{__source:{fileName:M,lineNumber:293,columnNumber:7}})))}}}]);