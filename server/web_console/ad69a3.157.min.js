(window.webpackJsonp=window.webpackJsonp||[]).push([[157,496],{1504:function(e,t,n){e.exports={container:"container-be478e3fba",title:"title-1730662cdd"}},1615:function(e,t,n){"use strict";var r=n(0),a=n.n(r),l=n(115),c=n.n(l),i=n(1623),u=n.n(i),m="/opt/tiger/compile_path/src/code.byted.org/biz-platform/hids/src/components/common/status-display-component/index.tsx",o=c.a.bind(u.a);t.a=function(e){var t=e.color,n=e.content;return a.a.createElement("div",{className:o("container"),__source:{fileName:m,lineNumber:15,columnNumber:5}},a.a.createElement("div",{className:o("circle"),style:{background:t},__source:{fileName:m,lineNumber:16,columnNumber:7}}),a.a.createElement("div",{className:o("content"),__source:{fileName:m,lineNumber:17,columnNumber:7}},n))}},1623:function(e,t,n){e.exports={container:"container-5be80ecb83",content:"content-c7c988a72c",circle:"circle-f32e1ad32c"}},1718:function(e,t,n){"use strict";t.a=function(e,t){var n,r=new Set,a={},l=[];Object.keys(t).forEach((function(t){var n=new RegExp("\\{".concat(t,"\\}"),"g"),l=Array.from(null==e?void 0:e.matchAll(n));null==l||l.forEach((function(e){var n=e.index;(function(e,t){for(;e<t;){if(r.has(e))return!0;e++}return!1})(n,n+t.length+2)||(!function(e,t){for(;e<t;)r.add(e),e++}(n,n+t.length+2),a[n]=t)}))}));for(var c=0;c<e.length;){var i,u=a[c];if(u)n&&(l.push(n),n=void 0),l.push(null===(i=t[u])||void 0===i?void 0:i.call(t)),c+=u.length+2;else n=(n||"")+e[c],c++}return n&&l.push(n),l}},483:function(e,t,n){"use strict";n.r(t);n(1294);var r=n(1295),a=(n(224),n(97)),l=n(10),c=n.n(l),i=n(28),u=n.n(i),m=n(50),o=n.n(m),s=(n(806),n(199)),b=(n(225),n(127)),_=(n(197),n(117)),f=n(16),N=n.n(f),d=n(0),p=n.n(d),g=n(229),v=n(115),y=n.n(v),O=n(1615),h=n(56),E=n(12),j=n(1718),w=n(1504),k=n.n(w),x="/opt/tiger/compile_path/src/code.byted.org/biz-platform/hids/src/pages/user/login-setting-drawer/index.tsx";function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I=y.a.bind(k.a),C=function(){return p.a.createElement(O.a,{content:Object(E.g)("已开启"),color:"#00AA2A",__source:{fileName:x,lineNumber:16,columnNumber:21}})},A=function(e){return p.a.createElement(b.a,{size:24,style:{alignItems:"start"},__source:{fileName:x,lineNumber:25,columnNumber:5}},p.a.createElement(C,{__source:{fileName:x,lineNumber:26,columnNumber:7}}),p.a.createElement("div",{style:{marginTop:-7},__source:{fileName:x,lineNumber:27,columnNumber:7}},p.a.createElement(b.a,{size:4,__source:{fileName:x,lineNumber:28,columnNumber:9}},Object(j.a)(Object(E.g)("每隔 {day} 天，更改一次密码"),{day:function(){var t;return p.a.createElement(_.a,{type:"number",style:{width:70},value:(null==e||null===(t=e.value)||void 0===t?void 0:t.interval_day)||0,onChange:function(t){null==e||e.onChange({interval_day:+t,enable:!0})},__source:{fileName:x,lineNumber:31,columnNumber:15}})}}))))},B=function(){return p.a.createElement(b.a,{size:24,style:{alignItems:"start"},__source:{fileName:x,lineNumber:49,columnNumber:5}},p.a.createElement(C,{__source:{fileName:x,lineNumber:50,columnNumber:7}}),p.a.createElement("div",{style:{marginTop:-7},__source:{fileName:x,lineNumber:51,columnNumber:7}},p.a.createElement(b.a,{size:4,style:{marginBottom:16},__source:{fileName:x,lineNumber:52,columnNumber:9}},Object(j.a)(Object(E.g)("账号密码输入错误 {input} 次，将开启图形验证码"),{input:function(){return p.a.createElement(s.a.Item,{field:"login_fail_check.captcha_limit",style:{marginBottom:0},rules:[{validator:function(e,t){if(e<1||e>10)return t(Object(E.g)("账号密码输入错误可输入范围1～10"))}}],normalize:function(e){return e>10?10:+e},__source:{fileName:x,lineNumber:55,columnNumber:15}},p.a.createElement(_.a,{type:"number",style:{width:70},__source:{fileName:x,lineNumber:71,columnNumber:17}}))}})),p.a.createElement(b.a,{size:4,style:{marginBottom:8},__source:{fileName:x,lineNumber:76,columnNumber:9}},Object(j.a)(Object(E.g)("失败 {input} 次，10 分钟后才能再次尝试"),{input:function(){return p.a.createElement(s.a.Item,{field:"login_fail_check.disable_login_limit",style:{marginBottom:0},rules:[{validator:function(e,t){if(e<1||e>20)return t(Object(E.g)("开启图形验证码失败次数可输入范围1～20"))}}],normalize:function(e){return e>20?20:+e},__source:{fileName:x,lineNumber:79,columnNumber:15}},p.a.createElement(_.a,{type:"number",style:{width:70},__source:{fileName:x,lineNumber:95,columnNumber:17}}))}}))))},D=function(e){var t=e.value,n=e.onChange;return p.a.createElement(b.a,{size:24,style:{alignItems:"start"},__source:{fileName:x,lineNumber:109,columnNumber:5}},p.a.createElement(C,{__source:{fileName:x,lineNumber:110,columnNumber:7}}),p.a.createElement("div",{style:{marginTop:-7},__source:{fileName:x,lineNumber:111,columnNumber:7}},p.a.createElement(b.a,{size:4,__source:{fileName:x,lineNumber:112,columnNumber:9}},Object(j.a)(Object(E.g)("超过 {input} 分钟，无操作，系统将自动推出"),{input:function(){return p.a.createElement(_.a,{type:"number",style:{width:70},value:null==t?void 0:t.time_out_min,onChange:function(e){return null==n?void 0:n({enable:!0,time_out_min:+e})},__source:{fileName:x,lineNumber:115,columnNumber:15}})}}))))};t.default=function(e){var t=e.visible,n=e.onClose,l=Object(g.a)(),c=o()(l,1)[0];return Object(d.useEffect)((function(){t&&Object(h.GetApiV6UserPasswordGetConfig)().then((function(e){c.setFieldsValue(null==e?void 0:e.data)})).catch((function(e){}))}),[t]),p.a.createElement(r.a,{title:Object(E.g)("登录设置"),getPopupContainer:function(){return document.getElementById("content-root")},style:{width:560},className:I("container"),visible:t,onCancel:n,autoFocus:!1,onOk:u()(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.prev=1,e.next=4,c.validate();case 4:t=e.sent,e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return");case 10:return e.next=12,Object(h.PostApiV6UserPasswordUpdateConfig)(P(P({},t),{},{password_complexity_check:!0,disable_weak_password:!0}));case 12:a.a.success(Object(E.g)("更新成功")),n(),e.next=19;break;case 16:e.prev=16,e.t1=e.catch(0),a.a.error(Object(E.g)("更新失败"));case 19:case"end":return e.stop()}}),e,null,[[0,16],[1,7]])}))),__source:{fileName:x,lineNumber:142,columnNumber:5}},p.a.createElement(s.a,{form:c,__source:{fileName:x,lineNumber:170,columnNumber:7}},p.a.createElement("div",{className:I("title"),__source:{fileName:x,lineNumber:171,columnNumber:9}},Object(E.g)("密码安全性")),p.a.createElement(s.a.Item,{label:Object(E.g)("密码复杂度检查"),field:"password_complexity_check",__source:{fileName:x,lineNumber:172,columnNumber:9}},p.a.createElement(C,{__source:{fileName:x,lineNumber:173,columnNumber:11}})),p.a.createElement(s.a.Item,{label:Object(E.g)("禁用弱密码"),field:"disable_weak_password",__source:{fileName:x,lineNumber:175,columnNumber:9}},p.a.createElement(C,{__source:{fileName:x,lineNumber:176,columnNumber:11}})),p.a.createElement(s.a.Item,{label:Object(E.g)("定期更换密码"),field:"change_password_regularly",normalize:function(e){var t=e.interval_day;return t?t<1?P(P({},e),{},{interval_day:1}):t>180?P(P({},e),{},{interval_day:180}):e:e},rules:[{validator:function(e,t){if((null==e?void 0:e.interval_day)<1||(null==e?void 0:e.interval_day)>180)return t(Object(E.g)("可输入范围1～180"))}}],__source:{fileName:x,lineNumber:178,columnNumber:9}},p.a.createElement(A,{__source:{fileName:x,lineNumber:197,columnNumber:11}})),p.a.createElement("div",{className:I("title"),__source:{fileName:x,lineNumber:200,columnNumber:9}},Object(E.g)("登录安全性")),p.a.createElement(s.a.Item,{label:Object(E.g)("登录失败处理"),field:"login_fail_check",normalize:function(e){var t=e.captcha_limit,n=e.disable_login_limit;return P(P({},e),{},{captcha_limit:t?t<1?1:t>10?10:t||void 0:t,disable_login_limit:n||(n<1?1:n>20?20:n)})},__source:{fileName:x,lineNumber:201,columnNumber:9}},p.a.createElement(B,{__source:{fileName:x,lineNumber:225,columnNumber:11}})),p.a.createElement(s.a.Item,{label:Object(E.g)("登录连接超时"),field:"login_session_timeout_check",normalize:function(e){var t=e.time_out_min;return t?t<1?P(P({},e),{},{time_out_min:1}):t>10?P(P({},e),{},{time_out_min:10}):e:e},rules:[{validator:function(e,t){var n=e.time_out_min;if(n<1||n>10)return t(Object(E.g)("可输入范围1～10"))}}],__source:{fileName:x,lineNumber:227,columnNumber:9}},p.a.createElement(D,{__source:{fileName:x,lineNumber:246,columnNumber:11}}))))}}}]);