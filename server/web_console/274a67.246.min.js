(window.webpackJsonp=window.webpackJsonp||[]).push([[246],{328:function(e,t,c){"use strict";c.r(t);c(597);var n=c(226),r=(c(197),c(117)),a=c(28),l=c.n(a),o=c(50),i=c.n(o),s=c(16),u=c.n(s),d=c(0),b=c.n(d),g=c(163),p=c(1611),h=c(1646),m=c(12),f="/opt/tiger/compile_path/src/code.byted.org/biz-platform/hids/src/pages/vuln-list/vuln-content/vuln-status-modal/index.tsx";t.default=function(e){var t=e.isBatch,c=e.targetState,a=e.curState,o=e.changeType,s=e.visible,v=e.onVisibleChange,O=e.vulnList,j=e.hostList,N=e.vulnListLength,_=e.hostListLength,w=e.onSuccess,x=Object(d.useState)(""),y=i()(x,2),L=y[0],E=y[1],k=c===p.c.ignored,S=function(){v(!1),E("")},A=function(){var e=l()(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.OperateVuln)({data:{reason:L,vuln_id_list:O,agent_id_list:j,after_status:c,before_status:a}});case 2:S(),w();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return b.a.createElement(n.a,{style:{width:400},title:function(){if(t){var e=c===p.c.processed?Object(m.g)("批量处理"):c===p.c.ignored?Object(m.g)("批量忽略"):Object(m.g)("批量撤回");return b.a.createElement("div",{style:{textAlign:"left"},__source:{fileName:f,lineNumber:84,columnNumber:14}},e)}var n=c===p.c.processed?Object(m.g)("处理"):c===p.c.ignored?Object(m.g)("忽略"):Object(m.g)("撤回");return b.a.createElement("div",{style:{textAlign:"left"},__source:{fileName:f,lineNumber:94,columnNumber:12}},n)}(),visible:s,onCancel:S,onOk:A,__source:{fileName:f,lineNumber:155,columnNumber:5}},b.a.createElement("div",{__source:{fileName:f,lineNumber:162,columnNumber:7}},function(){var e;if(!t)return c===p.c.processed?"".concat(Object(m.g)("是否确定已处理？确定后，本台主机再次检测出相同漏洞，仍会提示。")):c===p.c.ignored?"".concat(Object(m.g)("是否确定忽略？忽略后，该漏洞将不会参与风险评估。")):"".concat(Object(m.g)("是否确定撤回？撤回后，本次漏洞将重新计入风险评估，状态变更为“未处理”。"));switch(o){case"vuln":return e=Object(g.isNumber)(N)?N:null==O?void 0:O.length,c===p.c.processed?"".concat(Object(m.g)("您已选择{placeholder1}项漏洞，是否确定已处理？确定后，本台主机再次检测出相同漏洞，仍会提示。",{placeholder1:e})):c===p.c.ignored?"".concat(Object(m.g)("您已选择{placeholder1}项漏洞，是否确定忽略？忽略后，该漏洞将不会参与风险评估。",{placeholder1:e})):"".concat(Object(m.g)("您已选择{placeholder1}项漏洞，是否确定撤回？撤回后，本次漏洞将重新计入风险评估，状态变更为“未处理”。",{placeholder1:e}));case"host":return function(){var e=Object(g.isNumber)(_)?_:null==j?void 0:j.length;return c===p.c.processed?"".concat(Object(m.g)("您已选择{placeholder1}项影响资产，是否确定已处理？确定后，所选主机再次检测出相同漏洞，仍会提示。",{placeholder1:e})):c===p.c.ignored?"".concat(Object(m.g)("您已选择{placeholder1}项影响资产，是否确定忽略？忽略后，该漏洞将不会参与风险评估。",{placeholder1:e})):"".concat(Object(m.g)("您已选择{placeholder1}项影响资产，是否确定撤回？撤回后，本次漏洞将重新计入风险评估，状态变更为“未处理”。",{placeholder1:e}))}();default:return""}}()),k&&b.a.createElement(r.a.TextArea,{value:L,onChange:E,style:{resize:"none"},placeholder:Object(m.g)("填写本次操作说明备注，便于后续查看"),__source:{fileName:f,lineNumber:164,columnNumber:9}}))}}}]);