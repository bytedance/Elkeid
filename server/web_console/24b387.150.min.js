(window.webpackJsonp=window.webpackJsonp||[]).push([[150,293,314,315,377],{1419:function(e,t,n){e.exports={container:"container-2af5d1dfd6","item-title":"item-title-2eb3b8db70"}},1608:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),a=n.n(r),i=n(70),c=n.n(i),u="/opt/tiger/compile_path/src/code.byted.org/biz-platform/hids/src/utils/get-display-time.tsx";function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD HH:mm:ss",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e){var r=c.a.unix(e).format(t);if(n){var i=null==r?void 0:r.split(" ");return a.a.createElement(a.a.Fragment,null,null==i?void 0:i.map((function(e){return a.a.createElement("div",{key:e,__source:{fileName:u,lineNumber:12,columnNumber:13}},e)})))}return r}return"-"}},1617:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"e",(function(){return u})),n.d(t,"c",(function(){return o})),n.d(t,"r",(function(){return c})),n.d(t,"i",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"j",(function(){return m})),n.d(t,"a",(function(){return s})),n.d(t,"m",(function(){return f})),n.d(t,"l",(function(){return p})),n.d(t,"f",(function(){return b})),n.d(t,"o",(function(){return v})),n.d(t,"q",(function(){return h})),n.d(t,"g",(function(){return g})),n.d(t,"h",(function(){return N})),n.d(t,"p",(function(){return O})),n.d(t,"k",(function(){return j})),n.d(t,"n",(function(){return D}));var r,a=n(54),i=n(12);!function(e){e.detecting="running",e.finished="finished",e.error="error"}(r||(r={}));var c,u=function(e){var t=e.params;return Object(a.b)({method:"get",url:"/api/v6/baseline/GroupStatistics",params:t},Object(i.g)("获取策略组统计信息"))},o=function(){return Object(a.b)({method:"get",url:"/api/v6/baseline/GetGroupList"},Object(i.g)("获取策略组列表"))};!function(e){e.success="success",e.failure="failed"}(c||(c={}));var s,l=function(e){var t=e.data;return Object(a.b)({method:"post",url:"/api/v6/baseline/Detect",data:t},Object(i.g)("开始基线检查"),!1)},d=function(e){var t=e.params;return Object(a.b)({method:"get",url:"/api/v6/baseline/GroupCheckStatus",params:t},Object(i.g)("策略组检测状态"))},m=function(e){var t=e.data;return Object(a.b)({method:"post",url:"/api/v6/baseline/DetectProgressDetail",data:t},Object(i.g)("基线检查进度详情"))};!function(e){e.All="",e.HasRisk="risk",e.NoRisk="unrisk"}(s||(s={}));var b,f=function(e){var t=e.data,n=e.params;return Object(a.b)({method:"post",url:"/api/v6/baseline/GetBaselineList",data:t,params:n},Object(i.g)("获取基线列表"))},p=function(e){var t=e.data,n=e.params;return Object(a.b)({method:"post",url:"/api/v6/baseline/GetBaselineDetailList",data:t,params:n},Object(i.g)("基线详情列表"))};!function(e){e.Fail="error",e.NoPass="failed",e.Pass="passed"}(b||(b={}));var g,v=function(e){var t=e.data,n=e.params;return Object(a.b)({method:"post",url:"/api/v6/baseline/GetCheckResList",data:t,params:n},Object(i.g)("检查结果列表"))},h=function(e){var t=e.data;return Object(a.b)({method:"post",url:"/api/v6/baseline/GetWhiteHostNum",data:t},Object(i.g)("获取白名单弹框主机数"))};!function(e){e[e.Part=0]="Part",e[e.All=1]="All"}(g||(g={}));var N=function(e){var t=e.data;return Object(a.b)({method:"post",url:"/api/v6/baseline/ChecklistWhiten",data:t},Object(i.g)("检查项加白"))},O=function(e){var t=e.data;return Object(a.b)({method:"post",url:"/api/v6/baseline/GetChecklistDetail",data:t},Object(i.g)("获取一个检查项详情"))};function j(e,t){return Object(a.b)({url:"/api/v6/baseline/GetBaselineCheckList",params:e,data:t,method:"POST"},Object(i.g)("获取基线对应检查项列表"))}function D(e,t){return Object(a.b)({url:"/api/v6/baseline/GetCheckHostList",params:e,data:t,method:"POST"},Object(i.g)("获取检查项影响主机列表"))}},1619:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r,a,i=n(603),c=n.n(i),u=n(0),o=n.n(u),s=n(604),l=n(12),d="/opt/tiger/compile_path/src/code.byted.org/biz-platform/hids/src/components/global/detecting-label/index.tsx",m=s.a.div(r||(r=c()(["\n  @keyframes spin {\n    0% {\n      transform: rotate(0deg) rotateX(180deg);\n    }\n    50% {\n      transform: rotate(180deg) rotateX(180deg);\n    }\n    100% {\n      transform: rotate(360deg) rotateX(180deg);\n    }\n  }\n\n  display: inline-flex;\n  align-items: center;\n  justify-content: flex-end;\n  animation: spin 1.5s linear infinite;\n  width: 12px;\n  height: 12px;\n  border-radius: 50%;\n  margin-right: 8px;\n  background: conic-gradient(\n    from 114.04deg at 50% 50%,\n    #165dff -3.75deg,\n    rgba(22, 93, 255, 0) 331.83deg,\n    #165dff 339.88deg,\n    #165dff 356.25deg,\n    rgba(22, 93, 255, 0) 691.83deg\n  );\n  &::before {\n    content: ' ';\n    height: 8px;\n    width: 8px;\n    border-radius: 50%;\n    background: #fff;\n  }\n  &::after {\n    content: ' ';\n    height: 2px;\n    width: 2px;\n    border-radius: 50%;\n    background: #165dff;\n  }\n"]))),b=s.a.div(a||(a=c()(["\n  display: inline-flex;\n  align-items: center;\n  font-size: 12px;\n  line-height: 20px;\n"])));t.b=function(e){var t=e.progress,n=e.label,r=void 0===n?Object(l.g)("检查中"):n,a=e.className,i=!!t||0===t;return o.a.createElement(b,{className:a,__source:{fileName:d,lineNumber:68,columnNumber:5}},o.a.createElement(m,{className:"arco-icon-loading",__source:{fileName:d,lineNumber:69,columnNumber:7}}),o.a.createElement("span",{__source:{fileName:d,lineNumber:70,columnNumber:7}},r),i&&o.a.createElement("span",{__source:{fileName:d,lineNumber:71,columnNumber:23}}," ",t,"%"))}},421:function(e,t,n){"use strict";n.r(t);n(162);var r=n(67),a=(n(116),n(42)),i=n(0),c=n.n(i),u=n(115),o=n.n(u),s=n(52),l=n(1619),d=n(1608),m=n(12),b=n(145),f=n(1419),p=n.n(f),g=n(811),v="/opt/tiger/compile_path/src/code.byted.org/biz-platform/hids/src/pages/baseline-detect/baseline-detail-page/overview-header/index.tsx",h=o.a.bind(p.a);t.default=function(e){var t=Object(s.f)(b.l),n=e.lastDetectTime,u=e.onProgressDetail,o=Object(i.useContext)(g.BaselineDetectDetailCtx),f=o.neverDetect,p=o.handleBaselineDetect,N=o.progress,O=o.loadingPostBaselineDetect,j=o.taskIsDetecting;return c.a.createElement("div",{className:h("container"),__source:{fileName:v,lineNumber:36,columnNumber:5}},c.a.createElement("div",{className:h("item-title"),__source:{fileName:v,lineNumber:37,columnNumber:7}},Object(m.g)("最近检查时间 (每日自动检查)：")),c.a.createElement("div",{className:h("detect-container"),__source:{fileName:v,lineNumber:38,columnNumber:7}},f?c.a.createElement("span",{className:h("no-detect"),__source:{fileName:v,lineNumber:41,columnNumber:11}},Object(m.g)("暂未检查")):j?c.a.createElement(l.b,{progress:N,label:Object(m.g)("正在检查中"),className:h("state-container"),__source:{fileName:v,lineNumber:43,columnNumber:11}}):c.a.createElement("span",{className:h("state-container"),__source:{fileName:v,lineNumber:49,columnNumber:11}},Object(d.a)(n)),j&&!f?c.a.createElement(a.a,{type:"primary",onClick:u,style:{marginLeft:20},__source:{fileName:v,lineNumber:53,columnNumber:11}},Object(m.g)("查看进度")):c.a.createElement(r.a,{disabled:t,content:Object(m.g)("当前用户无编辑权限"),__source:{fileName:v,lineNumber:57,columnNumber:11}},c.a.createElement(a.a,{disabled:!t,type:"primary",onClick:p,loading:O,style:{marginLeft:20},__source:{fileName:v,lineNumber:58,columnNumber:13}},Object(m.g)("立即检查")))))}},811:function(e,t,n){"use strict";n.r(t),n.d(t,"BaselineDetectCtx",(function(){return u})),n.d(t,"BaselineDetectDetailCtx",(function(){return o})),n.d(t,"useDetectingTransferFinish",(function(){return s})),n.d(t,"isDetectingStatus",(function(){return l})),n.d(t,"isFinishDetectStatus",(function(){return d})),n.d(t,"isTransferDetectFinish",(function(){return m})),n.d(t,"POLLING_INTERVAL_TIME",(function(){return b}));var r=n(0),a=n.n(r),i=n(163),c=n(1617),u=a.a.createContext({policyGroupId:0,policyDetectStatus:c.b.finished,loadingPostBaselineDetect:!1,neverDetect:!0,taskIsDetecting:!1,handleBaselineDetect:function(){},handleSomeDetect:function(){},handleDetectSuccess:function(){},progress:0,loadingDetectCondition:!1,baselineType:void 0}),o=a.a.createContext({policyGroupId:0,policyDetectStatus:c.b.finished,loadingPostBaselineDetect:!1,neverDetect:!0,taskIsDetecting:!1,handleBaselineDetect:function(){},handleSomeDetect:function(){},handleDetectSuccess:function(){},progress:0,loadingDetectCondition:!1,instanceId:void 0,baselineId:void 0,baselineType:void 0});function s(){var e=Object(r.useRef)();return{isTransferDetectStatus:function(t){var n,r=t.detectStatus,a=t.policyGroupId,c=null!==(n=e.current)&&void 0!==n?n:{},u=c.detectStatus,o=c.policyGroupId,s=m(r,u)&&Object(i.eq)(o,a);return e.current=t,s},preData:e}}function l(e){return e===c.b.detecting}function d(e){return e===c.b.finished}function m(e,t){return e===c.b.finished&&t===c.b.detecting}var b=1e4}}]);