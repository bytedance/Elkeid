(window.webpackJsonp=window.webpackJsonp||[]).push([[111,151,191,200,245,455,456,457,458],{1397:function(e,t,r){e.exports={container:"container-915fccefe9"}},1424:function(e,t,r){e.exports={container:"container-c71ecf3c5f","top-box":"top-box-a0cc596ab5",title:"title-379214cb6e",count:"count-34f34e4682","chart-box":"chart-box-e788a096d0"}},1425:function(e,t,r){e.exports={container:"container-963381a277","item-container":"item-container-365ab22392","item-title":"item-title-3eb6493e60","link-style":"link-style-be44061bce","item-bottom-box":"item-bottom-box-8adb6b9b9a","item-total":"item-total-d40c59222d","item-level-container":"item-level-container-eeacbdde34"}},1482:function(e,t,r){e.exports={"top-box":"top-box-64095dd403",title:"title-06c31e4886",time:"time-a37cf2ef9d","bottom-box":"bottom-box-057e505e17"}},1687:function(e,t,r){"use strict";r.r(t),r.d(t,"GetDescribeAsset",(function(){return o})),r.d(t,"EventflowEventType",(function(){return n})),r.d(t,"OverviewAlarmLevel",(function(){return l})),r.d(t,"GetOverviewAlarm",(function(){return c})),r.d(t,"GetOverviewAgentRisk",(function(){return m})),r.d(t,"GetOverviewVulnRisk",(function(){return s})),r.d(t,"GetOverviewBaselineRisk",(function(){return b})),r.d(t,"GetOverviewDescribeAgent",(function(){return v})),r.d(t,"ServiceStatusType",(function(){return u})),r.d(t,"GetServiceStatus",(function(){return d}));var n,l,i=r(54),a=r(12),o=function(){return Object(i.b)({method:"get",url:"/api/v6/overview/DescribeAsset"},Object(a.g)("获取资产概览信息"))};!function(e){e.host="host",e.rasp="rasp",e.kube="kube"}(n||(n={})),function(e){e[e.critical=0]="critical",e[e.high=1]="high",e[e.medium=2]="medium",e[e.low=3]="low"}(l||(l={}));var u,c=function(){return Object(i.b)({method:"get",url:"/api/v6/overview/alarm"},Object(a.g)("获取安全告警统计信息"))},m=function(){return Object(i.b)({method:"get",url:"/api/v6/overview/agentRisk"},Object(a.g)("获取主机风险分布信息"))},s=function(){return Object(i.b)({method:"get",url:"/api/v6/overview/vulnRisk"},Object(a.g)("获取漏洞风险数据"))},b=function(){return Object(i.b)({method:"get",url:"/api/v6/overview/baselineRisk"},Object(a.g)("获取基线风险数据"))},v=function(){return Object(i.b)({method:"get",url:"/api/v6/overview/DescribeAgent"},Object(a.g)("获取Agent概览数据"))};!function(e){e.low="low",e.middle="middle",e.high="high",e.unavailable="unavailable"}(u||(u={}));var d=function(){return Object(i.b)({method:"get",url:"/api/v6/monitor/ServiceStatus"},Object(a.g)("获取后端服务状态数据"))}},389:function(e,t,r){"use strict";r.r(t);var n=r(10),l=r.n(n),i=r(51),a=r.n(i),o=r(50),u=r.n(o),c=r(0),m=r.n(c),s=r(70),b=r.n(s),v=r(1315);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.default=function(e){var t=e.value,r=void 0===t?[]:t,n=Object(c.useState)({}),l=u()(n,1)[0],i=Object(c.useRef)(null);function o(){for(var e=Math.max.apply(Math,a()(null==r?void 0:r.map((function(e){return e.count})))),t=10;e/t>1;)t*=10;t/5>e?t/=5:t/4>e?t/=4:t/2>e&&(t/=2);var n=parseInt("".concat(t/5),10);return{min:0,max:Math.ceil(t),interval:n||1}}return Object(c.useEffect)((function(){var e,t,n,l,a={grid:{bottom:5,top:5,left:5,right:5},tooltip:{trigger:"axis",axisPointer:{z:-1},renderMode:"html"},xAxis:{show:!1,type:"category",boundaryGap:!1,data:null==r?void 0:r.map((function(e){return b.a.unix(null==e?void 0:e.date).format("MM-DD")}))},yAxis:f({show:!1,type:"value",axisTick:{alignWithLabel:!0}},o()),series:[{data:null==r?void 0:r.map((function(e){return e.count})),type:"line",cursor:"default",color:"#1664FF",areaStyle:{color:"#f1f8fe",opacity:1},lineStyle:{width:1.5,type:"solid",color:"#1664FF"},emphasis:{areaStyle:{color:"#f1f8fe",opacity:1},lineStyle:{width:1.5,type:"solid",color:"#1664FF"}},showSymbol:!1}]};null!=i&&i.current&&(null==i||null===(e=i.current)||void 0===e||null===(t=e.getEchartsInstance())||void 0===t||t.clear(),null==i||null===(n=i.current)||void 0===n||null===(l=n.getEchartsInstance())||void 0===l||l.setOption(a))}),[r]),m.a.createElement(v.a,{ref:i,option:l,style:{width:"100%",height:"100%"},__source:{fileName:"/opt/tiger/compile_path/src/code.byted.org/biz-platform/hids/src/pages/overview/intrusion-alert/alert-chart/line-chart/index.tsx",lineNumber:105,columnNumber:10}})}},390:function(e,t,r){"use strict";r.r(t);var n=r(10),l=r.n(n),i=r(0),a=r.n(i),o=r(115),u=r.n(o),c=r(1687),m=r(1397),s=r.n(m);function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d=u.a.bind(s.a);t.default=function(e){var t=e.level,r=e.count,n=e.style,l=function(){switch(t){case c.OverviewAlarmLevel.critical:return{background:"#E63F3F"};case c.OverviewAlarmLevel.high:return{background:"#846BCE"};case c.OverviewAlarmLevel.medium:return{background:"#FEC745"};case c.OverviewAlarmLevel.low:return{background:"#468DFF"};default:return{}}}();return a.a.createElement("div",{className:d("container"),style:v(v({},l),n),__source:{fileName:"/opt/tiger/compile_path/src/code.byted.org/biz-platform/hids/src/pages/overview/intrusion-alert/alert-detail/level-item/index.tsx",lineNumber:32,columnNumber:5}},null!=r?r:0)}},428:function(e,t,r){"use strict";r.r(t);r(306);var n=r(601),l=r(0),i=r.n(l),a=r(115),o=r.n(a),u=r(389),c=r(12),m=r(1424),s=r.n(m),b="/opt/tiger/compile_path/src/code.byted.org/biz-platform/hids/src/pages/overview/intrusion-alert/alert-chart/index.tsx",v=o.a.bind(s.a);t.default=function(e){var t,r,l,a,o=e.value;return i.a.createElement("div",{className:v("container"),__source:{fileName:b,lineNumber:20,columnNumber:5}},i.a.createElement("div",{className:v("top-box"),__source:{fileName:b,lineNumber:21,columnNumber:7}},i.a.createElement("div",{className:v("title"),__source:{fileName:b,lineNumber:22,columnNumber:9}},Object(c.g)("待处理告警")),i.a.createElement("div",{className:v("count"),__source:{fileName:b,lineNumber:23,columnNumber:9}},null!==(t=null==o?void 0:o.total_unhandle_alarm_num)&&void 0!==t?t:0)),i.a.createElement("div",{className:v("chart-box"),__source:{fileName:b,lineNumber:25,columnNumber:7}},null!=o&&null!==(r=o.seven_day_trend)&&void 0!==r&&r.length?i.a.createElement(u.default,{value:null!==(l=null==o||null===(a=o.seven_day_trend)||void 0===a?void 0:a.map((function(e){return{date:null==e?void 0:e.day,count:null==e?void 0:e.unhandle_alarm_num}})))&&void 0!==l?l:[],__source:{fileName:b,lineNumber:27,columnNumber:11}}):i.a.createElement(n.a,{__source:{fileName:b,lineNumber:36,columnNumber:11}})))}},429:function(e,t,r){"use strict";r.r(t),r.d(t,"Item",(function(){return p}));var n=r(80),l=r(0),i=r.n(l),a=r(55),o=r(115),u=r.n(o),c=r(390),m=r(1687),s=r(12),b=r(1425),v=r.n(b),d="/opt/tiger/compile_path/src/code.byted.org/biz-platform/hids/src/pages/overview/intrusion-alert/alert-detail/index.tsx",f=u.a.bind(v.a),p=function(e){var t,r,l,o,u,s=e.title,b=e.link,v=e.countObj,p=Object(a.g)();return i.a.createElement("div",{className:f("item-container"),__source:{fileName:d,lineNumber:35,columnNumber:5}},i.a.createElement("div",{onClick:function(){b&&p.push(b)},className:f("item-title",b?"link-style":""),__source:{fileName:d,lineNumber:36,columnNumber:7}},s,b?i.a.createElement(n.a,{style:{marginLeft:5},__source:{fileName:d,lineNumber:45,columnNumber:17}}):null),i.a.createElement("div",{className:f("item-bottom-box"),__source:{fileName:d,lineNumber:47,columnNumber:7}},i.a.createElement("div",{className:f("item-total"),__source:{fileName:d,lineNumber:48,columnNumber:9}},null!==(t=null==v?void 0:v.total)&&void 0!==t?t:0),i.a.createElement("div",{className:f("item-level-container"),__source:{fileName:d,lineNumber:49,columnNumber:9}},i.a.createElement(c.default,{style:{marginRight:8},level:m.OverviewAlarmLevel.critical,count:null!==(r=null==v?void 0:v.critical)&&void 0!==r?r:0,__source:{fileName:d,lineNumber:50,columnNumber:11}}),i.a.createElement(c.default,{style:{marginRight:8},level:m.OverviewAlarmLevel.high,count:null!==(l=null==v?void 0:v.high)&&void 0!==l?l:0,__source:{fileName:d,lineNumber:55,columnNumber:11}}),i.a.createElement(c.default,{style:{marginRight:8},level:m.OverviewAlarmLevel.medium,count:null!==(o=null==v?void 0:v.medium)&&void 0!==o?o:0,__source:{fileName:d,lineNumber:60,columnNumber:11}}),i.a.createElement(c.default,{level:m.OverviewAlarmLevel.low,count:null!==(u=null==v?void 0:v.low)&&void 0!==u?u:0,__source:{fileName:d,lineNumber:65,columnNumber:11}}))))},N={critical_num:0,high_num:0,medium_num:0,low_num:0,total_num:0};t.default=function(e){var t,r,n,l=e.value,a=[{title:Object(s.g)("主机和容器安全告警"),link:"alarm-list",countObj:null!==(t=null==l?void 0:l.host_alarm)&&void 0!==t?t:N},{title:Object(s.g)("应用运行时安全告警"),link:"rasp-alarm-list",countObj:null!==(r=null==l?void 0:l.rasp_alarm)&&void 0!==r?r:N},{title:Object(s.g)("容器集群安全告警"),link:"kube-alarm-list",countObj:null!==(n=null==l?void 0:l.kube_alarm)&&void 0!==n?n:N}];return i.a.createElement("div",{className:f("container"),__source:{fileName:d,lineNumber:119,columnNumber:5}},null==a?void 0:a.map((function(e){var t,r,n,l,a;return i.a.createElement(p,{link:e.link,title:e.title,countObj:{critical:null==e||null===(t=e.countObj)||void 0===t?void 0:t.critical_num,high:null==e||null===(r=e.countObj)||void 0===r?void 0:r.high_num,medium:null==e||null===(n=e.countObj)||void 0===n?void 0:n.medium_num,low:null==e||null===(l=e.countObj)||void 0===l?void 0:l.low_num,total:null==e||null===(a=e.countObj)||void 0===a?void 0:a.total_num},key:e.title,__source:{fileName:d,lineNumber:121,columnNumber:9}})})))}},465:function(e,t,r){"use strict";r.r(t);var n=r(28),l=r.n(n),i=r(16),a=r.n(i),o=r(0),u=r.n(o),c=r(1292),m=r(115),s=r.n(m),b=r(596),v=r(196),d=r(428),f=r(429),p=r(1687),N=r(12),g=r(1482),O=r.n(g),_="/opt/tiger/compile_path/src/code.byted.org/biz-platform/hids/src/pages/overview/intrusion-alert/index.tsx",h=s.a.bind(O.a);t.default=function(){var e=Object(c.a)(l()(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.GetOverviewAlarm)();case 2:return t=e.sent,e.abrupt("return",null==t?void 0:t.data);case 4:case"end":return e.stop()}}),e)}))),{auto:!0}),t=e.data,r=e.loading,n=e.refresh,i=e.error;return u.a.createElement(v.a,{error:i,errorStyle:{marginTop:20},onReload:n,loading:r,__source:{fileName:_,lineNumber:29,columnNumber:5}},u.a.createElement(b.a,{containerStyle:{minHeight:266,maxHeight:266,marginBottom:16},isCard:!0,title:u.a.createElement("div",{className:h("top-box"),__source:{fileName:_,lineNumber:43,columnNumber:11}},u.a.createElement("div",{className:h("title"),__source:{fileName:_,lineNumber:44,columnNumber:13}},Object(N.g)("入侵告警")),u.a.createElement("div",{className:h("time"),__source:{fileName:_,lineNumber:45,columnNumber:13}},Object(N.g)("近 7 天"))),__source:{fileName:_,lineNumber:35,columnNumber:7}},u.a.createElement("div",{className:h("bottom-box"),__source:{fileName:_,lineNumber:49,columnNumber:9}},u.a.createElement(d.default,{value:t,__source:{fileName:_,lineNumber:50,columnNumber:11}}),u.a.createElement(f.default,{value:t,__source:{fileName:_,lineNumber:51,columnNumber:11}}))))}}}]);