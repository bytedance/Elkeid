(window.webpackJsonp=window.webpackJsonp||[]).push([[14,408],{1353:function(e,t,n){e.exports={"basic-info-item-container":"basic-info-item-container-f63d77434b","item-title":"item-title-14424d89ea","item-content":"item-content-0f1e0e0e6c",col:"col-5523dffe2e"}},1643:function(e,t,n){"use strict";n(162);var l=n(67),i=n(0),a=n.n(i),o=n(115),u=n.n(o),r=n(1651),c=n.n(r),m="/opt/tiger/compile_path/src/code.byted.org/biz-platform/hids/src/components/common/content-more-component/index.tsx",s=u.a.bind(c.a);t.a=function(e){var t,n,i=e.value;return a.a.createElement("div",{className:s("container"),__source:{fileName:m,lineNumber:15,columnNumber:5}},a.a.createElement("div",{__source:{fileName:m,lineNumber:16,columnNumber:7}},null!==(t=null==i?void 0:i[0])&&void 0!==t?t:"-"),(null==i?void 0:i.length)>1?a.a.createElement(l.a,{content:a.a.createElement("div",{className:s("tootip-content-container"),__source:{fileName:m,lineNumber:20,columnNumber:13}},null==i||null===(n=i.slice(1))||void 0===n?void 0:n.map((function(e,t){return a.a.createElement("div",{key:t,__source:{fileName:m,lineNumber:22,columnNumber:17}},e)}))),getPopupContainer:function(){var e;return null===(e=document.getElementsByTagName("body"))||void 0===e?void 0:e[0]},__source:{fileName:m,lineNumber:18,columnNumber:9}},a.a.createElement("div",{className:s("more-tag"),__source:{fileName:m,lineNumber:28,columnNumber:11}},"+",(null==i?void 0:i.length)-1)):null)}},1651:function(e,t,n){e.exports={container:"container-6d09a24e4a","more-tag":"more-tag-75ce26381f","tootip-content-container":"tootip-content-container-5ead864ae3"}},1680:function(e,t,n){"use strict";n.d(t,"a",(function(){return _})),n.d(t,"b",(function(){return p}));n(597);var l,i=n(226),a=n(51),o=n.n(a),u=n(50),r=n.n(u),c=(n(600),n(198)),m=n(0),s=n.n(m),d=n(115),b=n.n(d),N=n(1634),f=n(12);function v(){return(v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e}).apply(this,arguments)}var _,p,g=function(e){return s.a.createElement("svg",v({width:12,height:12,fill:"none"},e),l||(l=s.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.298 3.348a.5.5 0 00-.707 0L6 4.94 4.409 3.35a.5.5 0 00-.707 0l-.354.353a.5.5 0 000 .707L4.94 6 3.35 7.591a.5.5 0 000 .707l.353.354a.5.5 0 00.707 0L6 7.06l1.591 1.59a.5.5 0 00.707 0l.354-.353a.5.5 0 000-.707L7.06 6l1.59-1.591a.5.5 0 000-.707l-.353-.354z",fill:"#4E5969"})))},h=n(1684),y=n.n(h),O="/opt/tiger/compile_path/src/code.byted.org/biz-platform/hids/src/components/common/add-edit-tag-modal/index.tsx",E=b.a.bind(y.a),j=c.a.Option;!function(e){e[e.add=0]="add",e[e.edit=1]="edit"}(_||(_={})),function(e){e[e.event=0]="event",e[e.host=1]="host"}(p||(p={}));t.c=function(e){var t=e.type,n=e.onCancel,l=e.onConfirm,a=e.visible,u=e.value,d=e.whichModule,b=void 0===d?p.host:d,v=e.tips,h=e.max,y=e.queryEventTagList,w=Object(m.useState)([]),S=r()(w,2),x=S[0],P=S[1],C=Object(m.useState)([]),B=r()(C,2),k=B[0],I=B[1],M=Object(m.useState)(""),D=r()(M,2),F=D[0],T=D[1];return Object(m.useEffect)((function(){I(u)}),[u]),Object(m.useEffect)((function(){a&&(b===p.host?Object(N.DescribeTags)().then((function(e){var t=e.data;P(null!=t?t:[])})):b===p.event&&y().then((function(e){var t,n=e.data;P(null!==(t=null==n?void 0:n.tag_list)&&void 0!==t?t:[])})))}),[a]),s.a.createElement(i.a,{title:s.a.createElement("div",{style:{textAlign:"left"},__source:{fileName:O,lineNumber:75,columnNumber:9}},t===_.add?Object(f.g)("批量添加标签"):Object(f.g)("编辑标签")),visible:a,onOk:function(){l(k)},style:{width:600},onCancel:function(){n(),I([])},autoFocus:!1,focusLock:!0,__source:{fileName:O,lineNumber:73,columnNumber:5}},s.a.createElement("div",{className:E("select-container"),__source:{fileName:O,lineNumber:91,columnNumber:7}},s.a.createElement("span",{className:E("label"),__source:{fileName:O,lineNumber:92,columnNumber:9}},b===p.event?Object(f.g)("事件标签"):Object(f.g)("主机标签")),s.a.createElement(c.a,{mode:"multiple",placeholder:Object(f.g)("请输入英文或数字，最多10个字符"),style:{width:496},value:k,onChange:function(e){I(e)},removeIcon:s.a.createElement(g,{__source:{fileName:O,lineNumber:103,columnNumber:23}}),inputValue:F,onInputValueChange:function(e){if(h&&(null==k?void 0:k.length)===h){if(!/^[0-9a-zA-Z]{0,10}$|^[0-9a-zA-Z]{1,10}$/.test(e))return;T(e)}else if(/^[0-9a-zA-Z]{0,10}$|^[0-9a-zA-Z]{1,10};$/.test(e))if((null==e?void 0:e.length)>1&&";"===(null==e?void 0:e[(null==e?void 0:e.length)-1])){var t=null==e?void 0:e.slice(0,(null==e?void 0:e.length)-1),n=null==k?void 0:k.findIndex((function(e){return e===t}));-1===n?I([].concat(o()(k),[t])):(k.splice(n,1),I(o()(k))),T("")}else T(e)},getPopupContainer:function(e){return e},allowCreate:!h||h&&(null==k?void 0:k.length)<h,allowClear:!0,__source:{fileName:O,lineNumber:95,columnNumber:9}},x.map((function(e){return s.a.createElement(j,{disabled:!!h&&((null==k?void 0:k.length)===h&&!(null!=k&&k.includes(e))),key:e,value:e,__source:{fileName:O,lineNumber:136,columnNumber:13}},e)})))),s.a.createElement("div",{className:E("tips"),__source:{fileName:O,lineNumber:146,columnNumber:7}},v||Object(f.g)("可添加多个标签，使用“;”或回车分隔")))}},1683:function(e,t,n){"use strict";var l;n.d(t,"a",(function(){return l})),function(e){e[e.B=Math.pow(1024,0)]="B",e[e.KB=Math.pow(1024,1)]="KB",e[e.MB=Math.pow(1024,2)]="MB",e[e.GB=Math.pow(1024,3)]="GB",e[e.TB=Math.pow(1024,4)]="TB",e[e.PB=Math.pow(1024,5)]="PB"}(l||(l={})),t.b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.MB,n=Math.abs(e);if(!e)return{displayCount:0,displayUnit:"B"};for(var i=Object.values(l).filter((function(e){return"string"==typeof e})).map((function(e){return e})),a=Object.values(l).filter((function(e){return"number"==typeof e})).map((function(e){return e})),o=0;o<i.length;o++){var u,r,c,m,s=n;if(0!==o)s=parseFloat(null===(u=n/a[o])||void 0===u?void 0:u.toFixed(2));if(s<10)return{displayCount:null===(r=s)||void 0===r?void 0:r.toFixed(2),displayUnit:i[o]};if(s>=10&&s<100)return{displayCount:null===(c=s)||void 0===c?void 0:c.toFixed(1),displayUnit:i[o]};if(s>=100&&s<1e3)return{displayCount:null===(m=s)||void 0===m?void 0:m.toFixed(0),displayUnit:i[o]};if(a[o]===t)break}return{displayCount:"999+",displayUnit:l[t]}}},1684:function(e,t,n){e.exports={"select-container":"select-container-d3cc3ca58c",label:"label-fcefb58d85",tips:"tips-a3a1efbcba"}},342:function(e,t,n){"use strict";n.r(t),n.d(t,"BasicInfoItem",(function(){return L}));n(306);var l=n(601),i=n(51),a=n.n(i),o=n(28),u=n.n(o),r=n(50),c=n.n(r),m=(n(803),n(227)),s=n(10),d=n.n(s),b=n(16),N=n.n(b),f=n(0),v=n.n(f),_=n(799),p=n(115),g=n.n(p),h=n(164),y=n.n(h),O=n(52),E=n(1680),j=n(596),w=n(1643),S=n(1697),x=n(1664),P=n(1634),C=n(1683),B=n(1608),k=n(12),I=n(145),M=n(1353),D=n.n(M),F="/opt/tiger/compile_path/src/code.byted.org/biz-platform/hids/src/pages/host-detail/host-overview/basic-info/index.tsx";function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){d()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var z=g.a.bind(D.a),L=function(e){var t=e.title,n=e.content,l=e.titleStyle,i=e.contentStyle,a=e.isString,o=void 0===a?"string"==typeof n:a;return v.a.createElement("div",{className:z("basic-info-item-container"),__source:{fileName:F,lineNumber:41,columnNumber:5}},v.a.createElement("div",{className:z("item-title"),style:U({},l),__source:{fileName:F,lineNumber:42,columnNumber:7}},v.a.createElement(_.a,{__source:{fileName:F,lineNumber:43,columnNumber:9}},t)),v.a.createElement("div",{className:z("item-content"),style:U({},i),__source:{fileName:F,lineNumber:45,columnNumber:7}},o?v.a.createElement(m.a.Paragraph,{ellipsis:{rows:1,showTooltip:!0},style:{marginBottom:0},__source:{fileName:F,lineNumber:47,columnNumber:11}},n):n))};t.default=function(e){var t,n,i,o,r,m,s,d,b,_,p,g,h,M,D,T,U,A,Z,$,G,R,J,K,V,W,q,H,Q=e.data,X=e.onRefresh,Y=Object(f.useState)(!1),ee=c()(Y,2),te=ee[0],ne=ee[1],le=Object(f.useState)([]),ie=c()(le,2),ae=ie[0],oe=ie[1],ue=null===(t=y.a.parse(location.search))||void 0===t?void 0:t.agentId,re=Object(O.f)(I.k);function ce(){return(ce=u()(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ue){e.next=5;break}return e.next=3,Object(P.UpdateTags)({data:{tags:t,id_list:[ue]}});case 3:ne(!1),X();case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function me(){return(me=u()(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ue){e.next=4;break}return e.next=3,Object(P.DeleteTags)({data:{tags:[t],id_list:[ue]}});case 3:X();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return v.a.createElement(j.a,{title:Object(k.g)("基础信息"),containerStyle:{minWidth:1200,maxWidth:"85%",margin:"0 auto",minHeight:204},contentStyle:{display:"flex",marginTop:20},__source:{fileName:F,lineNumber:85,columnNumber:5}},Q?v.a.createElement(v.a.Fragment,null,v.a.createElement("div",{className:z("col"),__source:{fileName:F,lineNumber:92,columnNumber:11}},v.a.createElement(L,{title:Object(k.g)("主机名称"),content:null!==(n=null==Q?void 0:Q.hostname)&&void 0!==n?n:"-",titleStyle:{width:64},__source:{fileName:F,lineNumber:93,columnNumber:13}}),v.a.createElement(L,{title:Object(k.g)("主机ID"),content:null!==(i=null==Q?void 0:Q.agent_id)&&void 0!==i?i:"-",titleStyle:{width:64},__source:{fileName:F,lineNumber:98,columnNumber:13}}),v.a.createElement(L,{title:Object(k.g)("操作系统"),content:"".concat(null!==(o=null==Q?void 0:Q.platform)&&void 0!==o?o:"-",":").concat(null!==(r=null==Q?void 0:Q.platform_version)&&void 0!==r?r:"-"),titleStyle:{width:64},__source:{fileName:F,lineNumber:103,columnNumber:13}}),v.a.createElement(L,{title:Object(k.g)("主机标签"),content:null!=Q&&null!==(m=Q.tags)&&void 0!==m&&m.length?v.a.createElement("div",{style:{margin:"-8px 0 0 -4px",height:20},__source:{fileName:F,lineNumber:112,columnNumber:19}},v.a.createElement(x.a,{value:null!==(s=null==Q?void 0:Q.tags)&&void 0!==s?s:[],showNum:2,isEditable:re,onEdit:function(e){oe(a()(e)),ne(!0)},onDelete:function(e){return me.apply(this,arguments)},__source:{fileName:F,lineNumber:113,columnNumber:21}})):"-",titleStyle:{width:64},isString:!1,__source:{fileName:F,lineNumber:108,columnNumber:13}}),v.a.createElement(L,{title:Object(k.g)("设备型号"),content:null!==(d=null==Q?void 0:Q.host_model)&&void 0!==d?d:"-",titleStyle:{width:64},__source:{fileName:F,lineNumber:131,columnNumber:13}}),v.a.createElement(L,{title:Object(k.g)("生产商"),content:null!==(b=null==Q?void 0:Q.host_vendor)&&void 0!==b?b:"-",titleStyle:{width:64},__source:{fileName:F,lineNumber:136,columnNumber:13}}),v.a.createElement(L,{title:Object(k.g)("系统负载"),content:"".concat(null!==(_=null==Q?void 0:Q.load_1)&&void 0!==_?_:"-","/").concat(null!==(p=null==Q?void 0:Q.load_5)&&void 0!==p?p:"-","/").concat(null!==(g=null==Q?void 0:Q.load_15)&&void 0!==g?g:"-"),titleStyle:{width:64},__source:{fileName:F,lineNumber:141,columnNumber:13}})),v.a.createElement("div",{className:z("col"),__source:{fileName:F,lineNumber:147,columnNumber:11}},v.a.createElement(L,{title:Object(k.g)("公网IPv4"),content:null!=Q&&null!==(h=Q.extranet_ipv4)&&void 0!==h&&h.length?v.a.createElement(w.a,{value:Q.extranet_ipv4,__source:{fileName:F,lineNumber:152,columnNumber:19}}):"-",titleStyle:{width:66},__source:{fileName:F,lineNumber:148,columnNumber:13}}),v.a.createElement(L,{title:Object(k.g)("公网IPv6"),content:null!=Q&&null!==(M=Q.extranet_ipv6)&&void 0!==M&&M.length?v.a.createElement(w.a,{value:Q.extranet_ipv6,__source:{fileName:F,lineNumber:163,columnNumber:19}}):"-",titleStyle:{width:66},__source:{fileName:F,lineNumber:159,columnNumber:13}}),v.a.createElement(L,{title:Object(k.g)("私网IPv4"),content:null!=Q&&null!==(D=Q.intranet_ipv4)&&void 0!==D&&D.length?v.a.createElement(w.a,{value:Q.intranet_ipv4,__source:{fileName:F,lineNumber:174,columnNumber:19}}):"-",titleStyle:{width:66},__source:{fileName:F,lineNumber:170,columnNumber:13}}),v.a.createElement(L,{title:Object(k.g)("私网IPv6"),content:null!=Q&&null!==(T=Q.intranet_ipv6)&&void 0!==T&&T.length?v.a.createElement(w.a,{value:Q.intranet_ipv6,__source:{fileName:F,lineNumber:185,columnNumber:19}}):"-",titleStyle:{width:66},isString:!1,__source:{fileName:F,lineNumber:181,columnNumber:13}}),v.a.createElement(L,{title:Object(k.g)("CPU信息"),content:"".concat(null!==(U=null==Q?void 0:Q.cpu_name)&&void 0!==U?U:"-","/").concat(null!==(A=null==Q?void 0:Q.nproc)&&void 0!==A?A:"-"),titleStyle:{width:66},__source:{fileName:F,lineNumber:193,columnNumber:13}}),v.a.createElement(L,{title:Object(k.g)("内存大小"),content:null!=Q&&Q.total_mem?(W=Object(C.b)(Number(null==Q?void 0:Q.total_mem),C.a.GB),q=W.displayCount,H=W.displayUnit,"".concat(q," ").concat(H)):"-",titleStyle:{width:66},__source:{fileName:F,lineNumber:198,columnNumber:13}}),v.a.createElement(L,{title:Object(k.g)("默认网关"),content:null!==(Z=null==Q?void 0:Q.gateway)&&void 0!==Z?Z:"-",titleStyle:{width:66},__source:{fileName:F,lineNumber:214,columnNumber:13}})),v.a.createElement("div",{className:z("col"),__source:{fileName:F,lineNumber:220,columnNumber:11}},v.a.createElement(L,{title:Object(k.g)("地域"),content:null!==($=null==Q?void 0:Q.idc)&&void 0!==$?$:"-",titleStyle:{width:76},__source:{fileName:F,lineNumber:221,columnNumber:13}}),v.a.createElement(L,{title:Object(k.g)("内核版本"),content:null!==(G=null==Q?void 0:Q.kernel_version)&&void 0!==G?G:"-",titleStyle:{width:76},__source:{fileName:F,lineNumber:226,columnNumber:13}}),v.a.createElement(L,{title:Object(k.g)("网络模式"),content:null!==(R=null==Q?void 0:Q.net_mode)&&void 0!==R?R:"-",titleStyle:{width:76},__source:{fileName:F,lineNumber:231,columnNumber:13}}),v.a.createElement(L,{title:Object(k.g)("客户端状态"),content:null!=Q&&Q.status?v.a.createElement(S.a,{value:null==Q?void 0:Q.status,detail:null==Q?void 0:Q.state_detail,__source:{fileName:F,lineNumber:240,columnNumber:19}}):"-",titleStyle:{width:76},__source:{fileName:F,lineNumber:236,columnNumber:13}}),v.a.createElement(L,{title:Object(k.g)("CPU使用率"),content:null!=Q&&Q.cpu_usage?"".concat(Number(100*(null==Q?void 0:Q.cpu_usage)).toFixed(2),"%"):"-",titleStyle:{width:74},__source:{fileName:F,lineNumber:247,columnNumber:13}}),v.a.createElement(L,{title:Object(k.g)("内存使用率"),content:null!=Q&&Q.mem_usage?"".concat(Number(100*(null==Q?void 0:Q.mem_usage)).toFixed(2),"%"):"-",titleStyle:{width:76},__source:{fileName:F,lineNumber:252,columnNumber:13}}),v.a.createElement(L,{title:Object(k.g)("DNS服务器"),content:null!=Q&&null!==(J=Q.dns)&&void 0!==J&&J.split(",").length?v.a.createElement(w.a,{value:Q.dns.split(","),__source:{fileName:F,lineNumber:261,columnNumber:19}}):"-",titleStyle:{width:76},__source:{fileName:F,lineNumber:257,columnNumber:13}})),v.a.createElement("div",{className:z("col"),__source:{fileName:F,lineNumber:269,columnNumber:11}},v.a.createElement(L,{title:Object(k.g)("系统启动时间"),content:Object(B.a)((null==Q?void 0:Q.boot_time)||(null==Q?void 0:Q.boot_at)),titleStyle:{width:100},__source:{fileName:F,lineNumber:270,columnNumber:13}}),v.a.createElement(L,{title:Object(k.g)("最近活跃时间"),content:Object(B.a)(null==Q?void 0:Q.last_heartbeat_time),titleStyle:{width:100},__source:{fileName:F,lineNumber:275,columnNumber:13}}),v.a.createElement(L,{title:Object(k.g)("客户端安装时间"),content:Object(B.a)(null==Q?void 0:Q.first_heartbeat_time),titleStyle:{width:100},__source:{fileName:F,lineNumber:280,columnNumber:13}}),v.a.createElement(L,{title:Object(k.g)("客户端启动时间"),content:Object(B.a)((null==Q?void 0:Q.start_time)||(null==Q?void 0:Q.started_at)),titleStyle:{width:100},__source:{fileName:F,lineNumber:285,columnNumber:13}}),v.a.createElement(L,{title:Object(k.g)("设备序列号"),content:null!==(K=null==Q?void 0:Q.host_serial)&&void 0!==K?K:"-",titleStyle:{width:100},__source:{fileName:F,lineNumber:290,columnNumber:13}}),v.a.createElement(L,{title:Object(k.g)("设备ID"),content:null!==(V=null==Q?void 0:Q.host_id)&&void 0!==V?V:"-",titleStyle:{width:100},__source:{fileName:F,lineNumber:295,columnNumber:13}}))):v.a.createElement(l.a,{__source:{fileName:F,lineNumber:303,columnNumber:9}}),v.a.createElement(E.c,{type:E.a.edit,visible:te,value:ae,onCancel:function(){ne(!1)},onConfirm:function(e){return ce.apply(this,arguments)},__source:{fileName:F,lineNumber:305,columnNumber:7}}))}}}]);